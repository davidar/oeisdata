# Josephus problem: a\(2\*n\) \= 2\*a\(n\)\-1, a\(2\*n\+1\) \= 2\*a\(n\)\+1\.
https://oeis.org/A006257
## JSON
```JSON
[0, 1, 1, 3, 1, 3, 5, 7, 1, 3, 5, 7, 9, 11, 13, 15, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29]
```
## Maple
```Maple
a(0):=0: for n from 1 to 100 do a(n):=(a(n-1)+1) mod n +1: end do:
seq(a(i),i=0..100); # _Paul Weisenhorn_, Oct 10 2010; corrected by _Robert Israel_, Jan 13 2016
A006257 := proc(n)
    convert(n,base,2) ;
    ListTools[Rotate](%,-1) ;
    add( op(i,%)*2^(i-1),i=1..nops(%)) ;
end proc: # _R. J. Mathar_, May 20 2016
A006257 := n -> 2*n  - Bits:-Iff(n, n):
seq(A006257(n), n=0..78); # _Peter Luschny_, Sep 24 2019
```
## Mathematica
```Mathematica
Table[ FromDigits[ RotateLeft[ IntegerDigits[n, 2]], 2], {n, 0, 80}] (* _Robert G. Wilson v_, Sep 21 2003 *)
```
```Mathematica
Flatten@Table[Range[1, 2^n - 1, 2], {n, 0, 5}] (* _Birkas Gyorgy_, Feb 07 2011 *)
```
```Mathematica
m = 5; Range[2^m - 1] + 1 - Flatten@Table[Reverse@Range[2^n], {n, 0, m - 1}] (* _Birkas Gyorgy_, Feb 07 2011 *)
```
## PARI
```PARI
a(n)=sum(k=1,n,if(bitxor(n,k)<n,1,0)) \\ _Paul D. Hanna_
```
```PARI
a(n)=if(n, 2*n-2^logint(2*n,2)+1, 0) \\ _Charles R Greathouse IV_, Oct 29 2016
```
## Haskell
```Haskell
a006257 n = a006257_list !! n
a006257_list =
   0 : 1 : (map (+ 1) $ zipWith mod (map (+ 1) $ tail a006257_list) [2..])
-- _Reinhard Zumkeller_, Oct 06 2011
```
## Magma
```Magma
[0] cat [2*(n-2^Floor(Log(2,n)))+1: n in [1..100]]; // _Vincenzo Librandi_, Jan 14 2016
```
## Python
```Python
import math
def A006257(n):
     return 0 if n==0 else 2*(n-2**int(math.log(n,2)))+1 # _Indranil Ghosh_, Jan 11 2017
```
```Python
def A006257(n): return bool(n&(m:=1<<n.bit_length()-1))+((n&m-1)<<1) if n else 0 # _Chai Wah Wu_, Jan 22 2023
```
## C#
```C#
static long cs_A006257(this long n) => n == 0 ? 0 : 1 + (1 + (n - 1).cs_A006257()) % n; // _Frank Hollstein_, Feb 24 2021
```
## Coq
```Coq
Require Import ZArith.
Fixpoint a (n : positive) : Z :=
match n with
| xH => 1
| xI n' => (2*(a n') + 1)%Z
| xO n' => (2*(a n') - 1)%Z
end.
(* _Stefan Haan_, Aug 27 2023 *)
```
