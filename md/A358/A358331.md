# Number of integer partitions of n with arithmetic and geometric mean differing by one\.
https://oeis.org/A358331
## JSON
```JSON
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 2, 0, 2, 0, 1, 1, 0, 3, 3, 0, 0, 2, 2, 0, 4, 0, 0, 5, 0, 0, 4, 5, 4, 3, 2, 0, 3, 3, 10, 4, 0, 0, 7, 0, 0, 16, 2, 4, 4, 0, 0, 5, 24, 0, 6, 0, 0, 9, 0, 27, 10, 0, 7, 7, 1, 0, 44]
```
## Mathematica
```Mathematica
Table[Length[Select[IntegerPartitions[n],Mean[#]==1+GeometricMean[#]&]],{n,0,30}]
```
## PARI
```PARI
a(n) = if (n, my(nb=0,vp); forpart(p=n, vp=Vec(p); if (vecsum(vp)/#p == 1 + sqrtn(vecprod(vp), #p), nb++)); nb, 0); \\ _Michel Marcus_, Nov 11 2022
```
## Python
```Python
from math import prod
from sympy import divisors, integer_nthroot
from sympy.utilities.iterables import partitions
def A358331(n):
    divs = {d:n//d-1 for d in divisors(n,generator=True)}
    return sum(1 for s,p in partitions(n,m=max(divs,default=0),size=True) if s in divs and (t:=integer_nthroot(prod(a**b for a, b in p.items()),s))[1] and divs[s]==t[0]) # _Chai Wah Wu_, Sep 24 2023
```
