# a\(n\) \= n minus \(number of 1's in binary expansion of n\)\. Also highest power of 2 dividing n\!\.
https://oeis.org/A011371
## JSON
```JSON
[0, 0, 1, 1, 3, 3, 4, 4, 7, 7, 8, 8, 10, 10, 11, 11, 15, 15, 16, 16, 18, 18, 19, 19, 22, 22, 23, 23, 25, 25, 26, 26, 31, 31, 32, 32, 34, 34, 35, 35, 38, 38, 39, 39, 41, 41, 42, 42, 46, 46, 47, 47, 49, 49, 50, 50, 53, 53, 54, 54, 56, 56, 57, 57, 63, 63, 64, 64, 66, 66, 67, 67, 70]
```
## Maple
```Maple
A011371(n) = RETURN(((2^(l))-1)+sum('(j*floor((n-(2^l)+2^j)/(2^(j+1))))','j'=1..l)); # after K. Atanassov. Here l is [ log2(n) ].
A011371 := n -> n - add(i,i=convert(n,base,2)): # _Peter Luschny_, May 02 2009
read("transforms") : A011371 := proc(n) n-wt(n) ; end proc: # _R. J. Mathar_, May 15 2013
```
## Mathematica
```Mathematica
-1 + Length[ Last[ Split[ IntegerDigits[ 2(n!), 2 ] ] ] ], FoldList[ Plus, 0, Fold[ Flatten[ {#1, #2, #1} ]&, 0, Range[ 6 ] ] ]
```
```Mathematica
Table[IntegerExponent[n!, 2], {n, 0, 127}]
```
```Mathematica
Table[n - DigitCount[n, 2, 1], {n, 0, 127}]
```
```Mathematica
Table[t = 0; p = 2; While[s = Floor[n/p]; t = t + s; s > 0, p *= 2]; t, {n, 0, 100} ]
```
## PARI
```PARI
{a(n) = if( n<0, 0, valuation(n!, 2))}; /* _Michael Somos_, Oct 24 2002 */
```
```PARI
{a(n) = if( n<0, 0, sum(k=1, n, n\2^k))}; /* _Michael Somos_, Oct 24 2002 */
```
```PARI
{a(n) = if( n<0, 0, n - subst( Pol( binary( n ) ), x, 1))}; /* _Michael Somos_, Aug 28 2007 */
```
```PARI
a(n)=sum(k=1,log(n+1)\log(2),n>>k) \\ _Charles R Greathouse IV_, Oct 03 2012
```
```PARI
a(n)=my(s);while(n>>=1,s+=n);s \\ _Charles R Greathouse IV_, Aug 09 2013
```
```PARI
a(n) = n - hammingweight(n); \\ _Michel Marcus_, Jun 05 2014
```
## Magma
```Magma
[Valuation(Factorial(n), 2): n in [0..80]]; // _Bruno Berselli_, Aug 05 2013
```
## Haskell
```Haskell
a011371 n = n - a000120 n  -- _Reinhard Zumkeller_, Jan 24 2014
```
## Python
```Python
[n - bin(n)[2:].count("1") for n in range(101)] # _Indranil Ghosh_, Apr 09 2017
```
```Python
# 3.10+
def A011371(n): return n-n.bit_count() # _Chai Wah Wu_, Jul 09 2022
```
