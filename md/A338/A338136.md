# a\(n\) is the least k \>\= 2 such that \(n\+1\)^k mod n^j is a perfect power \> 1 for some j \>\= 2 with n^j < \(n\+1\)^k\.
https://oeis.org/A338136
## JSON
```JSON
[6, 4, 2, 3, 4, 3, 3, 7, 8, 9, 2, 2, 10, 8, 3, 15, 16, 17, 4, 3, 11, 21, 2, 23, 20, 25, 6, 27, 4, 4, 7, 3, 32, 24, 4, 27, 9, 5, 2, 39, 4, 5, 10, 8, 44, 45, 6, 47, 48, 5, 12, 51, 52, 8, 3, 6, 56]
```
## Maple
```Maple
f:= proc(n) local k,x,j,F;
  for k from 2 to n-2 do
   x:= (n+1)^k;
    for j from 2 to floor(k*log[n](n+1)) do
     F:= ifactors(x mod (n^j))[2];
     if igcd(op(map(t -> t[2],F))) > 1 then return k fi
  od od
end proc:
f(2):= 6: f(3):= 4:
map(f, [$2..40]);
```
## Mathematica
```Mathematica
f[n_] := Module[{k, x, j, F}, For[k = 2, k <= n-2, k++, x = (n+1)^k; For[j = 2, j <= Floor[k*Log[n, n+1]], j++, F = FactorInteger[Mod[x, n^j]]; If[GCD@@F[[All, 2]] > 1, Return[k] ]]]];
```
```Mathematica
f[2] = 6; f[3] = 4;
```
```Mathematica
Map[f, Range[2, 40]] (* _Jean-Fran√ßois Alcover_, May 28 2023, after Maple program *)
```
## Python
```Python
from gmpy2 import is_power
def A338136(n):
    k, n2, m = 2,  n**2, (n+1)**2
    while True:
        j, nj = 2, n2
        while nj < m:
            r = m % nj
            if r > 1 and is_power(r):
                return k
            nj *= n
        k += 1
        m *= n+1 # _Chai Wah Wu_, Oct 13 2020
```
