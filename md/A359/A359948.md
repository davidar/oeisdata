# Lexicographically earliest sequence of primes whose partial products lie between noncomposite numbers\.
https://oeis.org/A359948
## JSON
```JSON
[2, 2, 3, 5, 3, 13, 5, 7, 41, 13, 83, 109, 347, 337, 127, 67, 379, 499, 739, 4243, 2311, 1973, 5827, 7333, 971, 3449, 3967, 3407, 12671, 1423, 859, 20641, 7237, 769, 9209, 281, 12919, 16633, 11383, 30449, 6733, 40627, 34591, 1103, 14303, 5479, 4603, 17477, 5113, 51001, 36299, 57037, 1153, 34297, 1237]
```
## Maple
```Maple
R:= 2: s:= 2:
for i from 2 to 60 do
  p:= 1:
  do
    p:= nextprime(p);
  if isprime(p*s-1) and isprime(p*s+1) then R:= R,p; s:= p*s; break fi;
od od:
R;
```
## Mathematica
```Mathematica
a[1] = 2; a[n_] := a[n] = Module[{r = Product[a[k], {k, 1, n - 1}], p = 2}, While[! PrimeQ[r*p - 1] || ! PrimeQ[r*p + 1], p = NextPrime[p]]; p]; Array[a, 55] (* _Amiram Eldar_, Jan 19 2023 *)
```
## Python
```Python
from itertools import islice
from sympy import isprime, nextprime
def agen(): # generator of terms
    s = 2; yield 2
    while True:
        p = 2
        while True:
            if isprime(s*p-1) and isprime(s*p+1):
                yield p; s *= p; break
            p = nextprime(p)
print(list(islice(agen(), 55))) # _Michael S. Branicky_, Jan 19 2023
```
