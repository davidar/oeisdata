# a\(n\) is the number of distinct primes produced by starting with the n\-th prime p and repeatedly looking at all the prime factors of 2p\+1, and then performing the same process \(double, add 1, find all prime factors\) with those primes; a\(n\) \= \-1 if this produces infinitely many primes\.
https://oeis.org/A305382
## JSON
```JSON
[9, 8, 8, 8, 8, 8, 9, 8, 8, 11, 9, 9, 12, 12, 8, 14, 10, 13, 9, 9, 9, 15, 11, 17, 9, 12, 9, 13, 10, 10, 10, 12, 9, 10, 9, 13, 9, 11, 10, 12, 16, 9, 12, 13, 16, 9, 9, 10, 9, 10, 11, 11, 9, 16, 10, 11, 9, 10, 10, 10, 9, 10, 13, 18, 9, 11, 10, 9, 11, 12, 13, 15, 9, 12, 9, 11, 13, 15, 10, 9, 11, 11, 11, 10, 11, 11, 13, 14, 10, 10, 10, 10, 9, 12, 10, 15, 17, 10, 13, 9]
```
## Mathematica
```Mathematica
propp1[p_] := propp1[p] = #[[1]] & /@ FactorInteger[2*p + 1];
```
```Mathematica
propp[p_Integer] := propp[{p}];
```
```Mathematica
propp[s_List] := propp[s, Union[s, Union @@ propp1 /@ s]];
```
```Mathematica
propp[s_, t_] := If[s == t, s, If[Length[t] > 1000, OVERFLOW[t], propp[t]]];
```
```Mathematica
Table[Length[propp[Prime[n]]], {n, 100}] (* _Michael Kleber_, Jun 16 2018 *)
```
```Mathematica
g[lst_List] := Union@ Join[lst, First@# & /@ Flatten[FactorInteger[2 lst + 1], 1]]; f[n_] := Length@ NestWhile[g@# &, {Prime@ n}, UnsameQ, All]; Table[ f[n], {n, 100}] (* _Robert G. Wilson v_, Jun 17 2018 *)
```
## Python
```Python
from sympy import prime, primefactors
def a(n):
    pn = prime(n)
    reach, expand = {pn}, [pn]
    while len(expand) > 0:
        p = expand.pop()
        for q in primefactors(2*p+1):
            if q not in reach:
                expand.append(q)
                reach.add(q)
    return len(reach)
print([a(n) for n in range(1, 101)]) # _Michael S. Branicky_, Jun 29 2022
```
