# Thue\-Morse sequence: let A\_k denote the first 2^k terms; then A\_0 \= 1 and for k \>\= 0, A\_\{k\+1\} \= A\_k B\_k, where B\_k is obtained from A\_k by interchanging 1's and \-1's\.
https://oeis.org/A106400
## JSON
```JSON
[1, -1, -1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, -1, -1, 1, -1, 1, 1, -1, 1, -1, -1, 1, 1, -1, -1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, -1, -1, 1, 1, -1, -1, 1, -1, 1, 1, -1, 1, -1, -1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, -1, -1, 1, -1, 1, 1, -1, 1, -1, -1, 1, 1, -1, -1, 1, -1, 1, 1, -1, 1, -1, -1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, -1, -1, 1, 1, -1, -1, 1, -1, 1]
```
## Maple
```Maple
A106400 := proc(n)
        1-2*A010060(n) ;
end proc: # _R. J. Mathar_, Jul 22 2012
subs("0"=1,"1"=-1, StringTools:-Explode(StringTools:-ThueMorse(1000))); # _Robert Israel_, Sep 01 2015
# third Maple program:
a:= n-> (-1)^add(i, i=Bits[Split](n)):
seq(a(n), n=0..120);  # _Alois P. Heinz_, Apr 13 2020
```
## Mathematica
```Mathematica
tm[0] = 0; tm[n_?EvenQ] := tm[n/2]; tm[n_] := 1 - tm[(n-1)/2]; Table[(-1)^tm[n], {n, 0, 101}] (* _Jean-FranÃ§ois Alcover_, Oct 24 2013 *)
```
```Mathematica
Nest[ Flatten[# /. {1 -> {1, -1}, -1 -> {-1, 1}}] &, {1}, 7] (* _Robert G. Wilson v_, Apr 07 2014 *)
```
```Mathematica
Table[Coefficient[Product[1 - x^(2^k), {k, 0, Log2[n + 1]}], x, n], {n, 0, 20}] (* _Vladimir Reshetnikov_, Nov 11 2016 *)
```
```Mathematica
(-1)^ThueMorse[Range[0,100]] (* _Paolo Xausa_, Dec 18 2023 *)
```
## PARI
```PARI
{a(n) = if( n<1, n>=0, a(n\2) * (-1)^(n%2))};
```
```PARI
{a(n) = my(A, m); if( n<1, n==0, m=1; A = 1 + O(x); while( m<=n, m*=2; A = subst(A, x, x^2) * (1-x)); polcoeff(A, n))};
```
```PARI
a(n) = { 1 - 2 * (hammingweight(n) % 2) };  \\ _Gheorghe Coserea_, Aug 30 2015
```
```PARI
apply( {A106400(n)=(-1)^hammingweight(n)}, [0..99]) \\ _M. F. Hasler_, Feb 07 2020
```
## Haskell
```Haskell
import Data.List (transpose)
a106400 n = a106400_list !! n
a106400_list =  1 : concat
   (transpose [map negate a106400_list, tail a106400_list])
-- _Reinhard Zumkeller_, Apr 29 2012
```
## Magma
```Magma
[1-2*(&+Intseq(n,2) mod(2)): n in [0..100]]; // _Vincenzo Librandi_, Sep 01 2015
```
## Python
```Python
def aupto(nn):
    A = [1]
    while len(A) < nn+1: A += [-i for i in A]
    return A[:nn+1]
print(aupto(101)) # _Michael S. Branicky_, Jun 26 2022
```
```Python
def A106400(n): return -1 if n.bit_count()&1 else 1 # _Chai Wah Wu_, Mar 01 2023
```
