# Last filtering prime for n\-th prime p: find smallest prime factor of each of the composite numbers between p and next prime; take maximal value\.
https://oeis.org/A052180
## JSON
```JSON
[2, 2, 3, 2, 3, 2, 3, 5, 2, 5, 3, 2, 3, 7, 5, 2, 5, 3, 2, 7, 3, 5, 7, 3, 2, 3, 2, 3, 11, 3, 7, 2, 11, 2, 5, 7, 3, 13, 5, 2, 11, 2, 3, 2, 11, 13, 3, 2, 3, 5, 2, 13, 11, 7, 5, 2, 5, 3, 2, 17, 13, 3, 2, 3, 17, 5, 11, 2, 3, 5, 19, 7, 13, 3, 5, 17, 3, 13, 7, 2, 7, 2, 19, 3, 5, 11, 3, 2, 3, 11, 13, 3, 17]
```
## Mathematica
```Mathematica
ffi[x_] := Flatten[FactorInteger[x]];
```
```Mathematica
lf[x_] := Length[FactorInteger[x]];
```
```Mathematica
ba[x_] := Table[Part[ffi[x], 2*w-1], {w, 1, lf[x]}];
```
```Mathematica
mi[x_] := Min[ba[x]];
```
```Mathematica
Table[Max[Table[mi[ba[w]], {w, Prime[j]+1, -1+Prime[j+1]}]], {j, 2, 256}]
```
```Mathematica
(* Second program: *)
```
```Mathematica
mpf[{a_,b_}] := Max[FactorInteger[#][[1,1]]& /@ Range[a+1,b-1]];
```
```Mathematica
mpf/@ Partition[ Prime[Range[2,100]],2,1] (* _Harvey P. Dale_, Apr 30 2013 *)
```
## Haskell
```Haskell
a052180 n = a052180_list !! (n-2)
a052180_list = f [4..] where
   f ws = (maximum $ map a020639 us) : f vs where
     (us, _:vs) = span  ((== 0) . a010051) ws
-- _Reinhard Zumkeller_, Dec 27 2012
```
## PARI
```PARI
a(n) = {my(p = prime(n), amax = 0); forcomposite(c = p, nextprime(p+1), amax = max(factor(c)[1,1], amax);); amax;} \\ _Michel Marcus_, Apr 21 2018
```
## Python
```Python
from sympy import prime, nextprime, primefactors
def a(n):
  p = prime(n); q = nextprime(p)
  return max(min(primefactors(m)) for m in range(p+1, q))
print([a(n) for n in range(2, 95)]) # _Michael S. Branicky_, Feb 02 2021
```
