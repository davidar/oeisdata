# Let S\(1\) \= \{1\} and, for n \> 1, let S\(n\) be the smallest set containing x, 2x and x^2 for each element x in S\(n\-1\)\. a\(n\) is the sum of the elements in S\(n\)\.
https://oeis.org/A123212
## JSON
```JSON
[1, 3, 7, 31, 383, 71679, 4313284607, 18447026747376402431, 340282367000167840050178713574329810943, 115792089237316195429848086745536112650120661123018741407845920610578123980799]
```
## Maple
```Maple
s:= proc(n) option remember; `if`(n=1, 1,
      map(x-> [x, 2*x, x^2][], {s(n-1)})[])
    end:
a:= n-> add(i, i=s(n)):
seq(a(n), n=1..10);  # _Alois P. Heinz_, Jan 12 2022
```
## Mathematica
```Mathematica
S[n_] := S[n] = If[n == 1, {1}, {#, 2#, #^2}& /@ S[n-1] // Flatten // Union];
```
```Mathematica
a[n_] := S[n] // Total;
```
```Mathematica
Table[a[n], {n, 1, 10}] (* _Jean-Fran√ßois Alcover_, Apr 22 2022 *)
```
## Python
```Python
from itertools import chain, islice
def A123212_gen(): # generator of terms
    s = {1}
    while True:
        yield sum(s)
        s = set(chain.from_iterable((x,2*x,x**2) for x in s))
A123212_list = list(islice(A123212_gen(),10)) # _Chai Wah Wu_, Jan 12 2022
```
