# Bacher numbers: number of nonnegative representations of n \= w\*x\+y\*z with max\(w,x\) < min\(y,z\)\.
https://oeis.org/A368207
## JSON
```JSON
[1, 2, 2, 5, 3, 8, 4, 8, 9, 9, 6, 18, 7, 12, 14, 19, 9, 20, 10, 27, 16, 18, 12, 34, 20, 21, 20, 30, 15, 44, 16, 32, 24, 27, 30, 51, 19, 30, 28, 49, 21, 58, 22, 42, 41, 36, 24, 70, 35, 47, 36, 49, 27, 66, 36, 72, 40, 45, 30, 88, 31, 48, 62, 71, 42, 74, 34, 63, 48]
```
## Mathematica
```Mathematica
t[n_] := t[n] = Select[Divisors[n], #^2 <= n&];
```
```Mathematica
A368207[n_] := Sum[(1 + Boole[d^2 < n])(2d - 1),{d, t[n]}] + Sum[If[wx < y*w, Max[1, 2(Boole[w^2 < wx] + Boole[y^2 < n-wx])], 0], {wx, Floor[n/2]},{w, t[wx]}, {y, t[n - wx]}];
```
```Mathematica
Array[A368207, 100] (* _Paolo Xausa_, Jan 02 2024 *)
```
## Python
```Python
from math import isqrt
def A368207(n):
    c, r = 0, isqrt(n)
    for w in range(r+1):
        for x in range(w,r+1):
            wx = w*x
            if wx>n:
                break
            for y in range(x+1,r+1):
                for z in range(y,n+1):
                    yz = wx+y*z
                    if yz>n:
                        break
                    if yz==n:
                        m = 1
                        if w!=x:
                            m<<=1
                        if y!=z:
                            m<<=1
                        c+=m
    return c # _Chai Wah Wu_, Dec 19 2023
```
```Python
from sympy import divisors
# faster program
def A368207(n):
    c = 0
    for d2 in divisors(n):
        if d2**2 > n:
            break
        c += (d2<<2)-2 if d2**2<n else (d2<<1)-1
    for wx in range(1,(n>>1)+1):
        for d1 in divisors(wx):
            if d1**2 > wx:
                break
            for d2 in divisors(m:=n-wx):
                if d2**2 > m:
                    break
                if wx < d1*d2:
                    k = 1
                    if d1**2 != wx:
                        k <<=1
                    if d2**2 != m:
                        k <<=1
                    c+=k
    return c # _Chai Wah Wu_, Dec 19 2023
```
## Julia
```Julia
function A368207(n)
    t(n) = (d for d in divisors(n) if d * d <= n)
    s(d) = d * d == n ? d * 2 - 1 : d * 4 - 2
    c(y, w, wx) = max(1, 2*(Int(w*w < wx) + Int(y*y < n - wx)))
    sum(sum(sum(c(y, w, wx) for y in t(n - wx) if wx < y * w; init=0)
    for w in t(wx)) for wx in 1:div(n, 2); init=sum(s(d) for d in t(n)))
end
println([A368207(n) for n in 1:69])  # _Peter Luschny_, Dec 21 2023
```
