# Irregular triangle read by rows: row n lists the strings of the MIU formal system at the n\-th level of the tree generated by recursively applying the system rules, starting from the MI string \(see comments and example\)\.
https://oeis.org/A368946
## JSON
```JSON
[31, 310, 311, 31010, 3110, 31111, 310101010, 3110110, 311110, 311111111, 301, 310, 31010101010101010, 3110110110110, 31111011110, 3010, 3100, 3111111110, 31111111111111111, 3011111, 3101111, 3110111, 3111011, 3111101, 3111110, 3010, 30101, 31010]
```
## Mathematica
```Mathematica
MIUStepO[s_] := Flatten[Map[{If[StringEndsQ[#, "1"], # <> "0", Nothing], # <> StringDrop[#, 1], StringReplaceList[#, "111" -> "0"], StringReplaceList[#, "00" -> ""]}&, s]];
```
```Mathematica
With[{rowmax = 4}, Map[FromDigits, NestList[MIUStepO, {"31"}, rowmax], {2}]]
```
## Python
```Python
from itertools import islice
def occurrence_swaps(w, s, t):
    out, oi = [], w.find(s)
    while oi != -1:
        out.append(w[:oi] + t + w[oi+len(s):])
        oi = w.find(s, oi+1)
    return out
def moves(w): # moves for word w in MIU system, encoded as 310
    nxt = []
    if w[-1] == '1': nxt.append(w + '0')        # Rule 1
    if w[0] == '3': nxt.append(w + w[1:])       # Rule 2
    nxt.extend(occurrence_swaps(w, '111', '0')) # Rule 3
    nxt.extend(occurrence_swaps(w, '00', ''))   # Rule 4
    return nxt
def agen(): # generator of terms
    frontier = ['31']
    while len(frontier) > 0:
        yield from [int(t) for t in frontier]
        reach1 = [m for p in frontier for m in moves(p)]
        frontier, reach1 = reach1, []
print(list(islice(agen(), 28))) # _Michael S. Branicky_, Jan 14 2024
```
