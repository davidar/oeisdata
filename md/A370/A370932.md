# For any number n \>\= 0 with ternary expansion Sum\_\{i \>\= 0\} t\_i \* 3^i, a\(n\) \= Sum\_\{i \>\= 0\} \(\(Sum\_\{j \>\= 0\} \(\-1\)^j \* t\_\{i\+j\}\) mod 3\) \* 3^i\.
https://oeis.org/A370932
## JSON
```JSON
[0, 1, 2, 5, 3, 4, 7, 8, 6, 16, 17, 15, 9, 10, 11, 14, 12, 13, 23, 21, 22, 25, 26, 24, 18, 19, 20, 50, 48, 49, 52, 53, 51, 45, 46, 47, 27, 28, 29, 32, 30, 31, 34, 35, 33, 43, 44, 42, 36, 37, 38, 41, 39, 40, 70, 71, 69, 63, 64, 65, 68, 66, 67, 77, 75, 76, 79, 80]
```
## PARI
```PARI
a(n, base = 3) = { my (d = digits(n, base), s = 0); for (i = 1, #d, d[i] = (s = d[i]-s) % base;); fromdigits(d, base); }
```
## Python
```Python
from itertools import accumulate
from sympy.ntheory import digits
def A370932(n):
    t = accumulate(((-j if i&1 else j) for i, j in enumerate(digits(n,3)[1:])),func=lambda x,y: (x+y)%3)
    return int(''.join(str(-d%3 if i&1 else d) for i,d in enumerate(t)),3) # _Chai Wah Wu_, Mar 08 2024
```
