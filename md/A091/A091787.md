# a\(1\) \= 2\. To get a\(n\+1\), write the string a\(1\)a\(2\)\.\.\.a\(n\) as xy^k for words x and y \(where y has positive length\) and k is maximized, i\.e\., k \= the maximal number of repeating blocks at the end of the sequence so far\. Then a\(n\+1\) \= max\(k,2\)\.
https://oeis.org/A091787
## JSON
```JSON
[2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 3, 2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 3, 2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 3, 3, 3, 4, 2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 3, 2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 3, 2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 3, 3, 3, 4, 2, 2, 2, 3, 2, 2, 2, 3, 2, 2, 2, 3, 3, 2, 2]
```
## PARI
```PARI
A091787(n, A=[])={while(#A<n, my(k=2, L=0, m=k); while((k+1)*(L+1)<=#A, for(N=L+1, #A/(m+1), A[-m*N..-1]==A[-(m+1)*N..-N-1]&&(m+=1)&&break); m>k||break; k=m); A=concat(A, k)); A} \\ _M. F. Hasler_, Oct 04 2018
```
## Python
```Python
from itertools import islice
def c(w):
    for k in range(len(w), 0, -1):
        for l in range(1, len(w)//k + 1):
            if w[-k*l:] == w[-l:]*k: return k
def agen(): # generator of terms
    alst, an = [], 2
    while True: yield an; alst.append(an); an = max(2, c(alst))
print(list(islice(agen(), 99))) # _Michael S. Branicky_, Sep 10 2022
```
