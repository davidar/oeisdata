# Smallest number for which the greedy algorithm fails to find the sum of n\-th powers with at most A002804 terms\.
https://oeis.org/A185187
## JSON
```JSON
[23, 50, 160, 466, 1432, 4362, 12960, 39138, 117416, 353274, 1059824, 3183570, 9550712, 28668522, 86038336, 258246082, 774607176, 2324083674, 6973299600, 20918850226, 62758647832, 188280137802, 564857190624, 1694571571874, 5083681161192, 15251177701306]
```
## Python
```Python
# exhaustive search
from sympy import integer_nthroot
def g(n): twon = (1 << n); return twon + 3**n//twon - 2
def greedy(k, n):
    if k < (1 << n): return k
    bigpow = integer_nthroot(k, n)[0]**n
    m, r = divmod(k, bigpow)
    return  m + greedy(r, n)
def a(n):
    k, gn = 2**n, g(n)
    while greedy(k, n) <= gn: k += 1
    return k
print([a(n) for n in range(2, 12)]) # _Michael S. Branicky_, Dec 15 2021
```
```Python
# direct computation based on formula
def a(n): return 23 if n == 2 else 3**n + (3**n//2**n-1)*2**n + (2**n-1)
print([a(n) for n in range(2, 28)]) # _Michael S. Branicky_, Dec 15 2021
```
