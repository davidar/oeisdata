# Number of pairs \(x,y\) with 1 <\= x < y <\= n with at least one common factor\.
https://oeis.org/A185670
## JSON
```JSON
[0, 0, 0, 1, 1, 4, 4, 7, 9, 14, 14, 21, 21, 28, 34, 41, 41, 52, 52, 63, 71, 82, 82, 97, 101, 114, 122, 137, 137, 158, 158, 173, 185, 202, 212, 235, 235, 254, 268, 291, 291, 320, 320, 343, 363, 386, 386, 417, 423, 452, 470, 497, 497, 532, 546, 577, 597, 626, 626, 669, 669, 700, 726, 757, 773, 818, 818, 853, 877, 922, 922, 969, 969, 1006, 1040]
```
## Maple
```Maple
with(numtheory): A185670:=n->n*(n-1)/2 + 1 - add( phi(i), i=1..n): seq(A185670(n), n=1..100); # _Wesley Ivan Hurt_, Jan 30 2017
```
## Mathematica
```Mathematica
1 + Accumulate[ Table[n - EulerPhi[n] - 1, {n, 1, 75}]] (* _Jean-Fran√ßois Alcover_, Jan 04 2013 *)
```
## Haskell
```Haskell
a185670 n = length [(x,y) | x <- [1..n-1], y <- [x+1..n], gcd x y > 1]
-- _Reinhard Zumkeller_, Mar 02 2012
```
## Python
```Python
from functools import lru_cache
@lru_cache(maxsize=None)
def A185670(n): # based on second formula in A018805
    if n == 0:
        return 0
    c, j = 2, 2
    k1 = n//j
    while k1 > 1:
        j2 = n//k1 + 1
        c += (j2-j)*(k1*(k1-1)+1-2*A185670(k1))
        j, k1 = j2, n//j2
    return (c-j)//2 # _Chai Wah Wu_, Mar 24 2021
```
## PARI
```PARI
a185670(n) = sum(i=2, n, sum(j=2, i-1, gcd(i,j)>1)) \\ _Hugo Pfoertner_, Sep 04 2024
```
