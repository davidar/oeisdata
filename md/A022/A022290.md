# Replace 2^k in binary expansion of n with Fibonacci\(k\+2\)\.
https://oeis.org/A022290
## JSON
```JSON
[0, 1, 2, 3, 3, 4, 5, 6, 5, 6, 7, 8, 8, 9, 10, 11, 8, 9, 10, 11, 11, 12, 13, 14, 13, 14, 15, 16, 16, 17, 18, 19, 13, 14, 15, 16, 16, 17, 18, 19, 18, 19, 20, 21, 21, 22, 23, 24, 21, 22, 23, 24, 24, 25, 26, 27, 26, 27, 28, 29, 29, 30, 31, 32, 21, 22, 23, 24, 24, 25, 26]
```
## Maple
```Maple
A022290 := proc(n)
    dgs := convert(n,base,2) ;
    add( op(i,dgs)*A000045(i+1),i=1..nops(dgs)) ;
end proc: # _R. J. Mathar_, Jan 31 2015
# second Maple program:
b:= (n, i, j)-> `if`(n=0, 0, j*irem(n, 2, 'q')+b(q, j, i+j)):
a:= n-> b(n, 1$2):
seq(a(n), n=0..127);  # _Alois P. Heinz_, Jan 26 2022
```
## Mathematica
```Mathematica
Table[Reverse[#].Fibonacci[1 + Range[Length[#]]] &@ IntegerDigits[n, 2], {n, 0, 54}] (* IWABUCHI Yu(u)ki, Aug 01 2012 *)
```
## Haskell
```Haskell
a022290 0 = 0
a022290 n = h n 0 $ drop 2 a000045_list where
   h 0 y _      = y
   h x y (f:fs) = h x' (y + f * r) fs where (x',r) = divMod x 2
-- _Reinhard Zumkeller_, Oct 03 2012
```
## PARI
```PARI
my(m=Mod('x,'x^2-'x-1)); a(n) = subst(lift(subst(Pol(binary(n)), 'x,m)), 'x,2); \\ _Kevin Ryde_, Sep 22 2020
```
## Python
```Python
def A022290(n):
    a, b, s = 1,2,0
    for i in bin(n)[-1:1:-1]:
        s += int(i)*a
        a, b = b, a+b
    return s # _Chai Wah Wu_, Sep 10 2022
```
