# Riesel problem: start with n; repeatedly double and add 1 until reaching a prime\. Sequence gives number of steps to reach a prime or 0 if no prime is ever reached\.
https://oeis.org/A050412
## JSON
```JSON
[1, 1, 1, 2, 1, 1, 2, 1, 1, 2, 1, 3, 4, 1, 1, 2, 2, 1, 2, 1, 1, 4, 1, 3, 2, 1, 3, 4, 1, 1, 2, 2, 1, 2, 1, 1, 2, 3, 1, 2, 1, 7, 24, 1, 3, 4, 2, 1, 2, 1, 1, 2, 1, 1, 2, 1, 3, 12, 2, 3, 4, 2, 1, 4, 1, 5, 2, 1, 1, 2, 4, 7, 2552, 1, 1, 2, 2, 1, 4, 3, 1, 2, 1, 5, 6, 1, 23, 4, 1, 1, 2, 3, 3, 2, 1, 1, 4, 1, 1]
```
## Maple
```Maple
A050412 := proc(n)
    local twox1,k ;
    twox1 := 2*n+1 ;
    k := 1;
    while not isprime(twox1) do
        twox1 := 2*twox1+1 ;
        k := k+1 ;
    end do:
    return k;
end proc: # _R. J. Mathar_, Jul 23 2015
```
## Mathematica
```Mathematica
a[n_] := Block[{s=n, c=1}, While[ ! PrimeQ[2*s+1], s = 2*s+1; c++]; c]; Table[ a[n], {n, 1, 99} ] (* _Jean-Fran√ßois Alcover_, Feb 06 2012, after Pari *)
```
```Mathematica
a[n_] := Block[{k = 1}, While[ !PrimeQ[2^k (n + 1) - 1], k++];k]; Array[a, 100] (* _Robert G. Wilson v_, Feb 14 2015 *) (* Corrected by _Paolo Xausa_, Jul 30 2024 *)
```
## PARI
```PARI
a(n)=if(n<0,0,s=n; c=1; while(isprime(2*s+1)==0,s=2*s+1; c++); c)
```
## Python
```Python
#! /usr/bin/env python3
from labmath import primegen, isprime, mpz, count
from multiprocessing import Pool
primes = list(primegen(1000000))
def test(n):
    for p in primes:
        if (104917 * pow(2, n, p)) % p == 1:
            return (n, False)
    return (n, isprime(104917 * mpz(2)**n - 1, tb=[]))
with Pool(24) as P:
    for (n, result) in P.imap(test, count()):
        print('\b'*80, n, end='', flush=True)
        if result:
            break # _Lucas A. Brown_, Aug 01 2024
```
