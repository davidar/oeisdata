# a\(1\)\=1, a\(p\_n\)\=2\*a\(n\), a\(c\_n\)\=2\*a\(n\)\+1, where p\_n \= n\-th prime, c\_n \= n\-th composite number\.
https://oeis.org/A135141
## JSON
```JSON
[1, 2, 4, 3, 8, 5, 6, 9, 7, 17, 16, 11, 10, 13, 19, 15, 12, 35, 18, 33, 23, 21, 14, 27, 39, 31, 25, 71, 34, 37, 32, 67, 47, 43, 29, 55, 22, 79, 63, 51, 20, 143, 26, 69, 75, 65, 38, 135, 95, 87, 59, 111, 30, 45, 159, 127, 103, 41, 24, 287, 70, 53, 139, 151, 131, 77, 36, 271, 191]
```
## Mathematica
```Mathematica
a[1] = 1; a[n_] := If[PrimeQ@n, 2*a[PrimePi[n]], 2*a[n - 1 - PrimePi@n] + 1]; Array[a, 69] (* _Robert G. Wilson v_, Feb 16 2008 *)
```
## Maxima
```Maxima
Let pc = prime count (which prime it is), cc = composite count:
pc[1]:0;
cc[1]:0;
pc[2]:1;
cc[4]:1;
pc[n]:=if primep(n) then 1+pc[prev_prime(n)] else 0;
cc[n]:=if primep(n) then 0 else if primep(n-1) then 1+cc[n-2] else 1+cc[n-1];
a[1]:1;
a[n]:=if primep(n) then 2*a[pc[n]] else 1+2*a[cc[n]];
```
## Haskell
```Haskell
import Data.List (genericIndex)
a135141 n = genericIndex a135141_list (n-1)
a135141_list = 1 : map f [2..] where
   f x | iprime == 0 = 2 * (a135141 $ a066246 x) + 1
       | otherwise   = 2 * (a135141 iprime)
       where iprime = a049084 x
-- _Reinhard Zumkeller_, Jan 29 2014
```
## Python
```Python
from sympy import isprime, primepi
def a(n): return 1 if n==1 else 2*a(primepi(n)) if isprime(n) else 2*a(n - 1 - primepi(n)) + 1 # _Indranil Ghosh_, Jun 11 2017, after Mathematica code
```
## PARI
```PARI
A135141(n) = if(1==n, 1, if(isprime(n), 2*A135141(primepi(n)), 1+(2*A135141(n-primepi(n)-1)))); \\ _Antti Karttunen_, Dec 09 2019
```
