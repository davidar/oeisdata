# Longest run of halving steps in the trajectory from n to 1 in the Collatz map \(or 3x\+1 problem\), or \-1 if no such trajectory exists\.
https://oeis.org/A347409
## JSON
```JSON
[0, 1, 4, 2, 4, 4, 4, 3, 4, 4, 4, 4, 4, 4, 5, 4, 4, 4, 4, 4, 6, 4, 5, 4, 4, 4, 5, 4, 4, 5, 5, 5, 4, 4, 5, 4, 4, 4, 4, 4, 5, 6, 4, 4, 4, 5, 5, 4, 4, 4, 4, 4, 5, 5, 5, 4, 4, 4, 4, 5, 5, 5, 5, 6, 4, 4, 4, 4, 4, 5, 5, 4, 5, 4, 8, 4, 4, 4, 4, 4, 5, 5, 5, 6, 8, 4, 4]
```
## Mathematica
```Mathematica
nterms=100;Table[c=n;sm=0;While[c>1,If[OddQ[c],c=3c+1,If[(s=IntegerExponent[c,2])>sm,sm=s];c/=2^s]];sm,{n,nterms}]
```
## PARI
```PARI
a(n)=my(nb=0); while (n != 1, if (n % 2, n=3*n+1, my(x = valuation(n, 2)); n /= 2^x; nb = max(nb, x));); nb; \\ _Michel Marcus_, Sep 03 2021
```
## Python
```Python
def A347409(n):
    m, r = n, 0
    while m > 1:
        if m % 2:
            m = 3*m + 1
        else:
            s = bin(m)[2:]
            c = len(s)-len(s.rstrip('0'))
            m //= 2**c
            r = max(r,c)
    return r # _Chai Wah Wu_, Sep 29 2021
```
