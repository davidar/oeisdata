# Alternating bit sum for n: replace 2^k with \(\-1\)^k in binary expansion of n\.
https://oeis.org/A065359
## JSON
```JSON
[0, 1, -1, 0, 1, 2, 0, 1, -1, 0, -2, -1, 0, 1, -1, 0, 1, 2, 0, 1, 2, 3, 1, 2, 0, 1, -1, 0, 1, 2, 0, 1, -1, 0, -2, -1, 0, 1, -1, 0, -2, -1, -3, -2, -1, 0, -2, -1, 0, 1, -1, 0, 1, 2, 0, 1, -1, 0, -2, -1, 0, 1, -1, 0, 1, 2, 0, 1, 2, 3, 1, 2, 0, 1, -1, 0, 1, 2, 0, 1, 2, 3, 1, 2, 3, 4, 2, 3, 1, 2, 0, 1, 2, 3, 1, 2, 0, 1, -1, 0, 1, 2, 0, 1, -1, 0, -2]
```
## Maple
```Maple
A065359 := proc(n) local dgs ; dgs := convert(n,base,2) ; add( -op(i,dgs)*(-1)^i,i=1..nops(dgs)) ; end proc: # _R. J. Mathar_, Feb 04 2011
```
## Mathematica
```Mathematica
f[0]=0; f[n_] := Plus @@ (-(-1)^Range[ Floor[ Log2@ n + 1]] Reverse@ IntegerDigits[n, 2]); Array[ f, 107, 0]
```
## PARI
```PARI
SumAD(x)= { local(a=1, s=0); while (x>9, s+=a*(x-10*(x\10)); x\=10; a=-a); return(s + a*x) }
baseE(x, b)= { local(d, e=0, f=1); while (x>0, d=x-b*(x\b); x\=b; e+=d*f; f*=10); return(e) }
{ for (n=0, 1000, b=baseE(n, 2); write("b065359.txt", n, " ", SumAD(b)) ) } \\ _Harry J. Smith_, Oct 17 2009
```
```PARI
for(n=0,106,s=0;u=1;for(k=0,#binary(n)-1,s+=bittest(n,k)*u;u=-u);print1(s,", ")) /* _Washington Bomfim_, Jan 18 2011 */
```
```PARI
a(n) = my(b=binary(n)); b*[(-1)^k|k<-[-#b+1..0]]~; \\ _Ruud H.G. van Tol_, Oct 16 2023
```
## Haskell
```Haskell
a065359 0 = 0
a065359 n = - a065359 n' + m where (n', m) = divMod n 2
-- _Reinhard Zumkeller_, Mar 20 2015
```
## Python
```Python
def a(n):
    return sum((-1)**k for k, bi in enumerate(bin(n)[2:][::-1]) if bi=='1')
print([a(n) for n in range(107)]) # _Michael S. Branicky_, Jul 13 2021
```
```Python
from sympy.ntheory import digits
def A065359(n): return sum((0,1,-1,0)[i] for i in digits(n,4)[1:]) # _Chai Wah Wu_, Jul 19 2024
```
