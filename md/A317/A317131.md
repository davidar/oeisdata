# Number of permutations of \[n\] whose lengths of increasing runs are prime numbers\.
https://oeis.org/A317131
## JSON
```JSON
[1, 0, 1, 1, 5, 19, 80, 520, 2898, 22486, 171460, 1509534, 14446457, 147241144, 1650934446, 19494460567, 248182635904, 3340565727176, 47659710452780, 718389090777485, 11381176852445592, 189580213656445309, 3305258537062221020, 60273557241570401742]
```
## Maple
```Maple
g:= n-> `if`(n=0 or isprime(n), 1, 0):
b:= proc(u, o, t) option remember; `if`(u+o=0, g(t),
      `if`(g(t)=1, add(b(u-j, o+j-1, 1), j=1..u), 0)+
       add(b(u+j-1, o-j, t+1), j=1..o))
    end:
a:= n-> b(n, 0$2):
seq(a(n), n=0..27);
```
## Mathematica
```Mathematica
g[n_] := If[n == 0 || PrimeQ[n], 1, 0];
```
```Mathematica
b[u_, o_, t_] := b[u, o, t] = If[u + o == 0, g[t],
```
```Mathematica
     If[g[t] == 1, Sum[b[u - j, o + j - 1, 1], {j, 1, u}], 0] +
```
```Mathematica
     Sum[b[u + j - 1, o - j, t + 1], {j, 1, o}]];
```
```Mathematica
a[n_] := b[n, 0, 0];
```
```Mathematica
a /@ Range[0, 27] (* _Jean-Fran√ßois Alcover_, Mar 29 2021, after _Alois P. Heinz_ *)
```
## Python
```Python
from functools import lru_cache
from sympy import isprime
def g(n): return int(n == 0 or isprime(n))
@lru_cache(maxsize=None)
def b(u, o, t):
  if u + o == 0: return g(t)
  return (sum(b(u-j,  o+j-1,  1) for j in range(1, u+1)) if g(t) else 0) +\
          sum(b(u+j-1, o-j, t+1) for j in range(1, o+1))
def a(n): return b(n, 0, 0)
print([a(n) for n in range(28)]) # _Michael S. Branicky_, Mar 29 2021 after _Alois P. Heinz_
```
