# "Even" fractal sequence for the natural numbers: Deleting every even\-indexed term results in the same sequence\.
https://oeis.org/A103391
## JSON
```JSON
[1, 2, 2, 3, 2, 4, 3, 5, 2, 6, 4, 7, 3, 8, 5, 9, 2, 10, 6, 11, 4, 12, 7, 13, 3, 14, 8, 15, 5, 16, 9, 17, 2, 18, 10, 19, 6, 20, 11, 21, 4, 22, 12, 23, 7, 24, 13, 25, 3, 26, 14, 27, 8, 28, 15, 29, 5, 30, 16, 31, 9, 32, 17, 33, 2, 34, 18, 35, 10, 36, 19, 37, 6, 38, 20, 39, 11, 40, 21, 41, 4, 42, 22, 43, 12, 44, 23, 45, 7, 46, 24, 47, 13, 48, 25, 49, 3, 50, 26, 51, 14, 52, 27, 53, 8]
```
## Maple
```Maple
nmax := 82: for p from 0 to ceil(simplify(log[2](nmax))) do for n from 2 to ceil(nmax/(p+2))+1 do a((2*n-3)*2^p+1) := n od: od: a(1) := 1: seq(a(n), n=1..nmax); # _Johannes W. Meijer_, Jan 28 2013
```
## Mathematica
```Mathematica
a[n_] := ((n-1)/2^IntegerExponent[n-1, 2] + 3)/2; a[1] = 1; Array[a, 100] (* _Amiram Eldar_, Sep 24 2023 *)
```
## Haskell
```Haskell
-- import Data.List (transpose)
a103391 n = a103391_list !! (n-1)
a103391_list = 1 : ks where
   ks = concat $ transpose [[2..], ks]
-- _Reinhard Zumkeller_, May 23 2013
```
## PARI
```PARI
A003602(n) = (n/2^valuation(n, 2)+1)/2; \\ From A003602
A103391(n) = if(1==n,1,(1+A003602(n-1))); \\ _Antti Karttunen_, Feb 05 2020
```
## Python
```Python
def v(n): b = bin(n); return len(b) - len(b.rstrip("0"))
def b(n): return (n//2**v(n)+1)//2
def a(n): return 1 if n == 1 else 1 + b(n-1)
print([a(n) for n in range(1, 106)]) # _Michael S. Branicky_, May 29 2022
```
```Python
def A103391(n): return (n-1>>(n-1&-n+1).bit_length())+2 if n>1 else 1 # _Chai Wah Wu_, Jan 04 2024
```
