# a\(0\) \= 0, a\(1\) \= 1; thereafter, a\(2n\) \= a\(n\) \+ 1 \+ \(n mod 2\), a\(2n\+1\) \= a\(n\) \+ 2 \- \(n mod 2\)\.
https://oeis.org/A286298
## JSON
```JSON
[0, 1, 3, 2, 4, 5, 4, 3, 5, 6, 7, 6, 5, 6, 5, 4, 6, 7, 8, 7, 8, 9, 8, 7, 6, 7, 8, 7, 6, 7, 6, 5, 7, 8, 9, 8, 9, 10, 9, 8, 9, 10, 11, 10, 9, 10, 9, 8, 7, 8, 9, 8, 9, 10, 9, 8, 7, 8, 9, 8, 7, 8, 7, 6, 8, 9, 10, 9, 10, 11, 10, 9, 10, 11, 12, 11, 10, 11, 10, 9, 10, 11, 12, 11, 12, 13, 12, 11, 10, 11, 12]
```
## Maple
```Maple
f:=proc(n) option remember;
   if n <= 1 then n
   elif (n mod 2) = 0 then f(n/2)+1+((n/2) mod 2);
   else f((n-1)/2) + 2 - ((n-1)/2 mod 2); end if;
end proc;
[seq(f(n),n=0..120)];
```
## Python
```Python
def A286298(n):
    if n <= 1:
        return n
    a, b = divmod(n, 2)
    return A286298(a) + 1 + b + (-1)**b*(a % 2) # _Chai Wah Wu_, Jun 02 2017
```
## PARI
```PARI
a(n) = if (n==0, 0, logint(n, 2) + hammingweight(bitxor(n, n>>1))); \\ _Michel Marcus_, Aug 21 2018
```
