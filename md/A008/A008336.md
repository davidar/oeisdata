# a\(n\+1\) \= a\(n\)/n if n\|a\(n\) else a\(n\)\*n, a\(1\) \= 1\.
https://oeis.org/A008336
## JSON
```JSON
[1, 1, 2, 6, 24, 120, 20, 140, 1120, 10080, 1008, 11088, 924, 12012, 858, 12870, 205920, 3500640, 194480, 3695120, 184756, 3879876, 176358, 4056234, 97349616, 2433740400, 93605400, 2527345800, 90262350, 2617608150, 87253605, 2704861755, 86555576160, 2856334013280]
```
## Maple
```Maple
A008336 := proc(n) option remember; if n = 1 then 1 elif A008336(n-1) mod (n-1) = 0 then A008336(n-1)/(n-1) else A008336(n-1)*(n-1); fi; end;
```
## Mathematica
```Mathematica
a[n_] := a[n] = If[ Divisible[ a[n-1], n-1], a[n-1]/(n-1), a[n-1]*(n-1)]; a[1] = 1; Table[a[n], {n, 1, 28}] (* _Jean-Fran√ßois Alcover_, Dec 02 2011 *)
```
```Mathematica
nxt[{n_,a_}]:={n+1,If[Divisible[a,n],a/n,n*a]}; Transpose[ NestList[ nxt,{1,1},30]][[2]] (* _Harvey P. Dale_, May 09 2016 *)
```
## Haskell
```Haskell
a008336 n = a008336_list !! (n-1)
a008336_list = 1 : zipWith (/*) a008336_list [1..] where
    x /* y = if x `mod` y == 0 then x `div` y else x*y
-- _Reinhard Zumkeller_, Feb 22 2012, Oct 25 2010
```
## Python
```Python
from functools import lru_cache
@lru_cache(maxsize=None)
def A008336(n):
    if n == 1: return 1
    a, b = divmod(c:=A008336(n-1),n-1)
    return c*(n-1) if b else a # _Chai Wah Wu_, Apr 11 2024
```
