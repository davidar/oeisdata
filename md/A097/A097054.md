# Nonsquare perfect powers\.
https://oeis.org/A097054
## JSON
```JSON
[8, 27, 32, 125, 128, 216, 243, 343, 512, 1000, 1331, 1728, 2048, 2187, 2197, 2744, 3125, 3375, 4913, 5832, 6859, 7776, 8000, 8192, 9261, 10648, 12167, 13824, 16807, 17576, 19683, 21952, 24389, 27000, 29791, 32768, 35937, 39304, 42875, 50653]
```
## Maple
```Maple
# uses code of A001597
for n from 4 do
    if not issqr(n) and isA001597(n) then
        printf("%d,\n",n);
    end if;
end do: # _R. J. Mathar_, Jan 13 2021
```
## Mathematica
```Mathematica
nn = 50653; Select[Union[Flatten[Table[n^i, {i, Prime[Range[2, PrimePi[Log[2, nn]]]]}, {n, 2, nn^(1/i)}]]], ! IntegerQ[Sqrt[#]] &] (* _T. D. Noe_, Apr 19 2011 *)
```
## Haskell
```Haskell
import Data.Map (singleton, findMin, deleteMin, insert)
a097054 n = a097054_list !! (n-1)
a097054_list = f 9 (3, 2) (singleton 4 (2, 2)) where
   f zz (bz, be) m
    | xx < zz && even be =
                f zz (bz, be+1) (insert (bx*xx) (bx, be+1) $ deleteMin m)
    | xx < zz = xx :
                f zz (bz, be+1) (insert (bx*xx) (bx, be+1) $ deleteMin m)
    | xx > zz = f (zz+2*bz+1) (bz+1, 2) (insert (bz*zz) (bz, 3) m)
    | otherwise = f (zz + 2 * bz + 1) (bz + 1, 2) m
    where (xx, (bx, be)) = findMin m
-- _Reinhard Zumkeller_, Mar 28 2014
```
## PARI
```PARI
is(n)=ispower(n)%2 \\ _Charles R Greathouse IV_, Aug 28 2016
```
```PARI
list(lim)=my(v=List()); forprime(e=3,logint(lim\=1,2), for(b=2,sqrtnint(lim,e), if(!issquare(b), listput(v,b^e)))); Set(v) \\ _Charles R Greathouse IV_, Jan 09 2023
```
## Python
```Python
from sympy import mobius, integer_nthroot
def A097054(n):
    def f(x): return int(n-1+x+sum(mobius(k)*(integer_nthroot(x,k)[0]-1) for k in range(3,x.bit_length())))
    kmin, kmax = 1,2
    while f(kmax) >= kmax:
        kmax <<= 1
    while True:
        kmid = kmax+kmin>>1
        if f(kmid) < kmid:
            kmax = kmid
        else:
            kmin = kmid
        if kmax-kmin <= 1:
            break
    return kmax # _Chai Wah Wu_, Aug 14 2024
```
