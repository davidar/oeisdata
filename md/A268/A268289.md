# a\(0\)\=0; thereafter a\(n\) \= a\(n\-1\) \- A037861\(n\)\.
https://oeis.org/A268289
## JSON
```JSON
[0, 1, 1, 3, 2, 3, 4, 7, 5, 5, 5, 7, 7, 9, 11, 15, 12, 11, 10, 11, 10, 11, 12, 15, 14, 15, 16, 19, 20, 23, 26, 31, 27, 25, 23, 23, 21, 21, 21, 23, 21, 21, 21, 23, 23, 25, 27, 31, 29, 29, 29, 31, 31, 33, 35, 39, 39, 41, 43, 47, 49]
```
## Maple
```Maple
a000120 := proc(n) add(i, i=convert(n, base, 2)) end:
a023416 := proc(n) if n = 0 then 1; else add(1-e, e=convert(n, base, 2)) ; end if; end proc:
a268289:=proc(n) option remember; global a000120, a023416;
if n=0 then 0 else a268289(n-1)+a000120(n)-a023416(n); fi; end;
[seq(a268289(n),n=0..132)];
# _N. J. A. Sloane_, Mar 07 2016
# second Maple program:
a:= proc(n) option remember; `if`(n<0, 0,
      a(n-1)+add(2*i-1, i=Bits[Split](n)))
    end:
seq(a(n), n=0..60);  # _Alois P. Heinz_, Jan 18 2022
```
## Mathematica
```Mathematica
Join[{0}, Table[DigitCount[n, 2, 1] - DigitCount[n, 2, 0], {n, 1, 100}] // Accumulate] (* _Jean-FranÃ§ois Alcover_, Oct 24 2016 *)
```
## Python
```Python
def A268289(n): return (sum(i.bit_count() for i in range(1,n+1))<<1)-1-(n+1)*(m:=(n+1).bit_length())+(1<<m) # _Chai Wah Wu_, Mar 01 2023
```
## PARI
```PARI
a(n) = if (n==0, 0, if (n%2, 2*a((n-1)/2)+1, a(n/2) + a(n/2-1))); \\ _Michel Marcus_, Jun 16 2020
```
```PARI
a(n) = my(v=binary(n+1),s=-1); for(i=1,#v, v[i]=if(v[i],s++,s--;1)); fromdigits(v,2); \\ _Kevin Ryde_, Jun 16 2020
```
## C
```C
int a(int n)   {
    int m=n+1;
    int result=0;
    int i=0;
    while (n) {
        int ith_bit_set = m&(1<<i);
        if (ith_bit_set) result += (m%(1<<i));
        else result += (1<<i) - (m%(1<<i));
        i++;
        n >>= 1;
    }
   return result;
}
/* _Laura Monroe_, Jun 17 2020 */
```
## Julia
```Julia
function A268289List(len)
    A = zeros(Int, len)
    for n in 1:len-1
        a, b, c = n, n & 1, 1
        while (a >>= 1) != 0
            b += a & 1
            c += 1
        end
        A[n+1] = A[n] + <<(b, 1) - c
    end
    A
end; println(A268289List(61)) # _Peter Luschny_, Jun 22 2020
```
