# Number of divisors of n with exactly half as many prime factors as n, counting multiplicity\.
https://oeis.org/A345957
## JSON
```JSON
[1, 0, 0, 1, 0, 2, 0, 0, 1, 2, 0, 0, 0, 2, 2, 1, 0, 0, 0, 0, 2, 2, 0, 2, 1, 2, 0, 0, 0, 0, 0, 0, 2, 2, 2, 3, 0, 2, 2, 2, 0, 0, 0, 0, 0, 2, 0, 0, 1, 0, 2, 0, 0, 2, 2, 2, 2, 2, 0, 4, 0, 2, 0, 1, 2, 0, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 2, 0, 0, 0, 1, 2, 0, 4, 2, 2, 2]
```
## Mathematica
```Mathematica
Table[Length[Select[Divisors[n],PrimeOmega[#]==PrimeOmega[n]/2&]],{n,100}]
```
## PARI
```PARI
a(n) = my(nb=bigomega(n)); sumdiv(n, d, 2*bigomega(d) == nb); \\ _Michel Marcus_, Aug 16 2021
```
## Python
```Python
from sympy import divisors, factorint
def a(n):
    npf = len(factorint(n, multiple=True))
    divs = divisors(n)
    return sum(2*len(factorint(d, multiple=True)) == npf for d in divs)
print([a(n) for n in range(1, 88)]) # _Michael S. Branicky_, Aug 17 2021
```
```Python
from itertools import combinations
from math import prod, comb
from sympy import factorint
def A345957(n):
    if n == 1:
        return 1
    fs = factorint(n)
    elist = list(fs.values())
    q, r = divmod(sum(elist),2)
    k = len(elist)
    if r:
        return 0
    c = 0
    for i in range(k+1):
        m = (-1)**i
        for d in combinations(range(k),i):
            t = k+q-sum(elist[j] for j in d)-i-1
            if t >= 0:
                c += m*comb(t,k-1)
    return c # _Chai Wah Wu_, Aug 20 2021
```
```Python
from sympy import factorint
from sympy.utilities.iterables import multiset_combinations
def A345957(n):
    if n == 1:
        return 1
    fs = factorint(n,multiple=True)
    q, r = divmod(len(fs),2)
    return 0 if r else len(list(multiset_combinations(fs,q))) # _Chai Wah Wu_, Aug 20 2021
```
