# Szekeres's sequence: a\(n\)\-1 in ternary \= n\-1 in binary; also: a\(1\) \= 1, a\(2\) \= 2, and thereafter a\(n\) is smallest number k which avoids any 3\-term arithmetic progression in a\(1\), a\(2\), \.\.\., a\(n\-1\), k\.
https://oeis.org/A003278
## JSON
```JSON
[1, 2, 4, 5, 10, 11, 13, 14, 28, 29, 31, 32, 37, 38, 40, 41, 82, 83, 85, 86, 91, 92, 94, 95, 109, 110, 112, 113, 118, 119, 121, 122, 244, 245, 247, 248, 253, 254, 256, 257, 271, 272, 274, 275, 280, 281, 283, 284, 325, 326, 328, 329, 334, 335, 337, 338, 352, 353]
```
## Maple
```Maple
a:= proc(n) local m, r, b; m, r, b:= n-1, 1, 1;
      while m>0 do r:= r+b*irem(m, 2, 'm'); b:= b*3 od; r
    end:
seq(a(n), n=1..100); # _Alois P. Heinz_, Aug 17 2013
```
## Mathematica
```Mathematica
Take[ Sort[ Plus @@@ Subsets[ Table[3^n, {n, 0, 6}]]] + 1, 58] (* _Robert G. Wilson v_, Oct 23 2004 *)
```
```Mathematica
a[1] = 0; h = 180;
```
```Mathematica
Table[a[3 k - 2] = a[k], {k, 1, h}];
```
```Mathematica
Table[a[3 k - 1] = a[k], {k, 1, h}];
```
```Mathematica
Table[a[3 k] = 1, {k, 1, h}];
```
```Mathematica
Table[a[n], {n, 1, h}]   (* A189820 *)
```
```Mathematica
Flatten[Position[%, 0]]  (* A003278 *)
```
```Mathematica
Flatten[Position[%%, 1]] (* A189822 *)
```
```Mathematica
(* A003278 from A189820, from _Clark Kimberling_, May 26 2011 *)
```
```Mathematica
Table[FromDigits[IntegerDigits[n, 2], 3] + 1, {n, 0, 57}] (* _Amit Munje_, Jun 03 2018 *)
```
## Perl
```Perl
$nxt = 1; @list = (); for ($cnt = 0; $cnt < 1500; $cnt++) { while (exists $legal{$nxt}) { $nxt++; } print "$nxt "; last if ($nxt >= 1000000); for ($i = 0; $i <= $#list; $i++) { $t = 2*$nxt - $list[$i]; $legal{$t} = -1; } $cnt++; push @list, $nxt; $nxt++; } # Hal Burch
```
## PARI
```PARI
a(n)=1+sum(i=1,n-1,(1+3^valuation(i,2))/2) \\ _Ralf Stephan_, Jan 21 2014
```
## Python
```Python
def A003278(n):
    return int(format(n-1,'b'),3)+1 # _Chai Wah Wu_, Jan 04 2015
```
## Julia
```Julia
function a(n)
    return 1 + parse(Int, bitstring(n-1), base=3)
end # _Gabriel F. Lipnik_, Apr 16 2021
```
