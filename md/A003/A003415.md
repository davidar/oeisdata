# a\(n\) \= n' \= arithmetic derivative of n: a\(0\) \= a\(1\) \= 0, a\(prime\) \= 1, a\(m\*n\) \= m\*a\(n\) \+ n\*a\(m\)\.
https://oeis.org/A003415
## JSON
```JSON
[0, 0, 1, 1, 4, 1, 5, 1, 12, 6, 7, 1, 16, 1, 9, 8, 32, 1, 21, 1, 24, 10, 13, 1, 44, 10, 15, 27, 32, 1, 31, 1, 80, 14, 19, 12, 60, 1, 21, 16, 68, 1, 41, 1, 48, 39, 25, 1, 112, 14, 45, 20, 56, 1, 81, 16, 92, 22, 31, 1, 92, 1, 33, 51, 192, 18, 61, 1, 72, 26, 59, 1, 156, 1, 39, 55, 80, 18, 71]
```
## Maple
```Maple
A003415 := proc(n) local B,m,i,t1,t2,t3; B := 1000000000039; if n<=1 then RETURN(0); fi; if isprime(n) then RETURN(1); fi; t1 := ifactor(B*n); m := nops(t1); t2 := 0; for i from 1 to m do t3 := op(i,t1); if nops(t3) = 1 then t2 := t2+1/op(t3); else t2 := t2+op(2,t3)/op(op(1,t3)); fi od: t2 := t2-1/B; n*t2; end;
A003415 := proc(n)
        local a,f;
        a := 0 ;
        for f in ifactors(n)[2] do
                a := a+ op(2,f)/op(1,f);
        end do;
        n*a ;
end proc: # _R. J. Mathar_, Apr 05 2012
```
## Mathematica
```Mathematica
a[ n_] := If[ Abs @ n < 2, 0, n Total[ #2 / #1 & @@@ FactorInteger[ Abs @ n]]]; (* _Michael Somos_, Apr 12 2011 *)
```
```Mathematica
dn[0] = 0; dn[1] = 0; dn[n_?Negative] := -dn[-n]; dn[n_] := Module[{f = Transpose[FactorInteger[n]]}, If[PrimeQ[n], 1, Total[n*f[[2]]/f[[1]]]]]; Table[dn[n], {n, 0, 100}] (* _T. D. Noe_, Sep 28 2012 *)
```
## PARI
```PARI
A003415(n) = {local(fac);if(n<1,0,fac=factor(n);sum(i=1,matsize(fac)[1],n*fac[i,2]/fac[i,1]))} /* _Michael B. Porter_, Nov 25 2009 */
```
```PARI
apply( A003415(n)=vecsum([n/f[1]*f[2]|f<-factor(n+!n)~]), [0..99]) \\ _M. F. Hasler_, Sep 25 2013, updated Nov 27 2019
```
```PARI
A003415(n) = { my(s=0, m=1, spf); while(n>1, spf = A020639(n); n /= spf; s += m*n; m *= spf); (s); }; \\ _Antti Karttunen_, Mar 10 2021
```
```PARI
a(n) = my(f=factor(n), r=[1/(e+!e)|e<-f[,1]], c=f[,2]); n*r*c; \\ _Ruud H.G. van Tol_, Sep 03 2023
```
## Haskell
```Haskell
a003415 0 = 0
a003415 n = ad n a000040_list where
  ad 1 _             = 0
  ad n ps'@(p:ps)
     | n < p * p     = 1
     | r > 0         = ad n ps
     | otherwise     = n' + p * ad n' ps' where
       (n',r) = divMod n p
-- _Reinhard Zumkeller_, May 09 2011
```
## Magma
```Magma
Ad:=func<h | h*(&+[Factorisation(h)[i][2]/Factorisation(h)[i][1]: i in [1..#Factorisation(h)]])>; [n le 1 select 0 else Ad(n): n in [0..80]]; // _Bruno Berselli_, Oct 22 2013
```
## Python
```Python
from sympy import factorint
def A003415(n):
    return sum([int(n*e/p) for p,e in factorint(n).items()]) if n > 1 else 0
# _Chai Wah Wu_, Aug 21 2014
```
## Sage
```Sage
def A003415(n):
    F = [] if n == 0 else factor(n)
    return n * sum(g / f for f, g in F)
[A003415(n) for n in range(79)] # _Peter Luschny_, Aug 23 2014
```
## GAP
```GAP
A003415:= Concatenation([0,0],List(List([2..10^3],Factors),
i->Product(i)*Sum(i,j->1/j))); # _Muniru A Asiru_, Aug 31 2017
```
## APL
```APL
A003415 ← { ⍺←(0 1 2) ⋄ ⍵≤1:⊃⍺ ⋄ 0=(3⊃⍺)|⍵:((⊃⍺+(2⊃⍺)×(⍵÷3⊃⍺)) ((2⊃⍺)×(3⊃⍺)) (3⊃⍺)) ∇ ⍵÷3⊃⍺ ⋄ ((⊃⍺) (2⊃⍺) (1+(3⊃⍺))) ∇ ⍵} ⍝ _Antti Karttunen_, Feb 18 2024
```
