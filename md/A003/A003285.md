# Period of continued fraction for square root of n \(or 0 if n is a square\)\.
https://oeis.org/A003285
## JSON
```JSON
[0, 1, 2, 0, 1, 2, 4, 2, 0, 1, 2, 2, 5, 4, 2, 0, 1, 2, 6, 2, 6, 6, 4, 2, 0, 1, 2, 4, 5, 2, 8, 4, 4, 4, 2, 0, 1, 2, 2, 2, 3, 2, 10, 8, 6, 12, 4, 2, 0, 1, 2, 6, 5, 6, 4, 2, 6, 7, 6, 4, 11, 4, 2, 0, 1, 2, 10, 2, 8, 6, 8, 2, 7, 5, 4, 12, 6, 4, 4, 2, 0, 1, 2, 2, 5, 10, 2, 6, 5, 2, 8, 8, 10, 16, 4, 4, 11, 4, 2, 0, 1, 2, 12]
```
## Maple
```Maple
f:= n ->  if issqr(n) then 0
   else nops(numtheory:-cfrac(sqrt(n),'periodic','quotients')[2]) fi:
map(f, [$1..100]); # _Robert Israel_, Sep 02 2015
```
## Mathematica
```Mathematica
a[n_] := ContinuedFraction[Sqrt[n]] // If[Length[ # ] == 1, 0, Length[Last[ # ]]]&
```
```Mathematica
pcf[n_]:=Module[{s=Sqrt[n]},If[IntegerQ[s],0,Length[ContinuedFraction[s][[2]]]]]; Array[pcf,110] (* _Harvey P. Dale_, Jul 15 2017 *)
```
## PARI
```PARI
a(n)=if(issquare(n),return(0));my(s=sqrt(n),x=s,f=floor(s),P=[0],Q=[1],k);while(1,k=#P;P=concat(P,f*Q[k]-P[k]);Q=concat(Q,(n-P[k+1]^2)/Q[k]);k++;for(i=1,k-1,if(P[i]==P[k]&&Q[i]==Q[k],return(k-i)));x=(P[k]+s)/Q[k];f=floor(x)) \\ _Charles R Greathouse IV_, Jul 31 2011
```
```PARI
isok(n, p) = {localprec(p); my(cf = contfrac(sqrt(n))); setsearch(Set(cf), 2*cf[1]);}
a(n) = {if (issquare(n), 0, my(p=100); while (! isok(n, p), p+=100); localprec(p); my(cf = contfrac(sqrt(n))); for (k=2, #cf, if (cf[k] == 2*cf[1], return (k-1))););} \\ _Michel Marcus_, Jul 07 2021
```
## Python
```Python
from sympy.ntheory.continued_fraction import continued_fraction_periodic
def a(n):
    cfp = continued_fraction_periodic(0, 1, d=n)
    return 0 if len(cfp) == 1 else len(cfp[1])
print([a(n) for n in range(1, 104)]) # _Michael S. Branicky_, Aug 22 2021
```
