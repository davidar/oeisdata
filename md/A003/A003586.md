# 3\-smooth numbers: numbers of the form 2^i\*3^j with i, j \>\= 0\.
https://oeis.org/A003586
## JSON
```JSON
[1, 2, 3, 4, 6, 8, 9, 12, 16, 18, 24, 27, 32, 36, 48, 54, 64, 72, 81, 96, 108, 128, 144, 162, 192, 216, 243, 256, 288, 324, 384, 432, 486, 512, 576, 648, 729, 768, 864, 972, 1024, 1152, 1296, 1458, 1536, 1728, 1944, 2048, 2187, 2304, 2592, 2916, 3072, 3456, 3888]
```
## Maple
```Maple
A003586 := proc(n) option remember; if n = 1 then 1; else for a from procname(n-1)+1 do numtheory[factorset](a) minus {2,3} ; if % = {} then return a; end if; end do: end if; end proc: # _R. J. Mathar_, Feb 28 2011
with(numtheory): for i from 1 to 23328 do if(i/phi(i)=3)then print(i/6) fi od; # _Gary Detlefs_, Jun 28 2011
```
## Mathematica
```Mathematica
a[1] = 1; j = 1; k = 1; n = 100; For[k = 2, k <= n, k++, If[2*a[k - j] < 3^j, a[k] = 2*a[k - j], {a[k] = 3^j, j++}]]; Table[a[i], {i, 1, n}] (* Hai He (hai(AT)mathteach.net) and Gilbert Traub, Dec 28 2004 *)
```
```Mathematica
aa = {}; Do[If[EulerPhi[6 n] == 2 n, AppendTo[aa, n]], {n, 1, 1000}]; aa (* _Artur Jasinski_, Nov 05 2008 *)
```
```Mathematica
fQ[n_] := Union[ MemberQ[{1, 5}, # ] & /@ Union@ Mod[ Rest@ Divisors@ n, 6]] == {False}; fQ[1] = True; Select[ Range@ 4000, fQ] (* _Robert G. Wilson v_, Oct 26 2010 *)
```
```Mathematica
powerOfTwo = 12; Select[Nest[Union@Join[#, 2*#, 3*#] &, {1}, powerOfTwo-1], # < 2^powerOfTwo &] (* _Robert G. Wilson v_ and _T. D. Noe_, Mar 03 2011 *)
```
```Mathematica
fQ[n_] := n == 3 EulerPhi@ n; Select[6 Range@ 4000, fQ]/6 (* _Robert G. Wilson v_, Jul 08 2011 *)
```
```Mathematica
mx = 4000; Sort@ Flatten@ Table[2^i*3^j, {i, 0, Log[2, mx]}, {j, 0, Log[3, mx/2^i]}] (* _Robert G. Wilson v_, Aug 17 2012 *)
```
```Mathematica
f[n_] := Block[{p2, p3 = 3^Range[0, Floor@ Log[3, n] + 1]}, p2 = 2^Floor[Log[2, n/p3] + 1]; Min[ Select[ p2*p3, IntegerQ]]]; NestList[f, 1, 54] (* _Robert G. Wilson v_, Aug 22 2012 *)
```
```Mathematica
Select[Range@4000, Last@Map[First, FactorInteger@#] <= 3 &] (* _Vincenzo Librandi_, Aug 25 2016 *)
```
```Mathematica
Select[Range[4000],Max[FactorInteger[#][[All,1]]]<4&] (* _Harvey P. Dale_, Jan 11 2017 *)
```
## PARI
```PARI
test(n)=for(p=2,3, while(n%p==0, n/=p)); n==1;
for(n=1,4000,if(test(n),print1(n",")))
```
```PARI
list(lim)=my(v=List(),N);for(n=0,log(lim\1+.5)\log(3),N=3^n;while(N<=lim,listput(v,N);N<<=1));vecsort(Vec(v)) \\ _Charles R Greathouse IV_, Jun 28 2011
```
```PARI
is_A003586(n)=n<5||vecmax(factor(n,5)[, 1])<5 \\ _M. F. Hasler_, Jan 16 2015
```
```PARI
list(lim)=my(v=List(), N); for(n=0, logint(lim\=1,3), N=3^n; while(N<=lim, listput(v, N); N<<=1)); Set(v) \\ _Charles R Greathouse IV_, Jan 10 2018
```
## Haskell
```Haskell
import Data.Set (Set, singleton, insert, deleteFindMin)
smooth :: Set Integer -> [Integer]
smooth s = x : smooth (insert (3*x) $ insert (2*x) s')
  where (x, s') = deleteFindMin s
a003586_list = smooth (singleton 1)
a003586 n = a003586_list !! (n-1)
-- _Reinhard Zumkeller_, Dec 16 2010
```
## Sage
```Sage
def isA003586(n) :
    return not any(d != 2 and d != 3 for d in prime_divisors(n))
@CachedFunction
def A003586(n) :
    if n == 1 : return 1
    k = A003586(n-1) + 1
    while not isA003586(k) : k += 1
    return k
[A003586(n) for n in (1..55)] # _Peter Luschny_, Jul 20 2012
```
## Python
```Python
from itertools import count, takewhile
def aupto(lim):
    pows2 = list(takewhile(lambda x: x<lim, (2**i for i in count(0))))
    pows3 = list(takewhile(lambda x: x<lim, (3**i for i in count(0))))
    return sorted(c*d for c in pows2 for d in pows3 if c*d <= lim)
print(aupto(10**4)) # _Michael S. Branicky_, Jul 08 2022
```
```Python
from sympy import integer_log
def A003586(n):
    def bisection(f,kmin=0,kmax=1):
        while f(kmax) > kmax: kmax <<= 1
        while kmax-kmin > 1:
            kmid = kmax+kmin>>1
            if f(kmid) <= kmid:
                kmax = kmid
            else:
                kmin = kmid
        return kmax
    def f(x): return n+x-sum((x//3**i).bit_length() for i in range(integer_log(x,3)[0]+1))
    return bisection(f,n,n) # _Chai Wah Wu_, Sep 15 2024
```
```Python
# faster for initial segment of sequence
import heapq
from itertools import islice
def A003586gen(): # generator of terms
    v, oldv, h, psmooth_primes, = 1, 0, [1], [2, 3]
    while True:
        v = heapq.heappop(h)
        if v != oldv:
            yield v
            oldv = v
            for p in psmooth_primes:
                    heapq.heappush(h, v*p)
print(list(islice(A003586gen(), 65))) # _Michael S. Branicky_, Sep 17 2024
```
## Magma
```Magma
[n: n in [1..4000] | PrimeDivisors(n) subset [2,3]]; // _Bruno Berselli_, Sep 24 2012
```
