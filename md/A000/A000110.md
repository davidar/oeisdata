# Bell or exponential numbers: number of ways to partition a set of n labeled elements\.
https://oeis.org/A000110
## JSON
```JSON
[1, 1, 2, 5, 15, 52, 203, 877, 4140, 21147, 115975, 678570, 4213597, 27644437, 190899322, 1382958545, 10480142147, 82864869804, 682076806159, 5832742205057, 51724158235372, 474869816156751, 4506715738447323, 44152005855084346, 445958869294805289, 4638590332229999353, 49631246523618756274]
```
## Maple
```Maple
A000110 := proc(n) option remember; if n <= 1 then 1 else add( binomial(n-1,i)*A000110(n-1-i),i=0..n-1); fi; end: # version 1
A := series(exp(exp(x)-1),x,60): A000110 := n->n!*coeff(A,x,n): # version 2
A000110:= n-> add(Stirling2(n, k), k=0..n): seq(A000110(n), n=0..22); # version 3, from _Zerinvary Lajos_, Jun 28 2007
A000110 := n -> combinat[bell](n): # version 4, from _Peter Luschny_, Mar 30 2011
spec:= [S, {S=Set(U, card >= 1), U=Set(Z, card >= 1)}, labeled]: G:={P=Set(Set(Atom, card>0))}: combstruct[gfsolve](G, unlabeled, x): seq(combstruct[count]([P, G, labeled], size=i), i=0..22);  # version 5, _Zerinvary Lajos_, Dec 16 2007
BellList := proc(m) local A, P, n; A := [1, 1]; P := [1]; for n from 1 to m - 2 do
P := ListTools:-PartialSums([A[-1], op(P)]); A := [op(A), P[-1]] od; A end: BellList(29); # _Peter Luschny_, Mar 24 2022
```
## Mathematica
```Mathematica
f[n_] := Sum[ StirlingS2[n, k], {k, 0, n}]; Table[ f[n], {n, 0, 40}] (* _Robert G. Wilson v_ *)
```
```Mathematica
Table[BellB[n], {n, 0, 40}] (* _Harvey P. Dale_, Mar 01 2011 *)
```
```Mathematica
B[0] = 1; B[n_] := 1/E Sum[k^(n - 1)/(k-1)!, {k, 1, Infinity}] (* _Dimitri Papadopoulos_, Mar 10 2015, edited by _M. F. Hasler_, Nov 30 2018 *)
```
```Mathematica
BellB[Range[0,40]] (* _Eric W. Weisstein_, Aug 10 2017 *)
```
```Mathematica
b[1] = 1; k = 1; Flatten[{1, Table[Do[j = k; k += b[m]; b[m] = j;, {m, 1, n-1}]; b[n] = k, {n, 1, 40}]}] (* _Vaclav Kotesovec_, Sep 07 2019 *)
```
```Mathematica
Table[j! Coefficient[Series[Exp[Exp[x] - 1], {x, 0, 20}], x, j], {j, 0, 20}] (* _Nikolaos Pantelidis_, Feb 01 2023 *)
```
## PARI
```PARI
{a(n) = my(m); if( n<0, 0, m = contfracpnqn( matrix(2, n\2, i, k, if( i==1, -k*x^2, 1 - (k+1)*x))); polcoeff(1 / (1 - x + m[2,1] / m[1,1]) + x * O(x^n), n))}; /* _Michael Somos_ */
```
```PARI
{a(n) = polcoeff( sum( k=0, n, prod( i=1, k, x / (1 - i*x)), x^n * O(x)), n)}; /* _Michael Somos_, Aug 22 2004 */
```
```PARI
a(n)=round(exp(-1)*suminf(k=0,1.0*k^n/k!)) \\ _Gottfried Helms_, Mar 30 2007 - WARNING! For illustration only: Gives silently a wrong result for n = 42 and an error for n > 42, with standard precision of 38 digits. - _M. F. Hasler_, Nov 30 2018
```
```PARI
{a(n) = if( n<0, 0, n! * polcoeff( exp( exp( x + x * O(x^n)) - 1), n))}; /* _Michael Somos_, Jun 28 2009 */
```
```PARI
Vec(serlaplace(exp(exp('x+O('x^66))-1))) \\ _Joerg Arndt_, May 26 2012
```
```PARI
A000110(n)=sum(k=0,n,stirling(n,k,2)) \\ _M. F. Hasler_, Nov 30 2018
```
## Sage
```Sage
from sage.combinat.expnums import expnums2; expnums2(30, 1) # _Zerinvary Lajos_, Jun 26 2008
```
```Sage
[bell_number(n) for n in (0..40)] # _G. C. Greubel_, Jun 13 2019
```
## Python
```Python
# The objective of this implementation is efficiency.
# m -> [a(0), a(1), ..., a(m)] for m > 0.
def A000110_list(m):
    A = [0 for i in range(m)]
    A[0] = 1
    R = [1, 1]
    for n in range(1, m):
        A[n] = A[0]
        for k in range(n, 0, -1):
            A[k-1] += A[k]
        R.append(A[0])
    return R
A000110_list(40) # _Peter Luschny_, Jan 18 2011
```
```Python
# requires python 3.2 or higher. Otherwise use def'n of accumulate in python docs.
from itertools import accumulate
A000110, blist, b = [1,1], [1], 1
for _ in range(20):
    blist = list(accumulate([b]+blist))
    b = blist[-1]
    A000110.append(b) # _Chai Wah Wu_, Sep 02 2014, updated _Chai Wah Wu_, Sep 19 2014
```
```Python
from sympy import bell
print([bell(n) for n in range(27)]) # _Michael S. Branicky_, Dec 15 2021
```
```Python
from functools import cache
@cache
def a(n, k=0): return int(n < 1) or k*a(n-1, k) + a(n-1, k+1)
print([a(n) for n in range(27)])  # _Peter Luschny_, Jun 14 2022
```
## Magma
```Magma
[Bell(n): n in [0..40]]; // _Vincenzo Librandi_, Feb 07 2011
```
## Maxima
```Maxima
makelist(belln(n),n,0,40); /* _Emanuele Munarini_, Jul 04 2011 */
```
## Haskell
```Haskell
type N = Integer
n_partitioned_k :: N -> N -> N
1 `n_partitioned_k` 1 = 1
1 `n_partitioned_k` _ = 0
n `n_partitioned_k` k = k * (pred n `n_partitioned_k` k) + (pred n `n_partitioned_k` pred k)
n_partitioned :: N -> N
n_partitioned 0 = 1
n_partitioned n = sum $ map (\k -> n `n_partitioned_k` k) $ [1 .. n]
-- _Felix Denis_, Oct 16 2012
```
```Haskell
a000110 = sum . a048993_row -- _Reinhard Zumkeller_, Jun 30 2013
```
## Julia
```Julia
function a(n)
    t = [zeros(BigInt, n+1) for _ in 1:n+1]
    t[1][1] = 1
    for i in 2:n+1
        t[i][1] = t[i-1][i-1]
        for j in 2:i
            t[i][j] = t[i-1][j-1] + t[i][j-1]
        end
    end
    return [t[i][1] for i in 1:n+1]
end
print(a(28)) # _Paul Muljadi_, May 07 2024
```
## Perl
```Perl
use bignum;sub a{my($n)=@_;my@t=map{[(0)x($n+1)]}0..$n;$t[0][0]=1;for my$i(1..$n){$t[$i][0]=$t[$i-1][$i-1];for my$j(1..$i){$t[$i][$j]=$t[$i-1][$j-1]+$t[$i][$j-1]}}return map{$t[$_][0]}0..$n-1}print join(", ",a(28)),"\n" # _Paul Muljadi_, May 08 2024
```
