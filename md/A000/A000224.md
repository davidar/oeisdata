# Number of squares mod n\.
https://oeis.org/A000224
## JSON
```JSON
[1, 2, 2, 2, 3, 4, 4, 3, 4, 6, 6, 4, 7, 8, 6, 4, 9, 8, 10, 6, 8, 12, 12, 6, 11, 14, 11, 8, 15, 12, 16, 7, 12, 18, 12, 8, 19, 20, 14, 9, 21, 16, 22, 12, 12, 24, 24, 8, 22, 22, 18, 14, 27, 22, 18, 12, 20, 30, 30, 12, 31, 32, 16, 12, 21, 24, 34, 18, 24, 24, 36, 12]
```
## Maple
```Maple
A000224 := proc(m)
    {seq( modp(b^2,m),b=0..m-1) };
    nops(%) ;
end proc: # _Emeric Deutsch_
# 2nd implementation
A000224 := proc(n)
    local a,ifs,f,p,e,c ;
    a := 1 ;
    ifs := ifactors(n)[2] ;
    for f in ifs do
        p := op(1,f) ;
        e := op(2,f) ;
        if p = 2 then
            if type(e,'odd') then
                a := a*(2^(e-1)+5)/3 ;
            else
                a := a*(2^(e-1)+4)/3 ;
            end if;
        else
            if type(e,'odd') then
                c := 2*p+1 ;
            else
                c := p+2 ;
            end if;
            a := a*(p^(e+1)+c)/2/(p+1) ;
        end if;
    end do:
    a ;
end proc: # _R. J. Mathar_, Oct 10 2014
```
## Mathematica
```Mathematica
Length[Union[#]]& /@ Table[Mod[k^2, n], {n, 65}, {k, n}] (* _Jean-François Alcover_, Aug 30 2011 *)
```
```Mathematica
a[2] = 2; a[n_] := a[n] = Switch[fi = FactorInteger[n], {{_, 1}}, (fi[[1, 1]] + 1)/2, {{2, _}}, 3/2 + 2^fi[[1, 2]]/6 + (-1)^(fi[[1, 2]]+1)/6, {{_, _}}, {p, k} = fi[[1]]; 3/4 + (p-1)*(-1)^(k+1)/(4*(p+1)) + p^(k+1)/(2*(p+1)), _, Times @@ Table[ a[Power @@ f], {f, fi}]]; Table[a[n], {n, 1, 100}] (* _Jean-François Alcover_, Mar 09 2015 *)
```
## PARI
```PARI
a(n) = local(v,i); v = vector(n,i,0); for(i=0, floor(n/2),v[i^2%n+1] = 1); sum(i=1,n,v[i]) \\ _Franklin T. Adams-Watters_, Nov 05 2006
```
```PARI
a(n)=my(f=factor(n));prod(i=1,#f[,1],if(f[i,1]==2,2^f[1,2]\6+2,f[i,1]^(f[i,2]+1)\(2*f[i,1]+2)+1)) \\ _Charles R Greathouse IV_, Jul 15 2011
```
## Haskell
```Haskell
a000224 n = product $ zipWith f (a027748_row n) (a124010_row n) where
   f 2 e = 2 ^ e `div` 6 + 2
   f p e = p ^ (e + 1) `div` (2 * p + 2) + 1
-- _Reinhard Zumkeller_, Aug 01 2012
```
## Python
```Python
from math import prod
from sympy import factorint
def A000224(n): return prod((p**(e+1)//((p+1)*(q:=1+(p==2)))>>1)+q for p, e in factorint(n).items()) # _Chai Wah Wu_, Oct 07 2024
```
