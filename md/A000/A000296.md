# Set partitions without singletons: number of partitions of an n\-set into blocks of size \> 1\. Also number of cyclically spaced \(or feasible\) partitions\.
https://oeis.org/A000296
## JSON
```JSON
[1, 0, 1, 1, 4, 11, 41, 162, 715, 3425, 17722, 98253, 580317, 3633280, 24011157, 166888165, 1216070380, 9264071767, 73600798037, 608476008122, 5224266196935, 46499892038437, 428369924118314, 4078345814329009, 40073660040755337, 405885209254049952, 4232705122975949401]
```
## Maple
```Maple
spec := [ B, {B=Set(Set(Z,card>1))}, labeled ]; [seq(combstruct[count](spec, size=n), n=0..30)];
with(combinat): A000296 :=n->(-1)^n + add((-1)^(j-1)*bell(n-j),j=1..n): seq(A000295(n),n=0..30); # _Emeric Deutsch_, Oct 29 2006
f:=exp(exp(x)-1-x): fser:=series(f, x=0, 31): 1, seq(n!*coeff(fser, x^n), n=1..23); # _Zerinvary Lajos_, Nov 22 2006
G:={P=Set(Set(Atom,card>=2))}: combstruct[gfsolve](G,unlabeled,x): seq(combstruct[count]([P,G,labeled], size=i), i=0..23); # _Zerinvary Lajos_, Dec 16 2007
# [a(0),a(1),..,a(n)]
A000296_list := proc(n)
local A, R, i, k;
if n = 0 then return 1 fi;
A := array(0..n-1);
A[0] := 1; R := 1;
for i from 0 to n-2 do
   A[i+1] := A[0] - A[i];
   A[i] := A[0];
   for k from i by -1 to 1 do
      A[k-1] := A[k-1] + A[k] od;
   R := R,A[i+1];
od;
R,A[0]-A[i] end:
A000296_list(100);  # _Peter Luschny_, Apr 09 2011
```
## Mathematica
```Mathematica
nn = 25; Range[0, nn]! CoefficientList[Series[Exp[Exp[x] - 1 - x], {x, 0, nn}], x]
```
```Mathematica
(* Second program: *)
```
```Mathematica
a[n_] := a[n] = If[n==0, 1, Sum[Binomial[n-1, i]*a[n-i-1], {i, 1, n-1}]]; Table[a[n], {n, 0, 30}] (* _Jean-Fran√ßois Alcover_, Feb 06 2016, after _Vladimir Kruchinin_ *)
```
```Mathematica
spsu[_,{}]:={{}};spsu[foo_,set:{i_,___}]:= Join@@Function[s,Prepend[#,s]&/@spsu[ Select[foo,Complement[#, Complement[set,s]]=={}&], Complement[set,s]]]/@Cases[foo,{i,___}];
```
```Mathematica
Table[Length[spsu[Select[Subsets[Range[n]],Select[Partition[Range[n],2,1,1], Function[ed,Complement[ed,#]=={}]]=={}&],Range[n]]],{n,8}] (* _Gus Wiseman_, Feb 10 2019 *)
```
```Mathematica
s = 1; Join[{1}, Table[s = BellB[n] - s, {n, 0, 25}]] (* _Vaclav Kotesovec_, Jun 20 2022 *)
```
## PARI
```PARI
a(n) = if(n<2, n==0, subst( polinterpolate( Vec( serlaplace( exp( exp( x+O(x^n)/x )-1 ) ) ) ), x, n) )
```
## Maxima
```Maxima
a(n):=if n=0 then 1 else sum(binomial(n-1,i)*a(n-i-1),i,1,n-1); /* _Vladimir Kruchinin_, Feb 22 2015 */
```
## Magma
```Magma
[1,0] cat [ n le 1 select 1 else Bell(n)-Self(n-1) : n in [1..40]]; // _Vincenzo Librandi_, Jun 22 2015
```
## Python
```Python
from itertools import accumulate, islice
def A000296_gen():
    yield from (1,0)
    blist, a, b = (1,), 0, 1
    while True:
        blist = list(accumulate(blist, initial = (b:=blist[-1])))
        yield (a := b-a)
A000296_list = list(islice(A000296_gen(),20)) # _Chai Wah Wu_, Jun 22 2022
```
