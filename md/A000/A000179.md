# Ménage numbers: a\(0\) \= 1, a\(1\) \= \-1, and for n \>\= 2, a\(n\) \= number of permutations s of \[0, \.\.\., n\-1\] such that s\(i\) \!\= i and s\(i\) \!\= i\+1 \(mod n\) for all i\.
https://oeis.org/A000179
## JSON
```JSON
[1, -1, 0, 1, 2, 13, 80, 579, 4738, 43387, 439792, 4890741, 59216642, 775596313, 10927434464, 164806435783, 2649391469058, 45226435601207, 817056406224416, 15574618910994665, 312400218671253762, 6577618644576902053, 145051250421230224304, 3343382818203784146955, 80399425364623070680706, 2013619745874493923699123]
```
## Maple
```Maple
A000179:= n ->add ((-1)^k*(2*n)*binomial(2*n-k,k)*(n-k)!/(2*n-k), k=0..n); # for n >= 1
U:= proc(n) local k; add( (2*n/(2*n-k))*binomial(2*n-k,k)*(n-k)!*(x-1)^k, k=0..n); end; W := proc(r,s) coeff( U(r),x,s ); end; A000179 := n->W(n,0); # valid for n >= 1
```
## Mathematica
```Mathematica
a[n_] := 2*n*Sum[(-1)^k*Binomial[2*n - k, k]*(n - k)!/(2*n - k), {k, 0, n}]; a[0] = 1; Table[a[n], {n, 0, 21}] (* _Jean-François Alcover_, Dec 05 2012, from 2nd formula *)
```
## PARI
```PARI
\\ 3 programs adapted to a(1) = -1 by _Hugo Pfoertner_, Aug 31 2020
```
```PARI
{a(n) = my(A); if( n, A = vector(n,i,i-2); for(k=4, n, A[k] = (k * (k - 2) * A[k-1] + k * A[k-2] - 4 * (-1)^k) / (k-2)); A[n], 1)};/* _Michael Somos_, Jan 22 2008 */
```
```PARI
a(n)=if(n>1, round(2*n*exp(-2)*besselk(n, 2)), 1-2*n) \\ _Charles R Greathouse IV_, Nov 03 2014
```
```PARI
{a(n) = my(A); if( n, A = vector(n,i,i-2); for(k=5, n, A[k] = k * A[k-1] + 2 * A[k-2] + (4-k) * A[k-3] - A[k-4]); A[n], 1)} /* _Michael Somos_, May 02 2018 */
```
## Haskell
```Haskell
import Data.List (zipWith5)
a000179 n = a000179_list !! n
a000179_list = 1 : -1 : 0 : 1 : zipWith5
   (\v w x y z -> (x * y + (v + 2) * z - w) `div` v) [2..] (cycle [4,-4])
   (drop 4 a067998_list) (drop 3 a000179_list) (drop 2 a000179_list)
-- _Reinhard Zumkeller_, Aug 26 2013
```
## Python
```Python
from math import comb, factorial
def A000179(n): return 1 if n == 0 else sum((-2*n if k & 1 else 2*n)*comb(m:=2*n-k,k)*factorial(n-k)//m for k in range(n+1)) # _Chai Wah Wu_, May 27 2022
```
