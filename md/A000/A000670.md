# Fubini numbers: number of preferential arrangements of n labeled elements; or number of weak orders on n labeled elements; or number of ordered partitions of \[n\]\.
https://oeis.org/A000670
## JSON
```JSON
[1, 1, 3, 13, 75, 541, 4683, 47293, 545835, 7087261, 102247563, 1622632573, 28091567595, 526858348381, 10641342970443, 230283190977853, 5315654681981355, 130370767029135901, 3385534663256845323, 92801587319328411133, 2677687796244384203115]
```
## Maple
```Maple
A000670 := proc(n) option remember; local k; if n <=1 then 1 else add(binomial(n,k)*A000670(n-k),k=1..n); fi; end;
with(combstruct); SeqSetL := [S, {S=Sequence(U), U=Set(Z,card >= 1)},labeled]; seq(count(SeqSetL,size=j),j=1..12);
with(combinat): a:=n->add(add((-1)^(k-i)*binomial(k, i)*i^n, i=0..n), k=0..n): seq(a(n), n=0..18); # _Zerinvary Lajos_, Jun 03 2007
a := n -> add(combinat:-eulerian1(n,k)*2^k,k=0..n): # _Peter Luschny_, Jan 02 2015
a := n -> (polylog(-n, 1/2)+`if`(n=0,1,0))/2: seq(round(evalf(a(n),32)), n=0..20); # _Peter Luschny_, Nov 03 2015
# next Maple program:
b:= proc(n, k) option remember;
     `if`(n=0, k!, k*b(n-1, k)+b(n-1, k+1))
    end:
a:= n-> b(n, 0):
seq(a(n), n=0..20);  # _Alois P. Heinz_, Aug 04 2021
```
## Mathematica
```Mathematica
Table[(PolyLog[-z, 1/2] + KroneckerDelta[z])/2, {z, 0, 20}] (* _Wouter Meeussen_ *)
```
```Mathematica
a[0] = 1; a[n_]:= a[n]= Sum[Binomial[n, k]*a[n-k], {k, 1, n}]; Table[a[n], {n, 0, 30}] (* _Roger L. Bagula_ and _Gary W. Adamson_, Sep 13 2008 *)
```
```Mathematica
t = 30; Range[0, t]! CoefficientList[Series[1/(2 - Exp[x]), {x, 0, t}], x] (* _Vincenzo Librandi_, Mar 16 2014 *)
```
```Mathematica
a[ n_] := If[ n < 0, 0, n! SeriesCoefficient[ 1 / (2 - Exp@x), {x, 0, n}]]; (* _Michael Somos_, Jun 19 2015 *)
```
```Mathematica
Table[Sum[k^n/2^(k+1),{k,0,Infinity}],{n,0,20}] (* _Vaclav Kotesovec_, Jun 26 2015 *)
```
```Mathematica
Table[HurwitzLerchPhi[1/2, -n, 0]/2, {n, 0, 20}] (* _Jean-François Alcover_, Jan 31 2016 *)
```
```Mathematica
Fubini[n_, r_] := Sum[k!*Sum[(-1)^(i+k+r)*((i+r)^(n-r)/(i!*(k-i-r)!)), {i, 0, k-r}], {k, r, n}]; Fubini[0, 1] = 1; Table[Fubini[n, 1], {n, 0, 20}] (* _Jean-François Alcover_, Mar 31 2016 *)
```
```Mathematica
Eulerian1[0, 0] = 1; Eulerian1[n_, k_] := Sum[(-1)^j (k-j+1)^n Binomial[n+1, j], {j, 0, k+1}]; Table[Sum[Eulerian1[n, k] 2^k, {k, 0, n}], {n, 0, 20}] (* _Jean-François Alcover_, Jul 13 2019, after _Peter Luschny_ *)
```
```Mathematica
Prepend[Table[-(-1)^k HurwitzLerchPhi[2, -k, 0]/2, {k, 1, 50}], 1] (* _Federico Provvedi_,Sep 05 2020 *)
```
```Mathematica
Table[Sum[k!*StirlingS2[n,k], {k, 0, n}], {n, 0, 20}] (* _Vaclav Kotesovec_, Nov 22 2020 *)
```
## PARI
```PARI
{a(n) = if( n<0, 0, n! * polcoeff( subst( 1 / (1 - y), y, exp(x + x*O(x^n)) - 1), n))}; /* _Michael Somos_, Mar 04 2004 */
```
```PARI
Vec(serlaplace(1/(2-exp('x+O('x^66))))) /* _Joerg Arndt_, Jul 10 2011 */
```
```PARI
{a(n)=polcoeff(sum(m=0,n,m!*x^m/prod(k=1,m,1-k*x+x*O(x^n))),n)} /* _Paul D. Hanna_, Jul 20 2011 */
```
```PARI
{a(n) = if( n<1, n==0, sum(k=1, n, binomial(n, k) * a(n-k)))}; /* _Michael Somos_, Jul 16 2017 */
```
## Maxima
```Maxima
makelist(sum(stirling2(n,k)*k!,k,0,n),n,0,12); /* _Emanuele Munarini_, Jul 07 2011 */
```
```Maxima
a[0]:1$ a[n]:=sum(binomial(n,k)*a[n-k],k,1,n)$ A000670(n):=a[n]$ makelist(A000670(n),n,0,30); /* _Martin Ettl_, Nov 05 2012 */
```
## Sage
```Sage
@CachedFunction
def A000670(n) : return 1 if n == 0 else add(A000670(k)*binomial(n,k) for k in range(n))
[A000670(n) for n in (0..20)] # _Peter Luschny_, Jul 14 2012
```
## Haskell
```Haskell
a000670 n = a000670_list !! n
a000670_list = 1 : f [1] (map tail $ tail a007318_tabl) where
   f xs (bs:bss) = y : f (y : xs) bss where y = sum $ zipWith (*) xs bs
-- _Reinhard Zumkeller_, Jul 26 2014
```
## Python
```Python
from math import factorial
from sympy.functions.combinatorial.numbers import stirling
def A000670(n): return sum(factorial(k)*stirling(n,k) for k in range(n+1)) # _Chai Wah Wu_, Nov 08 2022
```
## Magma
```Magma
R<x>:=PowerSeriesRing(Rationals(), 40);
Coefficients(R!(Laplace( 1/(2-Exp(x)) ))); // _G. C. Greubel_, Jun 11 2024
```
