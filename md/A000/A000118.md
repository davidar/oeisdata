# Number of ways of writing n as a sum of 4 squares; also theta series of four\-dimensional cubic lattice Z^4\.
https://oeis.org/A000118
## JSON
```JSON
[1, 8, 24, 32, 24, 48, 96, 64, 24, 104, 144, 96, 96, 112, 192, 192, 24, 144, 312, 160, 144, 256, 288, 192, 96, 248, 336, 320, 192, 240, 576, 256, 24, 384, 432, 384, 312, 304, 480, 448, 144, 336, 768, 352, 288, 624, 576, 384, 96, 456, 744, 576, 336, 432, 960, 576, 192]
```
## Maple
```Maple
(add(q^(m^2),m=-10..10))^4; seq(coeff(%,q,n), n=0..50);
# Alternative:
A000118list := proc(len) series(JacobiTheta3(0, x)^4, x, len+1);
seq(coeff(%, x, j), j=0..len-1) end: A000118list(57); # _Peter Luschny_, Oct 02 2018
```
## Mathematica
```Mathematica
Table[SquaresR[4, n], {n, 0, 46}]
```
```Mathematica
a[ n_] :=  SeriesCoefficient[ EllipticTheta[ 3, 0, q]^4, {q, 0, n}]; (* _Michael Somos_, Jun 12 2014 *)
```
```Mathematica
a[ n_] := If[ n < 1, Boole[ n == 0], 8 Sum[ If[ Mod[ d, 4] > 0, d, 0], {d, Divisors @ n }]]; (* _Michael Somos_, Feb 20 2015 *)
```
```Mathematica
QP = QPochhammer; CoefficientList[QP[-q]^8/QP[q^2]^4 + O[q]^60, q] (* _Jean-Fran√ßois Alcover_, Nov 24 2015 *)
```
## PARI
```PARI
{a(n) = if( n<1, n==0, 8 * sumdiv( n, d, if( d%4, d)))}; /* _Michael Somos_, Apr 01 2003 */
```
```PARI
{a(n) = local(A); if( n<0, 0, A = x * O(x^n); polcoeff( (eta(x^2 + A)^5 / (eta(x + A)^2 * eta(x^4 + A)^2))^4, n))}; /* _Michael Somos_, Apr 01 2008 */
```
```PARI
q='q+O('q^66); Vec((eta(q^2)^5/(eta(q)^2*eta(q^4)^2))^4) /* _Joerg Arndt_, Apr 08 2013 */
```
```PARI
a(n) = 8*sigma(n) - if (n % 4, 0, 32*sigma(n/4)); \\ _Michel Marcus_, Jul 13 2016
```
## Sage
```Sage
A = ModularForms( Gamma0(4), 2, prec=57) . basis(); A[0] + 8*A[1]; # _Michael Somos_, Jun 12 2014
```
```Sage
Q = DiagonalQuadraticForm(ZZ, [1]*4)
Q.representation_number_list(60) # _Peter Luschny_, Jun 20 2014
```
## Magma
```Magma
A := Basis( ModularForms( Gamma0(4), 2), 57); A[1] + 8*A[2]; /* _Michael Somos_, Aug 21 2014 */
```
## Haskell
```Haskell
a000118 0 = 1
a000118 n = 8 * a046897 n  -- _Reinhard Zumkeller_, Aug 12 2015
```
## Julia
```Julia
# JacobiTheta3 is defined in A000122.
A000118List(len) = JacobiTheta3(len, 4)
A000118List(57) |> println # _Peter Luschny_, Mar 12 2018
```
## Python
```Python
from sympy import divisors
def a(n): return 1 if n==0 else 8*sum(d for d in divisors(n) if d%4 != 0)
print([a(n) for n in range(57)]) # _Michael S. Branicky_, Jan 08 2021
```
```Python
from sympy import divisor_sigma
def A000118(n): return 1 if n == 0 else 8*divisor_sigma(n) if n % 2 else 24*divisor_sigma(int(bin(n)[2:].rstrip('0'),2)) # _Chai Wah Wu_, Jun 27 2022
```
