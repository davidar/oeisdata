# Moser\-de Bruijn sequence: sums of distinct powers of 4\.
https://oeis.org/A000695
## JSON
```JSON
[0, 1, 4, 5, 16, 17, 20, 21, 64, 65, 68, 69, 80, 81, 84, 85, 256, 257, 260, 261, 272, 273, 276, 277, 320, 321, 324, 325, 336, 337, 340, 341, 1024, 1025, 1028, 1029, 1040, 1041, 1044, 1045, 1088, 1089, 1092, 1093, 1104, 1105, 1108, 1109, 1280, 1281, 1284, 1285]
```
## Maple
```Maple
a:= proc(n) local m, r, b; m, r, b:= n, 0, 1;
      while m>0 do r:= r+b*irem(m, 2, 'm'); b:= b*4 od; r
    end:
seq(a(n), n=0..100);  # _Alois P. Heinz_, Mar 16 2013
```
## Mathematica
```Mathematica
Table[FromDigits[Riffle[IntegerDigits[n, 2], 0], 2], {n, 0, 51}] (* _Jacob A. Siehler_, Jun 30 2010 *)
```
```Mathematica
Table[FromDigits[IntegerDigits[n, 2], 4], {n, 0, 51}] (* _IWABUCHI Yu(u)ki_, Apr 06 2013 *)
```
```Mathematica
Union@ Flatten@ NestList[ Join[ 4#, 4# + 1] &, {0}, 6] (* _Robert G. Wilson v_, Aug 30 2014 *)
```
```Mathematica
Select[ Range[0, 1320], Total@ IntegerDigits[#, 2] == Total@ IntegerDigits[#, 4] &] (* _Robert G. Wilson v_, Oct 24 2014 *)
```
```Mathematica
Union[FromDigits[#,4]&/@Flatten[Table[Tuples[{0,1},n],{n,6}],1]] (* _Harvey P. Dale_, Oct 03 2015 *)
```
```Mathematica
a[ n_] := Which[n < 1, 0, EvenQ[n], a[n/2] 4, True, a[n - 1] + 1]; (* _Michael Somos_, Nov 30 2016 *)
```
## PARI
```PARI
a(n)=n=binary(n);sum(i=1,#n,n[i]*4^(#n-i)) \\ _Charles R Greathouse IV_, Mar 04 2013
```
```PARI
{a(n) = if( n<1, 0, n%2, a(n-1) + 1, a(n/2) * 4)}; /* _Michael Somos_, Nov 30 2016 */
```
```PARI
A000695(n)=fromdigits(binary(n),4) \\ _M. F. Hasler_, Oct 16 2018
```
## Haskell
```Haskell
a000695 n = if n == 0 then 0 else 4 * a000695 n' + b
            where (n',b) = divMod n 2
-- _Reinhard Zumkeller_, Feb 21 2014, Dec 03 2011
```
## Python
```Python
def a(n):
    n = bin(n)[2:]
    x = len(n)
    return sum(int(n[i]) * 4**(x - 1 - i) for i in range(x))
[a(n) for n in range(101)] # _Indranil Ghosh_, Jun 25 2017
```
```Python
def a():
    x = 0
    while True:
        yield x
        y = ~(x << 1)
        x = (x - y) & y # _Falk Hüffner_, Dec 21 2021
```
```Python
from itertools import count, islice
def A000695_gen(): # generator of terms
    yield (a:=0)
    for n in count(1):
        yield (a := a+((1<<((~n & n-1).bit_length()<<1)+1)+1)//3)
A000695_list = list(islice(A000695_gen(),30)) # _Chai Wah Wu_, Feb 22 2023
```
```Python
def A000695(n): return int(bin(n)[2:],4) # _Chai Wah Wu_, Aug 21 2023
```
## Magma
```Magma
m:=60; R<x>:=PowerSeriesRing(Integers(), m); [0] cat Coefficients(R!( (&+[4^k*x^(2^k)/(1+x^(2^k)): k in [0..20]])/(1-x) )); // _G. C. Greubel_, Dec 06 2018
```
## Sage
```Sage
s=(sum(4^k*x^(2^k)/(1+x^(2^k)) for k in range(10))/(1-x)).series(x, 60); s.coefficients(x, sparse=False) # _G. C. Greubel_, Dec 06 2018
```
## Julia
```Julia
function a(n)
    m, r, b = n, 0, 1
    while m > 0
        m, q = divrem(m, 2)
        r += b * q
        b *= 4
    end
r end; [a(n) for n in 0:51] |> println # _Peter Luschny_, Jan 03 2021
```
## C
```C
uint32_t a_next(uint32_t a_n) { return (a_n + 0xaaaaaaab) & 0x55555555; } /* _Falk Hüffner_, Jan 24 2022 */
```
