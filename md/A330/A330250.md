# Unreduced numerator of expected rank of applicant in average rank secretary problem\.
https://oeis.org/A330250
## JSON
```JSON
[1, 3, 10, 45, 246, 1596, 11472, 96768, 905760, 9282240, 104328000, 1285502400, 17030200320, 242650598400, 3685666037760, 60059908823040, 1032474885120000, 18781151090688000, 360710540426880000, 7302919022138880000, 154603891182698496000, 3423234952360194048000]
```
## Mathematica
```Mathematica
Table[ci = (n + 1)/2; Do[ratio = (i + 1)/(n + 1); si = Floor[ratio*ci]; ci = 1/i*(1/ratio*(si*(si + 1)/2) + (i - si)*ci);, {i, n-1, 1, -1}];  Numerator[ci*n!], {n, 1, 25}] (* _Vaclav Kotesovec_, Jan 04 2020 *)
```
## Python
```Python
from fractions import Fraction
from math import factorial
def a(n):
  c_i = Fraction(n + 1, 2)
  for i in reversed(range(1, n)):
    ratio = Fraction(i+1, n+1)
    s_i = int( ratio * c_i )
    c_i = Fraction( (s_i * (s_i + 1) // 2) / ratio + (i - s_i) * c_i, i)
  return (c_i*factorial(n)).numerator
for n in range(1, 20):
    print(a(n))
```
## PARI
```PARI
a(n) = {my(ci = (n+1)/2, r, si); forstep(i=n-1, 1, -1, r = (i+1)/(n+1); si = floor(r*ci); ci = ((si * (si + 1)/(2*r) + (i - si) * ci )/i);); numerator(ci*n!);}
for(n=1, 20, print1(a(n), ", ")) \\ _Michel Marcus_ and _Vaclav Kotesovec_, Jan 04 2020
```
## Julia
```Julia
function a(n)
    r, c = BigInt(n), BigInt(n + 1) // 2
    for i = n-1:-1:1
        q = (i + 1) // (n + 1)
        s = floor(q * c)
        k = (i - s) * c + (s * (s + 1)) // (2 * q)
        c = k // i
        r *= i
    end
numerator(r * c) end
[a(n) for n in 1:22] |> println # _Peter Luschny_, Jan 05 2020
```
