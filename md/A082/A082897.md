# Perfect totient numbers\.
https://oeis.org/A082897
## JSON
```JSON
[3, 9, 15, 27, 39, 81, 111, 183, 243, 255, 327, 363, 471, 729, 2187, 2199, 3063, 4359, 4375, 5571, 6561, 8751, 15723, 19683, 36759, 46791, 59049, 65535, 140103, 177147, 208191, 441027, 531441, 1594323, 4190263, 4782969, 9056583, 14348907, 43046721]
```
## Maple
```Maple
with(numtheory):
A082897_list := proc(N) local k,p,n,L;
L := NULL;
for n from 3 by 2 to N do
k := 0; p := phi(n);
while 1 < p do k := k + p; p := phi(p) od;
if k + 1 = n then L := L,n fi
od; L end: # _Peter Luschny_, Nov 01 2010
```
## Mathematica
```Mathematica
kMax = 57395631; a = Table[0, {kMax}]; PTNs = {}; Do[e = EulerPhi[k]; a[[k]] = e + a[[e]]; If[k == a[[k]], AppendTo[PTNs, k]], {k, 2, kMax}]; PTNs
```
```Mathematica
perfTotQ[n_] := Plus @@ FixedPointList[ EulerPhi@ # &, n] == 2n + 1; Select[Range[1000], perfTotQ] (* _Robert G. Wilson v_, Nov 06 2010 *)
```
## PARI
```PARI
S(n)={n=eulerphi(n);if(n==1,1,n+S(n))}
for(n=2,1e3,if(S(n)==n,print1(n", "))) \\ _Charles R Greathouse IV_, Mar 29 2012; Corrected by _Dana Jacobsen_, Dec 16 2018
```
## Perl
```Perl
use ntheory "euler_phi"; sub S { my $n=euler_phi(shift); return 1 if $n == 1; $n+S($n); }   for (2..1e4) { say if $_==S($_); } # _Dana Jacobsen_, Dec 16 2018
```
## Python
```Python
from itertools import count, islice
from gmpy2 import digits
from sympy import totient
def A082897_gen(startvalue=3): # generator of terms >= startvalue
    for n in count((k:=max(startvalue,3))+1-(k&1),2):
        t = digits(n,3)
        if t.count('0') == len(t)-1:
            yield n
        else:
            m, s = n, 1
            while (m:=totient(m))>1:
                s += m
            if s == n:
                yield n
A082897_list = list(islice(A082897_gen(),20)) # _Chai Wah Wu_, Mar 24 2023
```
