# If 2n \= Sum 2^e\_i, a\(n\) \= Sum e\_i\.
https://oeis.org/A029931
## JSON
```JSON
[0, 1, 2, 3, 3, 4, 5, 6, 4, 5, 6, 7, 7, 8, 9, 10, 5, 6, 7, 8, 8, 9, 10, 11, 9, 10, 11, 12, 12, 13, 14, 15, 6, 7, 8, 9, 9, 10, 11, 12, 10, 11, 12, 13, 13, 14, 15, 16, 11, 12, 13, 14, 14, 15, 16, 17, 15, 16, 17, 18, 18, 19, 20, 21, 7, 8, 9, 10, 10, 11, 12, 13, 11, 12, 13, 14, 14, 15, 16]
```
## Maple
```Maple
HammingWeight := n -> add(i, i = convert(n, base, 2)):
a := proc(n) option remember; `if`(n = 0, 0,
ifelse(n::even, a(n/2) + HammingWeight(n/2), a(n-1) + 1)) end:
seq(a(n), n = 0..78); # _Peter Luschny_, Oct 30 2021
```
## Mathematica
```Mathematica
a[n_] := (b = IntegerDigits[n, 2]).Reverse @ Range[Length @ b]; Array[a,78,0] (* _Jean-FranÃ§ois Alcover_, Apr 28 2011, after B. Cloitre *)
```
## PARI
```PARI
for(n=0,100,l=length(binary(n)); print1(sum(i=1,l, component(binary(n),i)*(l-i+1)),","))
```
```PARI
a(n) = my(b=binary(n)); b*-[-#b..-1]~; \\ _Ruud H.G. van Tol_, Oct 17 2023
```
## Haskell
```Haskell
a029931 = sum . zipWith (*) [1..] . a030308_row
-- _Reinhard Zumkeller_, Feb 28 2014
```
## Python
```Python
def A029931(n): return sum(i if j == '1' else 0 for i, j in enumerate(bin(n)[:1:-1],1)) # _Chai Wah Wu_, Dec 20 2022
```
## C#
```C#
ulong A029931(ulong n) {
    ulong result = 0, counter = 1;
    while(n > 0) {
        if (n % 2 == 1)
          result += counter;
        counter++;
        n /= 2;
    }
    return result;
} // _Frank Hollstein_, Jan 07 2023
```
