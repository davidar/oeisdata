# Characteristic function of the reverse in the shuffle \(perfect faro shuffle with cut\): 1 if the sequence of shuffles of n cards contains the reverse of the original order of cards, 0 if not\.
https://oeis.org/A321512
## JSON
```JSON
[1, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1]
```
## Python
```Python
for n in range(1, 101):
   cards = [i for i in range(1, n + 1)]
   reverse = cards[::-1]
   shuffled = cards.copy()
   reversein = False
   for i in range(n):
      evens = shuffled[1::2]
      odds = shuffled[0::2]
      shuffled = evens + odds
      if shuffled == reverse:
         reversein = True
   print(n, int(reversein))
```
## PARI
```PARI
shuffle(v) = {my(h=#v\2); vector(#v, i, if(i<=h, 2*i, 2*(i-h)-1))};
permcycs(v) = {my(f=vector(#v), L=List()); for(i=1, #v, if(!f[i], my(T=List(), j=i); while(!f[j], f[j]=1; listput(T, j); j=v[j]); listput(L, Vec(T)))); Vec(L)};
A321512(n)={my(v=permcycs(shuffle([1..n])), e=-1); for(k=1, #v, my(p=v[k]); if(#p>1||n%2==0||2*p[1]<>n+1, my(h=#p\2); if(e<0, e=valuation(#p, 2)); if(valuation(#p, 2)<>e || e==0 || p[1..h]+p[h+1..2*h]<>vector(h, i, n+1), return(0)))); 1}; \\ This is _Andrew Howroyd_'s Nov 13 2018 code for the characteristic function of A321580, given under that entry with the name "ok". Copied here by _Antti Karttunen_, Dec 06 2021
```
