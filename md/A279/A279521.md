# Maximum number of single\-direction edges in leveled binary trees with n nodes\.
https://oeis.org/A279521
## JSON
```JSON
[0, 1, 1, 2, 3, 3, 3, 4, 5, 6, 7, 7, 7, 7, 7, 8, 9, 10, 11, 12, 13, 14, 15, 15, 15, 15, 15, 15, 15, 15, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 35, 36, 37, 38]
```
## Maple
```Maple
a:= n-> (g-> min(g-1, n-g/2))(2^ilog2(n)):
seq(a(n), n=1..100);  # _Alois P. Heinz_, Nov 16 2020
```
## Mathematica
```Mathematica
Table[Function[h, n + 2^(h - 1) - 1 * Boole[# >= 0] # &@ (-n + 3*2^(h-1) - 1) + (-1) ^ Boole[# >= 0] # &@ (-n + 3*2^(h-1) - 1) * (2^h - 1)]@ Floor[Log2@ n], {n, 71}] (* _George Tanev_, Jan 01 2017 *)
```
```Mathematica
a[0] = 0; a[1] = 1; lis = {}; m = 70;t = Flatten[Table[{a[2*n] = a[n], a[2*n + 1] = a[n] + a[n + 1]}, {n, m}]];
```
```Mathematica
For[g = 2, g < m, g++, AppendTo[lis, Length[Sort[DeleteDuplicates[Sort[#] & /@ (Partition[t[[1 ;; g]], 2, 1])]]]]]
```
```Mathematica
lis (* _Horst H. Manninger_, Jun 10 2021 *)
```
## Java
```Java
static int a(int n)
{
    int h = (int) Math.floor(Math.log(n) / Math.log(2));
    int p2h = (int) Math.pow(2, h);
    int p2h_1 = (int) Math.pow(2, h-1);
    int He = Heaviside(-n + 3*p2h_1 - 1);
    return (int) ((n + p2h_1 - 1)*He + Math.pow(-1, He)*(p2h - 1));
}
static int Heaviside(double x)
{
    return x >= 0 ? 1 : 0;
}
```
## Scala
```Scala
def a(n: Int): Int = {
    val h = Math.floor(Math.log(n) / Math.log(2)).toInt
    val p2h = Math.pow(2, h).toInt
    val p2h_1 = Math.pow(2, h - 1).toInt
    val hs = heaviside(-n + 3 * p2h_1 - 1)
    ((n + p2h_1 - 1) * hs + Math.pow(-1, hs) * (p2h - 1)).toInt
}
/** _George Tanev_, Jan 01 2017 */
def heaviside(x: Double): Int = if (x >= 0) 1 else 0
```
## Python
```Python
class A279521():
    @staticmethod
    def _heaviside(x):
        return 1 if x >= 0 else 0
    @staticmethod
    def at(n):
        h = n.bit_length() -1
        p2h = 2**h
        p2h_1 = 2**(h-1)
        hs = A279521._heaviside(-n + 3 * p2h_1 - 1)
        return ((n + p2h_1 - 1) * hs + (-1)**hs * (p2h - 1))
print([A279521.at(n) for n in range(1,100)])
# _George Tanev_, Jan 01 2017, indentation _R. J. Mathar_, Mar 29 2023
```
