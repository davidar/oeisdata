# Hofstadter\-Conway $10000 sequence: a\(n\) \= a\(a\(n\-1\)\) \+ a\(n\-a\(n\-1\)\) with a\(1\) \= a\(2\) \= 1\.
https://oeis.org/A004001
## JSON
```JSON
[1, 1, 2, 2, 3, 4, 4, 4, 5, 6, 7, 7, 8, 8, 8, 8, 9, 10, 11, 12, 12, 13, 14, 14, 15, 15, 15, 16, 16, 16, 16, 16, 17, 18, 19, 20, 21, 21, 22, 23, 24, 24, 25, 26, 26, 27, 27, 27, 28, 29, 29, 30, 30, 30, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 33, 34, 35, 36, 37, 38, 38, 39, 40, 41, 42]
```
## Maple
```Maple
A004001 := proc(n) option remember; if n<=2 then 1 else procname(procname(n-1)) +procname(n-procname(n-1)); fi; end;
```
## Mathematica
```Mathematica
a[1] = 1; a[2] = 1; a[n_] := a[n] = a[a[n - 1]] + a[n - a[n - 1]]; Table[ a[n], {n, 1, 75}] (* _Robert G. Wilson v_ *)
```
## Haskell
```Haskell
a004001 n = a004001_list !! (n-1)
a004001_list = 1 : 1 : h 3 1  {- memoization -}
  where h n x = x' : h (n + 1) x'
          where x' = a004001 x + a004001 (n - x)
-- _Reinhard Zumkeller_, Jun 03 2011
```
## PARI
```PARI
a=vector(100);a[1]=a[2]=1;for(n=3,#a,a[n]=a[a[n-1]]+a[n-a[n-1]]);a \\ _Charles R Greathouse IV_, Jun 10 2011
```
```PARI
first(n)=my(v=vector(n)); v[1]=v[2]=1; for(k=3, n, v[k]=v[v[k-1]]+v[k-v[k-1]]); v \\ _Charles R Greathouse IV_, Feb 26 2017
```
## Scheme
```Scheme
;; An implementation of memoization-macro definec can be found for example from: http://oeis.org/wiki/Memoization
(definec (A004001 n) (if (<= n 2) 1 (+ (A004001 (A004001 (- n 1))) (A004001 (- n (A004001 (- n 1)))))))
;; _Antti Karttunen_, Oct 22 2014
```
## Python
```Python
def a004001(n):
    A = {1: 1, 2: 1}
    c = 1 #counter
    while n not in A.keys():
        if c not in A.keys():
            A[c] = A[A[c-1]] + A[c-A[c-1]]
        c += 1
    return A[n]
# _Edward Minnix III_, Nov 02 2015
```
## Magma
```Magma
[n le 2 select 1 else Self(Self(n-1))+ Self(n-Self(n-1)):n in [1..75]]; // _Marius A. Burtea_, Aug 16 2019
```
## Sage
```Sage
@CachedFunction
def a(n): # a = A004001
    if n<3: return 1
    else: return a(a(n-1)) + a(n-a(n-1))
[a(n) for n in range(1,101)] # _G. C. Greubel_, Apr 25 2024
```
