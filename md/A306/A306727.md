# Square array A\(n,k\), n \>\= 0, k \>\= 0, read by antidiagonals: A\(n,k\) is the number of partitions of 3\*n into powers of 3 less than or equal to 3^k\.
https://oeis.org/A306727
## JSON
```JSON
[1, 1, 1, 1, 2, 1, 1, 2, 3, 1, 1, 2, 3, 4, 1, 1, 2, 3, 5, 5, 1, 1, 2, 3, 5, 7, 6, 1, 1, 2, 3, 5, 7, 9, 7, 1, 1, 2, 3, 5, 7, 9, 12, 8, 1, 1, 2, 3, 5, 7, 9, 12, 15, 9, 1, 1, 2, 3, 5, 7, 9, 12, 15, 18, 10, 1, 1, 2, 3, 5, 7, 9, 12, 15, 18, 22, 11, 1, 1, 2, 3, 5, 7, 9, 12, 15, 18, 23, 26, 12, 1]
```
## Mathematica
```Mathematica
nmax = 12;
```
```Mathematica
f[k_] := f[k] = 1/(1-x) 1/Product[1-x^(3^j), {j, 0, k-1}] + O[x]^(nmax+1) // CoefficientList[#, x]&;
```
```Mathematica
A[n_, k_] := f[k][[n+1]];
```
```Mathematica
Table[A[n-k, k], {n, 0, nmax}, {k, n, 0, -1}] // Flatten (* _Jean-Fran√ßois Alcover_, Nov 20 2019 *)
```
## Python
```Python
def aseq(p, x, k):
    # generic algorithm for any p - power base, p=3 for this sequence
    if x < 0:
        return 0
    if x < p:
        return 1
    # coefficients
    arr = [0]*(x+1)
    arr[0] = 1
    m = p**k
    while m > 0:
        for i in range(m, x+1, m):
            arr[i] += arr[i-m]
        m //= p
    return arr[x]
def A(n, k):
    p = 3
    return aseq(p, p*n, k)
# A(n, k), 5 = A(3, 3) = aseq(3, 3*3, 3)
# _Serguei Zolotov_, Mar 13 2019
```
