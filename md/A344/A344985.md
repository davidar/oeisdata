# Sum of imbalance of all initial subsequences of the binary representation of n\.
https://oeis.org/A344985
## JSON
```JSON
[1, 1, 3, 2, 2, 4, 6, 4, 2, 2, 4, 4, 6, 8, 10, 7, 5, 3, 3, 3, 3, 5, 7, 5, 5, 7, 9, 9, 11, 13, 15, 11, 9, 7, 5, 5, 3, 3, 5, 5, 3, 3, 5, 5, 7, 9, 11, 7, 5, 5, 7, 7, 9, 11, 13, 9, 11, 13, 15, 15, 17, 19, 21, 16, 14, 12, 10, 10, 8, 6, 6, 8, 6, 4, 4, 4, 4, 6, 8, 8]
```
## Maple
```Maple
imbal := proc(L)
     abs(numboccur(0, L) - numboccur(1, L))
end proc:
A344985 := proc(n)
    dgs := ListTools[Reverse](convert(n,base,2)) ;
    add(imbal( dgs[1..l]),l=1..nops(dgs)) ;
end proc: # _R. J. Mathar_, Jul 07 2021
# second Maple program:
a:= proc(n) option remember; `if`(n=0, 0, a(iquo(n, 2))+
      (l-> abs(add(1-2*i, i=l)))(Bits[Split](n)))
    end:
seq(a(n), n=1..80);  # _Alois P. Heinz_, Jul 07 2021
```
## PARI
```PARI
a(n) = my(b=binary(n)); sum(k=1, #b, abs(sum(j=1, k, b[j]==1) - sum(j=1, k, b[j]==0))); \\ _Michel Marcus_, Jun 09 2021
```
## Python
```Python
def A344985(n):
    s, c, b = bin(n)[2:], 0, 0
    for x in s:
        b += 1 if x == '1' else -1
        c += abs(b)
    return c # _Chai Wah Wu_, Jul 07 2021
```
