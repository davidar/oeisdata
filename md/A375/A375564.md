# a\(1\) \= 1, a\(2\) \= 2; for n \> 2, a\(n\) is the smallest unused positive number that is coprime to a\(n\-1\) if a\(n\-1\) is prime, otherwise a\(n\) shares a factor with a\(n\-1\)\.
https://oeis.org/A375564
## JSON
```JSON
[1, 2, 3, 4, 6, 8, 10, 5, 7, 9, 12, 14, 16, 18, 15, 20, 22, 11, 13, 17, 19, 21, 24, 26, 28, 30, 25, 35, 40, 32, 34, 36, 27, 33, 39, 42, 38, 44, 46, 23, 29, 31, 37, 41, 43, 45, 48, 50, 52, 54, 51, 57, 60, 55, 65, 70, 49, 56, 58, 62, 64, 66, 63, 69, 72, 68, 74, 76, 78, 75, 80, 82, 84, 77, 88, 86, 90]
```
## Mathematica
```Mathematica
nn = 120; c[_] := False; Do[Set[{a[i], c[i]}, {i, True}], {i, 2}];
```
```Mathematica
j = a[2]; u = 3;
```
```Mathematica
Do[k = u; If[PrimeQ[j],
```
```Mathematica
    While[Or[c[k], GCD[j, k] > 1], k++],
```
```Mathematica
    While[Or[c[k], CoprimeQ[j, k]], k++]];
```
```Mathematica
  Set[{a[i], c[k], j}, {k, True, k}];
```
```Mathematica
  If[k == u, While[c[u], u++]], {i, 3, nn}];
```
```Mathematica
Array[a, nn] (* _Michael De Vlieger_, Sep 29 2024 *)
```
## Python
```Python
from itertools import islice
from math import gcd
from sympy import isprime
def A375564_gen(): # generator of terms
    aset, a, b = {1,2}, 2, 3
    yield from (1,2)
    while True:
        c = b
        if isprime(a):
            while c in aset or gcd(c,a)>1:
                c+=1
        else:
            while c in aset or gcd(c,a)==1:
                c+=1
        aset.add(c)
        yield (a:=c)
        while b in aset:
            b += 1
A375564_list = list(islice(A375564_gen(),20)) # _Chai Wah Wu_, Sep 30 2024
```
