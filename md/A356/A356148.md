# a\(n\) is the number of positive integers whose binary expansion appears as a substring in the binary expansion of n or its complement\.
https://oeis.org/A356148
## JSON
```JSON
[1, 2, 2, 4, 3, 4, 3, 6, 6, 4, 6, 6, 6, 6, 4, 8, 9, 9, 8, 8, 5, 9, 9, 9, 8, 8, 9, 9, 9, 8, 5, 10, 12, 13, 12, 12, 12, 10, 12, 12, 12, 6, 10, 12, 12, 13, 12, 12, 12, 12, 10, 12, 10, 12, 13, 12, 12, 12, 13, 12, 12, 10, 6, 12, 15, 17, 16, 17, 17, 16, 15, 17, 15]
```
## PARI
```PARI
a(n) = { my (b=binary(n)); #setbinop((i,j) -> my (s=fromdigits(b[i..j], 2)); if (b[i], s, 2^(j-i+1)-1-s), [1..#b]) }
```
## Python
```Python
def a(n):
    N = n.bit_length()
    c, s = ((1<<N)-1)^n, set()
    for i in range(N):
        for l in range(N-i):
            mask = ((2<<l)-1) << i
            s.add((mask&n) >> i)
            s.add((mask&c) >> i)
    return len(s - {0})
print([a(n) for n in range(1, 74)]) # _Michael S. Branicky_, Jul 28 2022
```
