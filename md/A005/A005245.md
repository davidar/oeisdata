# The \(Mahler\-Popken\) complexity of n: minimal number of 1's required to build n using \+ and \*\.
https://oeis.org/A005245
## JSON
```JSON
[1, 2, 3, 4, 5, 5, 6, 6, 6, 7, 8, 7, 8, 8, 8, 8, 9, 8, 9, 9, 9, 10, 11, 9, 10, 10, 9, 10, 11, 10, 11, 10, 11, 11, 11, 10, 11, 11, 11, 11, 12, 11, 12, 12, 11, 12, 13, 11, 12, 12, 12, 12, 13, 11, 12, 12, 12, 13, 14, 12, 13, 13, 12, 12, 13, 13, 14, 13, 14, 13, 14, 12, 13, 13, 13, 13, 14, 13, 14]
```
## Maple
```Maple
with(numtheory):
a:= proc(n) option remember;
      `if`(n=1, 1, min(seq(a(i)+a(n-i), i=1..n/2),
       seq(a(d)+a(n/d), d=divisors(n) minus {1, n})))
    end:
seq(a(n), n=1..100); # _Alois P. Heinz_, Apr 18 2012
```
## Mathematica
```Mathematica
a[n_] := a[n] = If[n == 1, 1,
```
```Mathematica
   Min[Table[a[i] + a[n-i], {i, 1, n/2}] ~Join~
```
```Mathematica
   Table[a[d] + a[n/d], {d, Divisors[n] ~Complement~ {1, n}}]]];
```
```Mathematica
Table[a[n], {n, 1, 100}] (* _Jean-Fran√ßois Alcover_, Dec 12 2013, after _Alois P. Heinz_ *)
```
## PARI
```PARI
A005245(n /* start by calling this with the largest needed n */, lim/* see below */) = { local(d); n<6 && return(n);
if(n<=#A005245, A005245[n]&return(A005245[n]) /* return memoized result if available */,
A005245=vector(n) /* create vector if needed - should better reuse existing data if available */);
for(i=1, n-1, A005245[i] || A005245[i]=A005245(i,lim)); /* compute all previous elements */
A005245[n]=min( vecmin(vector(min(n\2,if(lim>0,lim,n)), k, A005245[k]+A005245[n-k])) /* additive possibilities - if lim>0 is given, consider a(k)+a(n-k) only for k<=lim - we know it is save to use lim=1 up to n=2e7 */, if( isprime(n), n, vecmin(vector((-1+#d=divisors(n))\2, i, A005245[d[i+1]]+A005245[d[ #d-i]]))/* multiplicative possibilities */))}
\\ See also the Python program by Tim Peters at A005421.
\\ _M. F. Hasler_, Jan 30 2008
```
## Haskell
```Haskell
import Data.List (genericIndex)
a005245 n = a005245_list `genericIndex` (n-1)
a005245_list = 1 : f 2 [1] where
   f x ys = y : f (x + 1) (y : ys) where
     y = minimum $
         (zipWith (+) (take (x `div` 2) ys) (reverse ys)) ++
         (zipWith (+) (map a005245 $ tail $ a161906_row x)
                      (map a005245 $ reverse $ init $ a161908_row x))
-- _Reinhard Zumkeller_, Mar 08 2013
```
## Python
```Python
from functools import lru_cache
from itertools import takewhile
from sympy import divisors
@lru_cache(maxsize=None)
def A005245(n): return min(min(A005245(a)+A005245(n-a) for a in range(1,(n>>1)+1)),min((A005245(d)+A005245(n//d) for d in takewhile(lambda d:d*d<=n,divisors(n)) if d>1),default=n)) if n>1 else 1 # _Chai Wah Wu_, Apr 29 2023
```
