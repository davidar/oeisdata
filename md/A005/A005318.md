# Conway\-Guy sequence: a\(n \+ 1\) \= 2a\(n\) \- a\(n \- floor\( 1/2 \+ sqrt\(2n\) \)\)\.
https://oeis.org/A005318
## JSON
```JSON
[0, 1, 2, 4, 7, 13, 24, 44, 84, 161, 309, 594, 1164, 2284, 4484, 8807, 17305, 34301, 68008, 134852, 267420, 530356, 1051905, 2095003, 4172701, 8311101, 16554194, 32973536, 65679652, 130828948, 261127540, 521203175, 1040311347, 2076449993, 4144588885, 8272623576]
```
## Mathematica
```Mathematica
a[n_] := a[n] = 2*a[n-1] - a[n - Floor[Sqrt[2]*Sqrt[n-1] + 1/2] - 1]; a[0]=0; a[1]=1; Table[a[n], {n, 0, 33}] (* _Jean-Fran√ßois Alcover_, May 15 2013 *)
```
## PARI
```PARI
a(n)=if(n<=1,n==1,2*a(n-1)-a(n-1-(sqrtint(8*n-15)+1)\2))
```
```PARI
A=[]; /* This is the program above with memoization. */
a(n)=if(n<3, return(n)); if(n>#A, A=concat(A,vector(n-#A)), if(A[n], return(A[n]))); A[n]=2*a(n-1)-a(n-1-(sqrtint(8*n-15)+1)\2) \\ _Charles R Greathouse IV_, Sep 09 2016
```
## Haskell
```Haskell
a005318 n = a005318_list !! n
a005318_list = 0 : 1 : zipWith (-)
   (map (* 2) $ tail a005318_list) (map a005318 a083920_list)
-- _Reinhard Zumkeller_, Feb 12 2012
```
## Python
```Python
from sympy import sqrt, floor
def a(n): return n if n<2 else 2*a(n - 1) - a(n - floor(sqrt(2)*sqrt(n - 1) + 1/2) - 1) # _Indranil Ghosh_, Jun 03 2017
```
