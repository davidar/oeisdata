# The Ehrenfeucht\-Mycielski sequence \(1,2\-version\): a maximally unpredictable sequence\.
https://oeis.org/A007061
## JSON
```JSON
[1, 2, 1, 1, 2, 2, 1, 2, 1, 2, 2, 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 2, 2, 1, 1, 2, 1, 2, 1, 1, 2, 1, 1, 2, 2, 2, 1, 2, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2, 1, 1, 2, 2, 1, 1, 2, 2, 2, 2, 2, 2, 1, 2, 1, 2, 1, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 2, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 2]
```
## Haskell
```Haskell
a007061 n = a007061_list !! (n-1)
a007061_list = 1 : f [1] where
   f us = a' : f (us ++ [a']) where
     a' = b $ reverse $ map (`splitAt` us) [0..length us - 1] where
        b ((xs,ys):xyss) | vs `isSuffixOf` xs = 3 - head ys
                         | otherwise          = b xyss
     vs = fromJust $ find (`isInfixOf` init us) $ tails us
-- _Reinhard Zumkeller_, Dec 05 2011
```
## Python
```Python
from itertools import count, islice
def agen():
    astr, preval = "121", 2
    yield from [1, 2, 1]
    while True:
        an = 3 - preval
        yield an
        astr += str(an)
        for l in range(len(astr)-1, 0, -1):
            idx = astr.rfind(astr[-l:], 0, len(astr)-1)
            if idx >= 0: preval = int(astr[idx+l]); break
print(list(islice(agen(), 105))) # _Michael S. Branicky_, Aug 03 2022
```
