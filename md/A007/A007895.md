# Number of terms in the Zeckendorf representation of n \(write n as a sum of non\-consecutive distinct Fibonacci numbers\)\.
https://oeis.org/A007895
## JSON
```JSON
[0, 1, 1, 1, 2, 1, 2, 2, 1, 2, 2, 2, 3, 1, 2, 2, 2, 3, 2, 3, 3, 1, 2, 2, 2, 3, 2, 3, 3, 2, 3, 3, 3, 4, 1, 2, 2, 2, 3, 2, 3, 3, 2, 3, 3, 3, 4, 2, 3, 3, 3, 4, 3, 4, 4, 1, 2, 2, 2, 3, 2, 3, 3, 2, 3, 3, 3, 4, 2, 3, 3, 3, 4, 3, 4, 4, 2, 3, 3, 3, 4, 3, 4, 4, 3, 4, 4, 4, 5, 1, 2, 2, 2, 3, 2, 3, 3, 2, 3, 3, 3, 4, 2, 3, 3]
```
## Maple
```Maple
# With the following Maple program (not the best one), B(n) (n >= 1) yields the number of terms in the Zeckendorf representation of n.
with(combinat): B := proc (n) local A, ct, m, j: A := proc (n) local i: for i while fibonacci(i) <= n do n-fibonacci(i) end do end proc: ct := 0; m := n: for j while 0 < A(m) do ct := ct+1: m := A(m) end do: ct+1 end proc: 0, seq(B(n), n = 1 .. 104);
# _Emeric Deutsch_, Jul 05 2010
N:= 1000: # to get a(n) for n <= N
m:= ceil(log[(1+sqrt(5))/2](sqrt(5)*N)):
Z:= Vector(m):
a[0]:= 0:
for n from 1 to N do
if Z[1] = 0 then Z[1]:= 1; q:= 1;
else Z[2]:= 1; Z[1]:= 0; q:= 2;
fi;
while Z[q+1] = 1 do
  Z[q]:= 0;
  Z[q+1]:= 0;
  Z[q+2]:= 1;
  q:= q+2;
od:
a[n]:= add(Z[i],i=1..m);
od:
seq(a[n],n=0..N); # _Robert Israel_, Apr 17 2015
# alternative
read("transforms") :
A007895 := proc(n)
    wt(A003714(n)) ;
end proc:
seq(A007895(n),n=0..10) ; # _R. J. Mathar_, Sep 22 2020
```
## Mathematica
```Mathematica
zf[n_] := (k = 1; ff = {}; While[(fi = Fibonacci[k]) <= n, AppendTo[ff, fi]; k++]; Drop[ff, 1]); zeckRep[n_] := If[n == 0, 0, r = n; s = {}; fr = zf[n]; While[r > 0, lf = Last[fr]; If[lf <= r, r = r - lf; PrependTo[s, lf]]; fr = Drop[fr, -1]]; s]; zeckRepLen[n_] := Length[zeckRep[n]]; Table[zeckRepLen[n], {n, 0, 104}] (* _Jean-François Alcover_, Sep 27 2011 *)
```
```Mathematica
DigitCount[Select[Range[0, 1000], BitAnd[#, 2#] == 0 &], 2, 1] (* _Jean-François Alcover_, Jan 25 2018 *)
```
```Mathematica
Table[Length[DeleteCases[NestWhileList[# - Fibonacci[Floor[Log[Sqrt[5] * # + 3/2]/Log[GoldenRatio]]] &, n, # > 1 &], 0]], {n, 0, 143}] (* _Alonso del Arte_, May 14 2019 *)
```
```Mathematica
Flatten[Nest[{Flatten[#], #[[1]] + 1} &, {0, 1}, 9]] (* _Paolo Xausa_, Jun 17 2024 *)
```
## PARI
```PARI
a(n,mx=0)=if(n<4,n>0,if(!mx,while(fibonacci(mx)<n,mx++)); while(fibonacci(mx)>n,mx--); 1+a(n-fibonacci(mx),mx-2)) \\ _Charles R Greathouse IV_, Feb 14 2013
```
```PARI
a(n)=if(n<4, n>0, my(k=2,s,t); while(fibonacci(k++)<=n,); while(k && n, t=fibonacci(k); if(t<=n, n-=t; s++); k--); s) \\ _Charles R Greathouse IV_, Sep 02 2015
```
## Haskell
```Haskell
a007895 = length . a035516_row  -- _Reinhard Zumkeller_, Mar 10 2013
```
## Python
```Python
from sympy import fibonacci
def a(n):
    k=0
    x=0
    while n>0:
        k=0
        while fibonacci(k)<=n: k+=1
        x+=10**(k - 3)
        n-=fibonacci(k - 1)
    return str(x).count("1")
print([a(n) for n in range(101)]) # _Indranil Ghosh_, Jun 09 2017
```
