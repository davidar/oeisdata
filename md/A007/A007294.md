# Number of partitions of n into nonzero triangular numbers\.
https://oeis.org/A007294
## JSON
```JSON
[1, 1, 1, 2, 2, 2, 4, 4, 4, 6, 7, 7, 10, 11, 11, 15, 17, 17, 22, 24, 25, 32, 35, 36, 44, 48, 50, 60, 66, 68, 81, 89, 92, 107, 117, 121, 141, 153, 159, 181, 197, 205, 233, 252, 262, 295, 320, 332, 372, 401, 417, 465, 501, 520, 575, 619, 645, 710, 763]
```
## Maple
```Maple
b:= proc(n,i) option remember;
      if n<0 then 0
    elif n=0 then 1
    elif i=0 then 0
    else b(n, i-1) +b(n-i*(i+1)/2, i)
      fi
    end:
a:= n-> b(n, floor(sqrt(2*n))):
seq(a(n), n=0..100);  # _Alois P. Heinz_, Mar 22 2011
isNondecrP :=proc(L) slp := DIFF(DIFF(L)) ; min(op(%)) >= 0 ; end proc:
A007294 := proc(n) local a, p; a := 0 ; if n = 0 then return 1 ; end if; for p in combinat[partition](n) do if nops(p) = nops(convert(p, set)) then if isNondecrP(p) then if nops(p) =1 then a := a+1 ; elif op(2, p) >= 2*op(1, p) then a := a+1; end if; end if; end if; end do; a ; end proc:
seq(A007294(n), n=0..30) ; # _R. J. Mathar_, Jan 07 2011
```
## Mathematica
```Mathematica
CoefficientList[ Series[ 1/Product[1 - x^(i(i + 1)/2), {i, 1, 50}], {x, 0, 70}], x]
```
```Mathematica
(* also *)
```
```Mathematica
t = Table[n (n + 1)/2, {n, 1, 200}] ; p[n_] := IntegerPartitions[n, All, t]; Table[p[n], {n, 0, 12}] (*shows partitions*)
```
```Mathematica
a[n_] := Length@p@n; a /@Range[0, 80]
```
```Mathematica
(* _Clark Kimberling_, Mar 09 2014 *)
```
```Mathematica
b[n_, i_] := b[n, i] = Which[n < 0, 0, n == 0, 1, i == 0, 0, True, b[n, i-1]+b[n-i*(i+1)/2, i]]; a[n_] := b[n, Floor[Sqrt[2*n]]]; Table[a[n], {n, 0, 100}] (* _Jean-FranÃ§ois Alcover_, Apr 09 2014, after _Alois P. Heinz_ *)
```
```Mathematica
Table[Length[Select[IntegerPartitions[n],OrderedQ[Differences[Append[#,0]]]&]],{n,0,30}] (* _Gus Wiseman_, May 03 2019 *)
```
```Mathematica
nmax = 58; t = Table[PolygonalNumber[n], {n, nmax}];
```
```Mathematica
Table[Count[IntegerPartitions@n, x_ /; SubsetQ[t, x]], {n, 0, nmax}] (* _Robert Price_, Aug 02 2020 *)
```
## Sage
```Sage
def A007294(n):
    has_nondecreasing_diffs = lambda x: min(differences(x, 2)) >= 0
    special = lambda x: (x[1]-x[0]) >= x[0]
    allowed = lambda x: (len(x) < 2 or special(x)) and (len(x) < 3 or has_nondecreasing_diffs(x))
    return len([1 for x in Partitions(n, max_slope=-1) if allowed(x[::-1])]) # _D. S. McNeil_, Jan 06 2011
```
## PARI
```PARI
N=66; Vec(1/prod(k=1,N,1-x^(k*(k+1)\2))+O(x^N)) \\ _Joerg Arndt_, Apr 14 2013
```
## Haskell
```Haskell
a007294 = p $ tail a000217_list where
   p _      0 = 1
   p ks'@(k:ks) m = if m < k then 0 else p ks' (m - k) + p ks m
-- _Reinhard Zumkeller_, Jun 28 2013
```
## Python
```Python
from functools import lru_cache
from sympy import divisors
from sympy.ntheory.primetest import is_square
@lru_cache(maxsize=None)
def A007294(n):
    @lru_cache(maxsize=None)
    def a(n): return is_square((n<<3)+1)
    @lru_cache(maxsize=None)
    def c(n): return sum(d for d in divisors(n,generator=True) if a(d))
    return (c(n)+sum(c(k)*A007294(n-k) for k in range(1,n)))//n if n else 1 # _Chai Wah Wu_, Jul 15 2024
```
