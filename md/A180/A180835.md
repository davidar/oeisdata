# T\(n,k\) \= number of n\-bit binary numbers with every initial substring not divisible by k\.
https://oeis.org/A180835
## JSON
```JSON
[0, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 2, 2, 1, 0, 1, 2, 3, 3, 1, 0, 1, 2, 3, 5, 5, 1, 0, 1, 2, 3, 5, 8, 8, 1, 0, 1, 2, 3, 6, 9, 13, 13, 1, 0, 1, 2, 4, 6, 10, 16, 21, 21, 1, 0, 1, 2, 4, 7, 11, 19, 28, 34, 34, 1, 0, 1, 2, 4, 7, 13, 20, 33, 49, 55, 55, 1, 0, 1, 2, 4, 7, 13, 24, 37, 61, 86, 89, 89, 1, 0, 1, 2, 4, 7]
```
## C
```C
#include <stdio.h>
#define BIG 1000000000000000000LL
#define Q(level,sum,i) (((level)*K+sum)*L+i)
int L,N,K;
unsigned long long *count,*cache,*sv,*mem;
go(level,sum)
{
int i;
if(level&&sum%K==0)return;
if(level==N) {
if(++count[0]<BIG)return;
for(i=1; i<L; i++) {
if(count[i-1]<BIG)return;
count[i-1]-=BIG;
count[i]++;
}
if(count[i-1]>=BIG)fprintf(stderr,"overflow count\n"),exit(1);
return;
}
if(cache[Q(level,sum,0)]) {
xx:;
for(i=0; i<L; i++) {
if((count[i]+=cache[Q(level,sum,i)])>=BIG) {
count[i]-=BIG;
if(i==L-1)fprintf(stderr,"overflow cache\n"),exit(1);
count[i+1]++;
}
}
return;
}
memcpy(sv+L*level,count,L*sizeof*count);
memset(count,0,L*sizeof*count);
go(level+1,(sum*2)%K);
go(level+1,(sum*2+1)%K);
memcpy(&cache[Q(level,sum,0)],count,L*sizeof*count);
memcpy(count,sv+L*level,L*sizeof*count);
goto xx;
}
main()
{
int i,index,need,memsize;
N=0; K=0;
if(!(mem=(unsigned long long*)malloc(memsize=sizeof*mem)))fprintf(stderr,"out of memory1\n"),exit(1);
for(index=1; index<=10000; index++) {
N++;
if(--K<=0) {
K=N;
N=1;
}
L=N/50+1;
need=(N*K*L+(N+1)*L)*sizeof*count;
if(need>memsize) {
if(!(mem=(unsigned long long*)realloc(mem,memsize=need)))fprintf(stderr,"out of memory2\n"),exit(1);
}
count=mem;
sv=mem+L;
cache=sv+N*L;
memset(mem,0,memsize);
go(0,0);
printf("%d ",index);
for(i=L-1; i>0; i--)if(count[i])break;
printf("%llu",count[i]);
while(--i>=0)printf("%018llu",count[i]);
printf("\n");
fflush(stdout);
}
exit(0);
}
```
## Python
```Python
from itertools import product
def d(s, k): return False if k == 0 else int("".join(s), 2)%k == 0
def T(n, k): return sum(1 for b in (b for b in product("01", repeat=n)) if not any(d(b[:i], k) for i in range(1, n+1)))
def auptodiag(maxd): return [T(d+1-j, j) for d in range(1, maxd+1) for j in range(d, 0, -1)]
print(auptodiag(14)) # _Michael S. Branicky_, Jun 09 2022
```
