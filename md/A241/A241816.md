# a\(n\) is the largest number smaller than n that can be obtained by swapping two adjacent bits in n, or n if no such number exists\.
https://oeis.org/A241816
## JSON
```JSON
[0, 1, 1, 3, 2, 3, 5, 7, 4, 5, 9, 7, 10, 11, 13, 15, 8, 9, 17, 11, 18, 19, 21, 15, 20, 21, 25, 23, 26, 27, 29, 31, 16, 17, 33, 19, 34, 35, 37, 23, 36, 37, 41, 39, 42, 43, 45, 31, 40, 41, 49, 43, 50, 51, 53, 47, 52, 53, 57, 55, 58, 59, 61, 63, 32, 33, 65, 35, 66, 67, 69]
```
## Python
```Python
def bitswap(n):
..# Find first bit = 0.
..m = n
..i = 0
..while (m > 0):
....if m % 2 == 0:
......break
....m = m >> 1
....i = i + 1
..if m == 0:
.....return n
..# Find first bit = 1 following that 0.
..while (m > 0):
....if m % 2 == 1:
......break
....m = m >> 1
....i = i + 1
..# Swap
..return n & ~(1 << i) | (1 << (i-1))
```
```Python
def A241816(n):
....s = bin(n)[2:]
....for i in range(len(s)-2,-1,-1):
........if s[i:i+2] == '10':
............return int(s[:i]+'01'+s[i+2:],2)
....else:
........return n
# _Chai Wah Wu_, Sep 05 2014
```
## Haskell
```Haskell
a241816 n = f (a030308_row n) [] where
   f [] _ = n
   f (0 : 1 : us) vs = foldr (\b y -> 2 * y + b) 0 $
                             reverse vs ++ 1 : 0 : us
   f (u : us) vs     = f us (u : vs)
-- _Reinhard Zumkeller_, Sep 03 2014
```
## Scheme
```Scheme
(definec (A241816 n) (cond ((zero? n) n) ((odd? n) (+ 1 (* 2 (A241816 (/ (- n 1) 2))))) ((zero? (modulo n 4)) (* 2 (A241816 (/ n 2)))) (else (- n 1))))
;; _Antti Karttunen_, Feb 21 2015
```
