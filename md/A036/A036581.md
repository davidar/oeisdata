# Ternary Thue\-Morse sequence: closed under a\-\>abc, b\-\>ac, c\-\>b\.
https://oeis.org/A036581
## JSON
```JSON
[0, 2, 1, 0, 1, 2, 0, 2, 1, 2, 0, 1, 0, 2, 1, 0, 1, 2, 0, 1, 0, 2, 1, 2, 0, 2, 1, 0, 1, 2, 0, 2, 1, 2, 0, 1, 0, 2, 1, 2, 0, 2, 1, 0, 1, 2, 0, 1, 0, 2, 1, 0, 1, 2, 0, 2, 1, 2, 0, 1, 0, 2, 1, 0, 1, 2, 0, 1, 0, 2, 1, 2, 0, 2, 1, 0, 1, 2, 0, 1, 0, 2, 1, 0, 1, 2, 0, 2, 1, 2, 0, 1, 0, 2, 1, 2, 0, 2, 1]
```
## Maple
```Maple
A036581 := proc(n)
    A010060(n+1)-A010060(n)-1 ;
    % mod 3 ;
end proc: # _R. J. Mathar_, Oct 17 2012
```
## Mathematica
```Mathematica
Nest[ # /. {0 -> {0, 2, 1}, 1 -> {2}, 2 -> {0, 1}} &, {0}, 7] // Flatten (* _Robert G. Wilson v_, Apr 06 2008 *)
```
```Mathematica
a010060[n_]:=Mod[DigitCount[n, 2, 1], 2]; Table[Mod[a010060[n + 1] - a010060[n] - 1, 3], {n, 0, 100}] (* _Indranil Ghosh_, Apr 25 2017 *)
```
```Mathematica
SubstitutionSystem[{0->{0,2,1},1->{2},2->{0,1}},{0},{7}][[1]] (* _Harvey P. Dale_, Dec 26 2021 *)
```
## Haskell
```Haskell
a036581 n = a036581_list !! n
a036581_list = zipWith (\u v -> if u /= v then 2 * u + v - 1 else 2)
                       a010060_list $ tail a010060_list
-- According to _N. J. A. Sloane_'s comment from Oct 17 2012
-- _Reinhard Zumkeller_, Nov 30 2012
```
## Python
```Python
def a010060(n): return bin(n)[2:].count("1")%2
def a(n): return (a010060(n + 1) - a010060(n) - 1)%3 # _Indranil Ghosh_, Apr 25 2017
```
