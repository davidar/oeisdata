# Multiplicative with a\(2^e\) \= 1 and a\(p^e\) \= prevprime\(p\)^e for odd primes p\.
https://oeis.org/A064989
## JSON
```JSON
[1, 1, 2, 1, 3, 2, 5, 1, 4, 3, 7, 2, 11, 5, 6, 1, 13, 4, 17, 3, 10, 7, 19, 2, 9, 11, 8, 5, 23, 6, 29, 1, 14, 13, 15, 4, 31, 17, 22, 3, 37, 10, 41, 7, 12, 19, 43, 2, 25, 9, 26, 11, 47, 8, 21, 5, 34, 23, 53, 6, 59, 29, 20, 1, 33, 14, 61, 13, 38, 15, 67, 4, 71, 31, 18, 17, 35, 22, 73, 3, 16]
```
## Maple
```Maple
q:= proc(p) prevprime(p) end proc: q(2):= 1:
[seq(mul(q(f[1])^f[2], f = ifactors(n)[2]), n = 1 .. 1000)]; # _Robert Israel_, Dec 21 2014
```
## Mathematica
```Mathematica
Table[Times @@ Power[Which[# == 1, 1, # == 2, 1, True, NextPrime[#, -1]] & /@ First@ #, Last@ #] &@ Transpose@ FactorInteger@ n, {n, 81}] (* _Michael De Vlieger_, Jan 04 2016 *)
```
## Haskell
```Haskell
a064989 1 = 1
a064989 n = product $ map (a008578 . a049084) $ a027746_row n
-- _Reinhard Zumkeller_, Apr 09 2012
```
## Scheme
```Scheme
(require 'factor)
(define (A064989 n) (if (= 1 n) n (apply * (map (lambda (k) (if (zero? k) 1 (A000040 k))) (map -1+ (map A049084 (factor n)))))))
;; _Antti Karttunen_, May 12 2014
(definec (A064989 n) (if (= 1 n) n (* (A008578 (A055396 n)) (A064989 (A032742 n))))) ;; One based on given recurrence and utilizing memoizing definec-macro.
(definec (A064989 n) (cond ((= 1 n) n) ((even? n) (A064989 (/ n 2))) (else (A163511 (/ (- (A243071 n) 1) 2))))) ;; Corresponds to one of the alternative formulas, but is very unpractical way to compute this sequence. - _Antti Karttunen_, Dec 18 2014
```
## PARI
```PARI
{ for (n=1, 1000, f=factor(n)~; a=1; j=1; if (n>1 && f[1, 1]==2, j=2); for (i=j, length(f), a*=precprime(f[1, i] - 1)^f[2, i]); write("b064989.txt", n, " ", a) ) } \\ _Harry J. Smith_, Oct 02 2009
```
```PARI
a(n) = {my(f = factor(n)); for (i=1, #f~, if ((p=f[i,1]) % 2, f[i,1] = precprime(p-1), f[i,1] = 1);); factorback(f);} \\ _Michel Marcus_, Dec 18 2014
```
```PARI
A064989(n)=factorback(Mat(apply(t->[max(precprime(t[1]-1),1),t[2]],Vec(factor(n)~))~)) \\ _M. F. Hasler_, Dec 29 2014
```
## Python
```Python
from sympy import factorint, prevprime
from operator import mul
from functools import reduce
def a(n):
    f=factorint(n)
    return 1 if n==1 else reduce(mul, [1 if i==2 else prevprime(i)**f[i] for i in f])
print([a(n) for n in range(1, 101)]) # _Indranil Ghosh_, Jun 15 2017
```
```Python
from math import prod
from sympy import prevprime, factorint
def A064989(n): return prod(prevprime(p)**e for p, e in  factorint(n>>(~n&n-1).bit_length()).items()) # _Chai Wah Wu_, Jan 05 2023
```
