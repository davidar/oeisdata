# Table read by rows: row n lists the wrecker ball sequence starting with n, or contains \-1 if 0 is never reached\.\.
https://oeis.org/A248939
## JSON
```JSON
[0, 1, 0, 2, 1, -1, -4, 0, 3, 2, 0, 4, 3, 1, -2, 2, -3, -9, -16, -8, -17, -7, -18, -6, 7, 21, 6, -10, -27, -45, -26, -46, -25, -47, -24, 0, 5, 4, 2, -1, 3, -2, -8, -15, -7, -16, -6, -17, -5, 8, 22, 7, -9, -26, -44, -25, -45, -24, -46, -23, 1, 26, 0, 6, 5, 3]
```
## Mathematica
```Mathematica
row[0] = 0;
```
```Mathematica
row[n_] := Module[{b}, b[0] = n; b[k_] /; b[k-1] > 0 := b[k] = If[AllTrue[ Range[0, k-1], b[k-1] - k != b[#]&], b[k-1] - k, b[k-1] + k]; b[k_] /; b[k-1] < 0 := b[k] = If[AllTrue[Range[0, k-1], b[k-1] + k != b[#]&], b[k-1] + k, b[k-1] - k]; b[k_] /; b[k-1] == 0 := b[k] = 0; Reap[k = 0; While[b[k] != 0, Sow[b[k++]]]; Sow[0]][[2, 1]]];
```
```Mathematica
row /@ Range[0, 16] // Flatten (* _Jean-FranÃ§ois Alcover_, Sep 27 2019 *)
```
## Haskell
```Haskell
import Data.IntSet (singleton, member, insert)
a248939 n k = a248939_tabf !! n !! k
a248939_tabf = map a248939_row [0..]
a248939_row n = n : wBall 1 n (singleton n) where
   wBall _ 0 _ = []
   wBall k x s = y : wBall (k + 1) y (insert y s) where
                     y = x + (if (x - j) `member` s then j else -j)
                     j = k * signum x
```
## PARI
```PARI
row(n)={my(M=Map(),L=List(),k=0); while(n, k++; listput(L,n); mapput(M, n, 1); my(t=if(n>0, -k, +k)); n+=if(mapisdefined(M, n+t), -t, t)); listput(L,0); Vec(L)}
  for(n=0, 6, print(row(n))) \\ _Andrew Howroyd_, Mar 01 2018
```
## Python
```Python
def A248939_row(n):
    seen = {n}; orbit = [n]; c = 0
    while n != 0:
        ++c; s = c if n>0 else -c; n += s if n-s in seen else -s
        seen.add(n); orbit.append(n)
    return orbit # _M. F. Hasler_, Mar 18 2019
```
## C++
```C++
#include <bits/stdc++.h>
  A248939_row(long n) { int c=0, s; for(std::map<long, bool> seen; n; n += seen[n-(s=n>0?c:-c)] ? s:-s) { std::cout<<n<<", "; seen[n]=true; ++c; } std::cout<<0; } // _M. F. Hasler_, Mar 18 2019
```
