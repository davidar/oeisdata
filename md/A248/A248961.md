# Sums of wrecker ball sequences starting with n\.
https://oeis.org/A248961
## JSON
```JSON
[0, 1, -2, 5, -292, -241, 14, -437861, -28, -1, 30, 313, -4472, -4223, -2, 55, 3252, -214246256269, -70, -27, 5260887648, 91, -538, -193, -132, -864538549823, -22, 27, 140, 40053, 53088613819206, 86166834699, 86167898716, 86168962733, 86170026754, 49, 204]
```
## Haskell
```Haskell
import Data.IntSet (singleton, member, insert)
a248961 n = addup 1 n 0 $ singleton n where
   addup _ 0 sum _ = sum
   addup k x sum s = addup (k + 1) y (sum + x) (insert y s) where
                     y = x + (if (x - j) `member` s then j else -j)
                     j = k * signum x
```
## C++
```C++
#include<set>
long A248961(long n) { long c=0, d, S=n; for(std::set<long> A; n; A.insert(n), S += n += A.count(n - (d = n>0 ? c : -c)) ? d : -d) ++c; return S; } // _M. F. Hasler_, Mar 19 2019
```
## PARI
```PARI
A248961(n,A=[n],c,S=n)={while( n+=sign(n)*if(setsearch(A,n-sign(n)*c+=1), c, -c), A=setunion(A,[n]); S+=n); S} \\ _M. F. Hasler_, Mar 19 2019
```
## Python
```Python
def A248961(n):
  A = {n}; c = 0; S = 0
  while n != 0:
    ++c; s = c if n>0 else -c; n += s if n-s in A else -s; A.add(n); S += n
  return S # _M. F. Hasler_, Mar 19 2019
```
