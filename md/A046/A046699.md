# a\(1\) \= a\(2\) \= 1, a\(n\) \= a\(n \- a\(n\-1\)\) \+ a\(n\-1 \- a\(n\-2\)\) if n \> 2\.
https://oeis.org/A046699
## JSON
```JSON
[1, 1, 2, 2, 3, 4, 4, 4, 5, 6, 6, 7, 8, 8, 8, 8, 9, 10, 10, 11, 12, 12, 12, 13, 14, 14, 15, 16, 16, 16, 16, 16, 17, 18, 18, 19, 20, 20, 20, 21, 22, 22, 23, 24, 24, 24, 24, 25, 26, 26, 27, 28, 28, 28, 29, 30, 30, 31, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 36, 36, 36, 37]
```
## Maple
```Maple
a := proc(n) option remember; if n <= 1 then return 1 end if; if n <= 2 then return 2 end if; return add(a(n - i + 1 - a(n - i)), i = 1 .. 2) end proc # _Frank Ruskey_ and Chris Deugau (deugaucj(AT)uvic.ca)
a := proc(n) option remember; if n <= 2 then 1 else a(n - a(n-1)) + a(n-1 - a(n-2)); fi; end; # _N. J. A. Sloane_, Apr 16 2014
```
## Mathematica
```Mathematica
a[n_] := (k = 1; While[ !Divisible[(2*++k)!, 2^(n-1)]]; k); a[1] = a[2] = 1; Table[a[n], {n, 1, 72}] (* _Jean-FranÃ§ois Alcover_, Oct 06 2011, after _Benoit Cloitre_ *)
```
```Mathematica
CoefficientList[ Series[1 + x/(1 - x)*Product[1 + x^(2^n - 1), {n, 6}], {x, 0, 80}], x] (* or *)
```
```Mathematica
a[1] = a[2] = 1; a[n_] := a[n] = a[n - a[n - 1]] + a[n - 1 - a[n - 2]]; Array[a, 80] (* _Robert G. Wilson v_, Sep 08 2014 *)
```
## PARI
```PARI
a(n)=if(n<0,1,s=1;while((2*s)!%2^(n-1)>0,s++);s) \\ _Benoit Cloitre_, Jan 19 2007
```
## Haskell
```Haskell
a046699 n = a046699_list !! (n-1)
a046699_list = 1 : 1 : zipWith (+) zs (tail zs) where
   zs = map a046699 $ zipWith (-) [2..] a046699_list
-- _Reinhard Zumkeller_, Jan 02 2012
```
## Maxima
```Maxima
a[1]:1$
a[2]:1$
a[n]:=a[n-a[n-1]]+a[n-1-a[n-2]]$
makelist(a[n],n,2,60); /* _Martin Ettl_, Oct 29 2012 */
```
## Python
```Python
from sympy import factorial
def a(n):
    if n<3: return 1
    s=1
    while factorial(2*s)%(2**(n - 1))>0: s+=1
    return s
print([a(n) for n in range(1, 101)]) # _Indranil Ghosh_, Jun 11 2017, after _Benoit Cloitre_
```
## Magma
```Magma
[ n le 2 select 1 else Self(n - Self(n-1)) + Self(n-1 -Self(n-2)):n in [1..80]]; // _Marius A. Burtea_, Oct 17 2019
```
