# Values of n where number of permutations of digits a\(n\) that are prime increases\.
https://oeis.org/A046891
## JSON
```JSON
[1, 2, 13, 103, 107, 1007, 1013, 1049, 1079, 1237, 10013, 10039, 10079, 10139, 10237, 10279, 10379, 13789, 100127, 100139, 100235, 100237, 100279, 101237, 101239, 102347, 102367, 102379, 103579, 103789, 1001234, 1001237, 1001239, 1002347, 1002359, 1002367, 1002379]
```
## Mathematica
```Mathematica
ap[n_] := Count[FromDigits /@ Permutations[IntegerDigits[n]], _?PrimeQ]; t = {1}; x = 0; Do[If[ap[i] > x, AppendTo[t, i]; x = ap[i]], {i, 105000}]; t (* _Jayanta Basu_, Jun 29 2013 *)
```
## Python
```Python
from sympy import prime
from gmpy2 import is_prime
from sympy.utilities.iterables import multiset_permutations as mp
from itertools import count, islice, combinations_with_replacement as mc
def f(n): return sum(1 for p in mp(str(n)) if is_prime(t:=int("".join(p))))
def bgen(d):
    for f in "123456789":
        yield from map(int, (f+"".join(m) for m in mc("0123456789", d-1)))
def agen():
    record = -1
    for d in count(1):
        for k in bgen(d):
            v = f(k)
            if v > record:
                record = v
                yield k
print(list(islice(agen(), 30))) # _Michael S. Branicky_, Feb 17 2024
```
