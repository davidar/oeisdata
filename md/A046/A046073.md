# Number of squares in multiplicative group modulo n\.
https://oeis.org/A046073
## JSON
```JSON
[1, 1, 1, 1, 2, 1, 3, 1, 3, 2, 5, 1, 6, 3, 2, 2, 8, 3, 9, 2, 3, 5, 11, 1, 10, 6, 9, 3, 14, 2, 15, 4, 5, 8, 6, 3, 18, 9, 6, 2, 20, 3, 21, 5, 6, 11, 23, 2, 21, 10, 8, 6, 26, 9, 10, 3, 9, 14, 29, 2, 30, 15, 9, 8, 12, 5, 33, 8, 11, 6, 35, 3, 36, 18, 10, 9, 15, 6, 39, 4, 27, 20, 41, 3, 16, 21]
```
## Maple
```Maple
F:= n -> nops({seq}(`if`(igcd(t,n)=1,t^2 mod n,NULL), t=1..floor(n/2))):
1, seq(F(n), n=2..100); # _Robert Israel_, Jan 04 2015
# 2nd program
A046073 := proc(n)
    local a,p,e,pf;
    a := 1;
    for pf in ifactors(n)[2] do
        p := op(1,pf) ;
        e := op(2,pf) ;
        if p = 2 then
            a := a*p^max(e-3,0) ;
        else
            a := a*(p-1)/2*p^(e-1) ;
        end if;
    end do:
    a ;
end proc: # _R. J. Mathar_, Oct 03 2016
```
## Mathematica
```Mathematica
Table[EulerPhi[n]/Sum[Boole[Mod[k^2, n] == 1] + Boole[n == 1], {k, n}], {n, 86}] (* or *)
```
```Mathematica
Table[Apply[Times, FactorInteger[n] /. {p_, e_} /; p > 0 :> Which[p == 1, 1, p == 2, 2^Max[e - 3, 0], True, (p - 1) p^(e - 1)/2]], {n, 86}] (* _Michael De Vlieger_, Jul 18 2017 *)
```
## PARI
```PARI
A060594(n) = if(n<=2, 1, 2^#znstar(n)[3]); \\ This function from _Joerg Arndt_, Jan 06 2015
A046073(n) = eulerphi(n)/A060594(n); \\ _Antti Karttunen_, Jul 17 2017, after Sharon Sela's Mar 09 2002 formula.
```
```PARI
A046073(n)=if(n>4,(n=znstar(n))[1]>>#n[3],1) \\ Avoids duplicate computation of phi(n). - _M. F. Hasler_, Nov 27 2017, typo fixed Mar 11 2021
```
## Scheme
```Scheme
(define (A046073 n) (cond ((= 1 n) n) ((even? n) (* (A000079 (max (- (A007814 n) 3) 0)) (A046073 (A028234 n)))) (else (* (/ 1 2) (- (A020639 n) 1) (/ (A028233 n) (A020639 n)) (A046073 (A028234 n)))))) ;; _Antti Karttunen_, Jul 17 2017, after the given multiplicative formula.
```
## Python
```Python
from sympy import factorint, prod
def a(n): return 1 if n==1 else prod([2**max(e - 3, 0) if p==2 else (p - 1)*p**(e - 1)//2 for p, e in factorint(n).items()])
print([a(n) for n in range(1, 51)]) # _Indranil Ghosh_, Jul 17 2017
```
