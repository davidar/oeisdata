# Number of bases for which 2^n\-1 is a repdigit with at least 3 digits\.
https://oeis.org/A291592
## JSON
```JSON
[0, 0, 1, 1, 2, 2, 1, 2, 2, 2, 1, 4, 2, 2, 3, 3, 1, 4, 1, 4, 3, 2, 1, 6, 2, 2, 3, 4, 1, 6, 1, 4, 3, 2, 3, 7, 1, 2, 3, 6, 1, 6, 1, 4, 5, 2, 1, 8, 2, 4, 3, 4, 1, 6, 3, 6, 3, 2, 1, 10, 1, 2, 5, 5, 3, 6, 1, 4, 3, 6, 1, 10]
```
## Mathematica
```Mathematica
Table[With[{m = 2^n - 1}, Count[Range[2, Floor@ Sqrt@ m], _?(And[Length@ Union@ # == 1, Length@ # >= 3] &@ IntegerDigits[m, #] &) ]], {n, 40}] (* _Michael De Vlieger_, Aug 27 2017 *)
```
## PARI
```PARI
nbr(n) = {nb = 0; fordiv(n, d, for (b=d+1, n, nd = 3; vd = [d, d, d]; while(fromdigits(vd, b) < n, nd ++; vd = vector(nd, k, d)); if ((x=fromdigits(vd, b)) == n, nb++); if ((x > n) && (nd == 3), break););); nb;}
a(n) = nbr(2^n-1);
```
## Python
```Python
from sympy.ntheory import count_digits
def ok(n, b): return False if n <= b**2 else len(count_digits(n, b)) == 1
def a(n): return sum(ok(2**n-1, b) for b in range(2, 2**n))
print([a(n) for n in range(1, 21)]) # _Michael S. Branicky_, May 27 2021
```
```Python
# Faster version suitable for extension
def is_repdigit(n, b):
  if n < b: return True
  n, r = divmod(n, b)
  onlyd = r
  while n > b:
    n, r = divmod(n, b)
    if r != onlyd: return False
  return n == onlyd
def a(n):
  c, target = 0, 2**n - 1
  for b in range(2, 2**n):
    if target < b**2: break # not 3 digits
    c += is_repdigit(target, b)
  return c
print([a(n) for n in range(1, 41)]) # _Michael S. Branicky_, May 27 2021
```
