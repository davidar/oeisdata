# a\(n\) \= 2\*a\(n\-1\) \+ 1 for a\(n\-1\) not prime, otherwise a\(n\) \= prime\(n\) \- 1; with a\(1\)\=1\.
https://oeis.org/A374965
## JSON
```JSON
[1, 3, 4, 9, 19, 12, 25, 51, 103, 28, 57, 115, 231, 463, 46, 93, 187, 375, 751, 70, 141, 283, 82, 165, 331, 100, 201, 403, 807, 1615, 3231, 6463, 12927, 25855, 51711, 103423, 156, 313, 166, 333, 667, 1335, 2671, 192, 385, 771, 1543, 222, 445, 891, 1783, 238, 477]
```
## Mathematica
```Mathematica
a[n_] := a[n] = If[!PrimeQ[a[n-1]], 2*a[n-1] + 1, Prime[n]-1]; a[1] = 1; Array[a, 60] (* _Amiram Eldar_, Jul 25 2024 *)
```
```Mathematica
nxt[{n_,a_}]:={n+1,If[!PrimeQ[a],2a+1,Prime[n+1]-1]}; NestList[nxt,{1,1},60][[;;,2]] (* _Harvey P. Dale_, Jul 28 2024 *)
```
## Python
```Python
from itertools import islice
from sympy import isprime, nextprime
def A374965_gen(): # generator of terms
    a, p = 1, 3
    while True:
        yield a
        a, p = p-1 if isprime(a) else (a<<1)+1, nextprime(p)
A374965_list = list(islice(A374965_gen(),30)) # _Chai Wah Wu_, Jul 29 2024
```
