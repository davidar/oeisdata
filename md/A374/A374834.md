# Start the sequence with a\(1\) \= 3\. From now on iterate: if \|a\(n\)\| is prime, subtract from a\(n\) the \|a\(n\)\|\-th prime of the list of primes A000040 and if \|a\(n\)\| is nonprime, add to a\(n\) the \|a\(n\)\|\-th nonprime of the list of nonprimes A018252\.
https://oeis.org/A374834
## JSON
```JSON
[3, -2, -5, -16, 9, 24, 59, -218, 58, 138, 316, 709, -4672, 708, 1563, 3408, 7364, 15779, 33601, -363046, 33600, 71181, 150103, 315315, 660199, -9268542, 660198, 1378289, 2870170, 5963401, 12365326, 25593793, 52887805, 109127470, 224867446, 462788654, 951362304, 1953684017, -43964452250, 1953684016]
```
## Mathematica
```Mathematica
np[n_]:=FixedPoint[n+PrimePi[#]&,n+PrimePi[n]]; (* A018252 *) seq[n_]:=If[PrimeQ[Abs[n]],n-Prime[Abs[n]],n+np[Abs[n]]]; NestList[seq,3,52] (* _Hans Havermann_, Jul 23 2024 *)
```
## Python
```Python
from itertools import islice
from sympy import prime, composite, isprime
def agen(): # generator of terms
    an = 3
    while True:
        yield an
        if isprime(abs(an)):
            an = an - prime(abs(an))
        else:
            an += composite(abs(an)-1) if abs(an) > 1 else 1
print(list(islice(agen(), 38))) # _Michael S. Branicky_, Jul 22 2024
```
