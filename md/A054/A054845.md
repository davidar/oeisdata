# Number of ways of representing n as the sum of one or more consecutive primes\.
https://oeis.org/A054845
## JSON
```JSON
[0, 0, 1, 1, 0, 2, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0, 2, 1, 1, 0, 0, 0, 2, 1, 0, 1, 0, 1, 1, 1, 2, 0, 0, 0, 0, 2, 1, 0, 1, 0, 3, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 2, 0, 0, 1, 0, 1, 2, 2, 1, 0, 0, 0, 0, 0, 2, 1, 0, 0, 2, 2, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 3, 1, 0, 0, 0, 1, 1, 2, 0, 0, 0, 0, 1, 0, 2, 1, 0, 2, 2]
```
## Maple
```Maple
A054845 := proc(n)
    local a,mipri,npr,ps ;
    a := 0 ;
    for mipri from 1 do
        for npr from 1 do
            ps := add(ithprime(i),i=mipri..mipri+npr-1) ;
            if ps = n then
                a := a+1 ;
            elif ps >n then
                break;
            end if;
        end do:
        if ithprime(mipri) > n then
            break ;
        end if;
    end do:
    a ;
end proc: # _R. J. Mathar_, Nov 27 2018
```
## Mathematica
```Mathematica
f[n_] := Block[{p = Prime@ Range@ PrimePi@ n}, len = Length@ p; Count[(Flatten[#, 1] &)[Table[ p[[i ;; j]], {i, len}, {j, i, len}]], q_ /; Total@ q == n]]; f[0] = 0; Array[f, 102, 0](* _Jean-Fran√ßois Alcover_, Feb 16 2011 *) (* fixed by _Robert G. Wilson v_ *)
```
```Mathematica
nn=100; p=Prime[Range[PrimePi[nn]]]; t=Table[0,{nn}]; Do[s=0; j=i; While[s=s+p[[j]]; s<=nn,t[[s]]++; j++], {i,Length[p]}]; Join[{0},t]
```
## PARI
```PARI
{/* program gives values of a(n) for n=0..precprime(nn)-1 */
nn=2000;t=vector(nn+1);forprime(x=2,nn,s=x;
forprime(y=x+1,nn,if(s<=nn,t[s+1]++,break());s=s+y));t[1..precprime(nn)]} \\ _Zak Seidov_, Feb 17 2011, corrected by _Michael S. Branicky_, Feb 28 2022
```
## Magma
```Magma
S:=[0]; for n in [1..104] do count:=0; for q in PrimesUpTo(n) do p:=q; s:=p; while s lt n do p:=NextPrime(p); s+:=p; end while; if s eq n then count+:=1; end if; end for; Append(~S, count); end for; S; // _Klaus Brockhaus_, Feb 17 2011
```
## Perl
```Perl
use ntheory ":all"; my $n=10000; my @W=(0)x($n+1); forprimes { my $s=$_; do { $W[$s]++; $s += ($_=next_prime($_)); } while $s <= $n; } $n; print "$_ $W[$_]\n" for 0..$#W;  # _Dana Jacobsen_, Aug 22 2018
```
## Python
```Python
from sympy import primerange
def aupton(nn): # modification of PARI by Zak Seidov
    alst = [0 for n in range(nn+1)]
    for x in primerange(2, nn+1):
        s = x
        alst[s] += 1
        for y in primerange(x+1, nn+1):
            s += y
            if s <= nn:
                alst[s] += 1
            else:
                break
    return alst
print(aupton(101)) # _Michael S. Branicky_, Feb 17 2022
```
```Python
# alternate version for going to large n
import heapq
from sympy import prime
from itertools import islice
def agen(): # generator of terms
    p = v = prime(1); h = [(p, 1, 1)]; nextcount = 2; oldv = ways = 0
    while True:
        (v, s, l) = heapq.heappop(h)
        if v == oldv: ways += 1
        else:
            yield ways
            for n in range(oldv+1, v): yield 0
            ways = 1
        if v >= p:
            p += prime(nextcount)
            heapq.heappush(h, (p, 1, nextcount))
            nextcount += 1
        oldv = v
        v -= prime(s); s += 1; l += 1; v += prime(l)
        heapq.heappush(h, (v, s, l))
print(list(islice(agen(), 102))) # _Michael S. Branicky_, Feb 17 2022
```
