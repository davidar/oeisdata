# Number of nonempty subsets of \{1,2,3,\.\.\.,n\} whose elements have an integer average\.
https://oeis.org/A051293
## JSON
```JSON
[1, 2, 5, 8, 15, 26, 45, 76, 135, 238, 425, 768, 1399, 2570, 4761, 8856, 16567, 31138, 58733, 111164, 211043, 401694, 766417, 1465488, 2807671, 5388782, 10359849, 19946832, 38459623, 74251094, 143524761, 277742488, 538043663, 1043333934, 2025040765, 3933915348]
```
## Maple
```Maple
with(numtheory):
b:= n-> add(2^(n/d)*phi(d), d=select(x-> x::odd, divisors(n)))/n:
a:= proc(n) option remember; `if`(n<1, 0, b(n)-1+a(n-1)) end:
seq(a(n), n=1..40);  # _Alois P. Heinz_, Jul 15 2019
```
## Mathematica
```Mathematica
Table[ Sum[a = Select[Divisors[i], OddQ[ # ] & ]; Apply[Plus, 2^(i/a)*EulerPhi[a]]/i, {i, n}] - n, {n, 34}]
```
```Mathematica
Table[Count[Subsets[Range[n]],_?(IntegerQ[Mean[#]]&)],{n,35}] (* _Harvey P. Dale_, Apr 14 2018 *)
```
## PARI
```PARI
a(n)=sum(k=1,n,sumdiv(k,d,d%2*2^(k/d)*eulerphi(d))/k-1)
```
## Python
```Python
from sympy import totient, divisors
def A051293(n): return sum((sum(totient(d)<<k//d-1 for d in divisors(k>>(~k&k-1).bit_length(),generator=True))<<1)//k for k in range(1,n+1))-n # _Chai Wah Wu_, Feb 22 2023
```
