# The Collatz or 3x\+1 function: a\(n\) \= n/2 if n is even, otherwise \(3n\+1\)/2\.
https://oeis.org/A014682
## JSON
```JSON
[0, 2, 1, 5, 2, 8, 3, 11, 4, 14, 5, 17, 6, 20, 7, 23, 8, 26, 9, 29, 10, 32, 11, 35, 12, 38, 13, 41, 14, 44, 15, 47, 16, 50, 17, 53, 18, 56, 19, 59, 20, 62, 21, 65, 22, 68, 23, 71, 24, 74, 25, 77, 26, 80, 27, 83, 28, 86, 29, 89, 30, 92, 31, 95, 32, 98, 33, 101, 34, 104]
```
## Maple
```Maple
T:=proc(n) if n mod 2 = 0 then n/2 else (3*n+1)/2; fi; end; # _N. J. A. Sloane_, Jan 31 2011
A076936 := proc(n) option remember ; local apr,ifr,me,i,a ; if n <=2 then n^2 ; else apr := mul(A076936(i),i=1..n-1) ; ifr := ifactors(apr)[2] ; me := -1 ; for i from 1 to nops(ifr) do me := max(me, op(2,op(i,ifr))) ; od ; me := me+ n-(me mod n) ; a := 1 ; for i from 1 to nops(ifr) do a := a*op(1,op(i,ifr))^(me-op(2,op(i,ifr))) ; od ; if a = A076936(n-1) then me := me+n ; a := 1 ; for i from 1 to nops(ifr) do a := a*op(1,op(i,ifr))^(me-op(2,op(i,ifr))) ; od ; fi ; RETURN(a) ; fi ; end: A014682 := proc(n) log[2](A076936(n)) ; end: for n from 1 to 85 do printf("%d, ",A014682(n)) ; od ; # _R. J. Mathar_, Mar 20 2007
```
## Mathematica
```Mathematica
Collatz[n_?OddQ] := (3n + 1)/2; Collatz[n_?EvenQ] := n/2; Table[Collatz[n], {n, 0, 79}] (* _Alonso del Arte_, Apr 21 2011 *)
```
```Mathematica
LinearRecurrence[{0, 2, 0, -1}, {0, 2, 1, 5}, 70] (* _Jean-FranÃ§ois Alcover_, Sep 23 2017 *)
```
```Mathematica
Table[If[OddQ[n], (3 n + 1) / 2, n / 2], {n, 0, 60}] (* _Vincenzo Librandi_, Sep 28 2018 *)
```
## Haskell
```Haskell
a014682 n = if r > 0 then div (3 * n + 1) 2 else n'
            where (n', r) = divMod n 2
-- _Reinhard Zumkeller_, Oct 03 2014
```
## PARI
```PARI
a(n)=if(n%2,3*n+1,n)/2 \\ _Charles R Greathouse IV_, Sep 02 2015
```
```PARI
a(n)=if(n<2,2*n,(n^2-n-1)%(2*n+1)) \\ _Jim Singh_, Sep 28 2018
```
## Python
```Python
def a(n): return n//2 if n%2==0 else (3*n + 1)//2
print([a(n) for n in range(101)]) # _Indranil Ghosh_, Jul 29 2017
```
## Magma
```Magma
[IsOdd(n) select (3*n+1)/2 else n/2: n in [0..52]]; // _Vincenzo Librandi_, Sep 28 2018
```
