# Permutation of nonnegative integers induced by Lamplighter group generating wreath recursion, variant 3: a \= s\(b,a\), b \= \(a,b\), starting from the state a\.
https://oeis.org/A154435
## JSON
```JSON
[0, 1, 3, 2, 6, 7, 5, 4, 13, 12, 14, 15, 10, 11, 9, 8, 26, 27, 25, 24, 29, 28, 30, 31, 21, 20, 22, 23, 18, 19, 17, 16, 53, 52, 54, 55, 50, 51, 49, 48, 58, 59, 57, 56, 61, 60, 62, 63, 42, 43, 41, 40, 45, 44, 46, 47, 37, 36, 38, 39, 34, 35, 33, 32, 106, 107, 105, 104, 109, 108]
```
## Scheme
```Scheme
(define (A154435 n) (if (< n 2) n (let loop ((maskbit (A072376 n)) (state 1) (z 1)) (if (zero? maskbit) z (let ((dombit (modulo (floor->exact (/ n maskbit)) 2))) (cond ((= 0 dombit) (loop (floor->exact (/ maskbit 2)) (- 1 state) (+ z z (modulo (- state dombit) 2)))) (else (loop (floor->exact (/ maskbit 2)) state (+ z z (modulo (- state dombit) 2))))))))))
```
## Python
```Python
from sympy import floor
def a006068(n):
    s=1
    while True:
        ns=n>>s
        if ns==0: break
        n=n^ns
        s<<=1
    return n
def a054429(n): return 1 if n==1 else 2*a054429(floor(n/2)) + 1 - n%2
def a(n): return 0 if n==0 else a054429(a006068(a054429(n))) # _Indranil Ghosh_, Jun 11 2017
```
## R
```R
maxn <- 63 # by choice
a <- c(1,3,2) # If it were a <- 1:3, it would be A180200
for(n in 2:maxn){
  a[2*n  ] <- 2*a[n] + (a[n]%%2 == 0)
  a[2*n+1] <- 2*a[n] + (a[n]%%2 != 0)  }
a
# _Yosu Yurramendi_, Jun 21 2020
```
