# Motzkin numbers: number of ways of drawing any number of nonintersecting chords joining n \(labeled\) points on a circle\.
https://oeis.org/A001006
## JSON
```JSON
[1, 1, 2, 4, 9, 21, 51, 127, 323, 835, 2188, 5798, 15511, 41835, 113634, 310572, 853467, 2356779, 6536382, 18199284, 50852019, 142547559, 400763223, 1129760415, 3192727797, 9043402501, 25669818476, 73007772802, 208023278209, 593742784829, 1697385471211]
```
## Maple
```Maple
# Three different Maple scripts for this sequence:
A001006 := proc(n)
    add(binomial(n,2*k)*A000108(k),k=0..floor(n/2)) ;
end proc:
A001006 := proc(n) option remember; local k; if n <= 1 then 1 else procname(n-1) + add(procname(k)*procname(n-k-2),k=0..n-2); end if; end proc:
# n -> [a(0),a(1),..,a(n)]
A001006_list := proc(n) local w, m, j, i; w := proc(i,j,n) option remember;
if min(i,j,n) < 0 or max(i,j) > n then 0
elif n = 0 then if i = 0 and j = 0 then 1 else 0 fi else
w(i, j + 1, n - 1) + w(i - 1, j, n - 1) + w(i + 1, j - 1, n - 1) fi end:
[seq( add( add( w(i, j, m), i = 0..m), j = 0..m), m = 0..n)] end:
A001006_list(29); # _Peter Luschny_, May 21 2011
```
## Mathematica
```Mathematica
a[0] = 1; a[n_Integer] := a[n] = a[n - 1] + Sum[a[k] * a[n - 2 - k], {k, 0, n - 2}]; Array[a, 30]
```
```Mathematica
(* Second program: *)
```
```Mathematica
CoefficientList[Series[(1 - x - (1 - 2x - 3x^2)^(1/2))/(2x^2), {x, 0, 29}], x] (* _Jean-François Alcover_, Nov 29 2011 *)
```
```Mathematica
Table[Hypergeometric2F1[(1-n)/2, -n/2, 2, 4], {n,0,29}] (* _Peter Luschny_, May 15 2016 *)
```
```Mathematica
Table[GegenbauerC[n,-n-1,-1/2]/(n+1),{n,0,100}] (* _Emanuele Munarini_, Oct 20 2016 *)
```
```Mathematica
MotzkinNumber = DifferenceRoot[Function[{y, n}, {(-3n-3)*y[n] + (-2n-5)*y[n+1] + (n+4)*y[n+2] == 0, y[0] == 1, y[1] == 1}]];
```
```Mathematica
Table[MotzkinNumber[n], {n, 0, 29}] (* _Jean-François Alcover_, Oct 27 2021 *)
```
## PARI
```PARI
{a(n) = polcoeff( ( 1 - x - sqrt((1 - x)^2 - 4 * x^2 + x^3 * O(x^n))) / (2 * x^2), n)}; /* _Michael Somos_, Sep 25 2003 */
```
```PARI
{a(n) = if( n<0, 0, n++; polcoeff( serreverse( x / (1 + x + x^2) + x * O(x^n)), n))}; /* _Michael Somos_, Sep 25 2003 */
```
```PARI
{a(n) = if( n<0, 0, n! * polcoeff( exp(x + x * O(x^n)) * besseli(1, 2 * x + x * O(x^n)), n))}; /* _Michael Somos_, Sep 25 2003 */
```
## Maxima
```Maxima
a[0]:1$
a[1]:1$
a[n]:=((2*n+1)*a[n-1]+(3*n-3)*a[n-2])/(n+2)$
makelist(a[n],n,0,12); /* _Emanuele Munarini_, Mar 02 2011 */
```
```Maxima
M(n) := coeff(expand((1+x+x^2)^(n+1)),x^n)/(n+1);
makelist(M(n),n,0,60); /* _Emanuele Munarini_, Apr 04 2012 */
```
```Maxima
makelist(ultraspherical(n,-n-1,-1/2)/(n+1),n,0,12); /* _Emanuele Munarini_, Oct 20 2016 */
```
## Haskell
```Haskell
a001006 n = a001006_list !! n
a001006_list = zipWith (+) a005043_list $ tail a005043_list
-- _Reinhard Zumkeller_, Jan 31 2012
```
## Python
```Python
from gmpy2 import divexact
A001006 = [1, 1]
for n in range(2, 10**3):
    A001006.append(divexact(A001006[-1]*(2*n+1)+(3*n-3)*A001006[-2],n+2))
# _Chai Wah Wu_, Sep 01 2014
```
```Python
def mot():
    a, b, n = 0, 1, 1
    while True:
        yield b//n
        n += 1
        a, b = b, (3*(n-1)*n*a+(2*n-1)*n*b)//((n+1)*(n-1))
A001006 = mot()
print([next(A001006) for n in range(30)]) # _Peter Luschny_, May 16 2016
```
