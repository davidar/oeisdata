# Self\-inverse permutation of natural numbers: a\(1\)\=1, then a\(p\_n\)\=c\_\{a\(n\)\}, a\(c\_n\)\=p\_\{a\(n\)\}, where p\_n \= n\-th prime, c\_n \= n\-th composite\.
https://oeis.org/A236854
## JSON
```JSON
[1, 4, 9, 2, 16, 7, 6, 23, 3, 53, 26, 17, 14, 13, 83, 5, 12, 241, 35, 101, 59, 43, 8, 41, 431, 11, 37, 1523, 75, 149, 39, 547, 277, 191, 19, 179, 27, 3001, 31, 157, 24, 12763, 22, 379, 859, 167, 114, 3943, 1787, 1153, 67, 1063, 10, 103, 27457, 127, 919, 89, 21]
```
## Mathematica
```Mathematica
terms = 150; cc = Select[Range[4, 2 terms^2(*empirical*)], CompositeQ]; compositePi[k_?CompositeQ] := FirstPosition[cc, k][[1]]; a[1] = 1; a[p_?PrimeQ] := a[p] = cc[[a[PrimePi[p]]]]; a[k_] := a[k] = Prime[a[ compositePi[k]]]; Array[a, terms] (* _Jean-Fran√ßois Alcover_, Mar 02 2016 *)
```
## Scheme
```Scheme
(definec (A236854 n) (cond ((< n 2) n) ((prime? n) (A002808 (A236854 (A000720 n)))) (else (A000040 (A236854 (A065855 n))))))
```
## PARI
```PARI
A236854(n)={if(isprime(n), A002808(A236854(primepi(n))), n==1&&return(1);prime(A236854(n-primepi(n)-1)))} \\ without memoization: not much slower. - _M. F. Hasler_, Feb 03 2014
```
```PARI
a236854=vector(999);a236854[1]=1;A236854(n)={a236854[n]&&return(a236854[n]); a236854[n]=if(isprime(n), A002808(A236854(primepi(n))), prime(A236854(n-primepi(n)-1)))} \\ Version with memoization. - _M. F. Hasler_, Feb 03 2014
```
## Python
```Python
from sympy import primepi, prime, isprime
def a002808(n):
    m, k = n, primepi(n) + 1 + n
    while m != k: m, k = k, primepi(k) + 1 + n
    return m # this function from _Chai Wah Wu_
def a(n): return n if n<2 else a002808(a(primepi(n))) if isprime(n) else prime(a(n - primepi(n) - 1))
print([a(n) for n in range(1, 101)]) # _Indranil Ghosh_, Jun 07 2017
```
