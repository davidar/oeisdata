# Product of all primes p not dividing n such that the sum of the base\-p digits of n is at least p, or 1 if no such prime exists\.
https://oeis.org/A324370
## JSON
```JSON
[1, 1, 2, 1, 6, 1, 6, 3, 10, 1, 6, 1, 210, 15, 2, 3, 30, 5, 210, 21, 110, 15, 30, 5, 546, 21, 14, 1, 30, 1, 462, 231, 1190, 105, 6, 1, 51870, 1365, 70, 21, 2310, 55, 2310, 105, 322, 105, 210, 35, 6630, 663, 286, 33, 330, 55, 798, 57, 290, 15, 30, 1, 930930, 15015, 1430, 2145, 1122, 85, 82110, 2415, 70, 3, 330, 55, 21111090, 285285]
```
## Maple
```Maple
N:= 100: # for a(1)..a(N)
V:= Vector(N,1):
p:= 1:
for iter from 1 do
   p:= nextprime(p);
   if p >= N then break fi;
   for n from p+1 to N do
     if n mod p <> 0 and convert(convert(n,base,p),`+`)>= p then
       V[n]:= V[n]*p
     fi
od od:
convert(V,list); # _Robert Israel_, Mar 30 2020
# Alternatively, note that this formula is suggesting offset 0 and a(0) = 1:
seq(denom(diff(bernoulli(n, x), x)), n = 1..51); # _Peter Luschny_, Oct 13 2023
```
## Mathematica
```Mathematica
SD[n_, p_] := If[n < 1 || p < 2, 0, Plus @@ IntegerDigits[n, p]];
```
```Mathematica
DD2[n_] := Times @@ Select[Prime[Range[PrimePi[(n+1)/(2+Mod[n+1, 2])]]], !Divisible[n, #] && SD[n, #] >= # &];
```
```Mathematica
Table[DD2[n], {n, 1, 100}]
```
```Mathematica
(* From _Bernd C. Kellner_, Oct 12 2023 (Start) *)
```
```Mathematica
(* Denominator of first derivative of BP *)
```
```Mathematica
k = 1; Table[Denominator[Together[D[BernoulliB[n, x], {x, k}]]], {n, 1, 100}]
```
```Mathematica
(* End *)
```
## Python
```Python
from math import prod
from sympy.ntheory import digits
from sympy import primefactors, primerange
def a(n):
    nonpf = set(primerange(1, n+1)) - set(primefactors(n))
    return prod(p for p in nonpf if sum(digits(n, p)[1:]) >= p)
print([a(n) for n in range(1, 75)]) # _Michael S. Branicky_, Jul 03 2022
```
