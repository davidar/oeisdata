# Product of all primes p dividing n such that the sum of the base p digits of n is less than p, or 1 if no such prime\.
https://oeis.org/A324371
## JSON
```JSON
[1, 2, 3, 2, 5, 3, 7, 2, 3, 5, 11, 3, 13, 7, 5, 2, 17, 3, 19, 5, 7, 11, 23, 1, 5, 13, 3, 7, 29, 15, 31, 2, 11, 17, 35, 3, 37, 19, 13, 5, 41, 7, 43, 11, 1, 23, 47, 1, 7, 5, 17, 13, 53, 3, 55, 7, 19, 29, 59, 5, 61, 31, 7, 2, 13, 11, 67, 17, 23, 7, 71, 1, 73, 37, 5, 19, 77, 13, 79, 5, 3, 41, 83, 21]
```
## Maple
```Maple
f:= n -> convert(select(p -> convert(convert(n,base,p),`+`)<p,
numtheory:-factorset(n)),`*`):map(f, [$1..100]); # _Robert Israel_, Apr 26 2020
```
## Mathematica
```Mathematica
SD[n_, p_] := If[n < 1 || p < 2, 0, Plus @@ IntegerDigits[n, p]];
```
```Mathematica
LP[n_] := Transpose[FactorInteger[n]][[1]];
```
```Mathematica
DD3[n_] := Times @@ Select[LP[n], SD[n, #] < # &];
```
```Mathematica
Table[DD3[n], {n, 1, 100}]
```
## Python
```Python
from math import prod
from sympy.ntheory import digits
from sympy import primefactors as pf
def a(n): return prod(p for p in pf(n) if sum(digits(n, p)[1:]) < p)
print([a(n) for n in range(1, 85)]) # _Michael S. Branicky_, Jul 03 2022
```
