# a\(0\)\=1, a\(1\)\=1, a\(2\)\=1, a\(n\) \= 2\*a\(n\-1\) \+ a\(n\-2\) \+ 1\.
https://oeis.org/A033539
## JSON
```JSON
[1, 1, 1, 4, 10, 25, 61, 148, 358, 865, 2089, 5044, 12178, 29401, 70981, 171364, 413710, 998785, 2411281, 5821348, 14053978, 33929305, 81912589, 197754484, 477421558, 1152597601, 2782616761, 6717831124, 16218279010, 39154389145]
```
## Maple
```Maple
seq(coeff(series((1 -2*x -x^2 +3*x^3)/((1-x)*(1-2*x-x^2)), x, n+1), x, n), n = 0..30); # _G. C. Greubel_, Oct 13 2019
```
## Mathematica
```Mathematica
Join[{1},RecurrenceTable[{a[0]==a[1]==1,a[n]==2a[n-1]+a[n-2]+1},a,{n,30}]] (* or *) LinearRecurrence[{3,-1,-1},{1,1,1,4},30] (* _Harvey P. Dale_, Nov 20 2011 *)
```
```Mathematica
Table[If[n==0, 1, (3*LucasL[n-1, 2] -2)/4], {n, 0, 30}] (* _G. C. Greubel_, Oct 13 2019 *)
```
## Haskell
```Haskell
a033539 n = a033539_list !! n
a033539_list =
   1 : 1 : 1 : (map (+ 1) $ zipWith (+) (tail a033539_list)
                                        (map (2 *) $ drop 2 a033539_list))
-- _Reinhard Zumkeller_, Aug 14 2011
```
## PARI
```PARI
/* needs version >= 2.5 */
/* function demonstrating the reversal of the lists and counting the function calls: */
rev( L )={ cnt++; if( #L>1, my(x,y); x=L[#L]; listpop(L); L=rev(L); y=L[#L]; listpop(L); L=rev(L); listput(L,x); L=rev(L); listput(L,y)); L }
for(n=0,50,cnt=0;print(n": rev(",L=List(vector(n,i,i)),")=",rev(L),",  cnt="cnt)) \\ _Antti Karttunen_, Mar 05 2013, partially based on previous PARI code from _Michael Somos_, 1999. Edited by _M. F. Hasler_, Mar 05 2013
```
```PARI
concat([1], vector(30, n, (3*sum(k=0,(n-1)\2, binomial(n-1,2*k) * 2^k) - 1)/2 )) \\ _G. C. Greubel_, Oct 13 2019
```
## Python
```Python
# function, demonstrating the reversal of the lists:
def myrev(lista):
  '''Reverses a list, in cumbersome way.'''
  if(len(lista) < 2): return(lista)
  else:
    tr = myrev(lista[1:])
    return([tr[0]]+myrev([lista[0]]+myrev(tr[1:])))
```
## Erlang
```Erlang
# definition, demonstrating the reversal of the lists:
myrev([]) -> [];
myrev([A]) -> [A];
myrev([X|Y]) ->
   [A|B] = myrev(Y),
   [A|myrev([X|myrev(B)])].
```
## Forth
```Forth
# definition, demonstrating how to turn a parameter stack upside down:
: REV3 DEPTH 0= IF ELSE DEPTH 1 = IF ELSE DEPTH 2 = IF SWAP ELSE >R RECURSE R> SWAP >R >R RECURSE R> RECURSE R> THEN THEN THEN ;
-- _Antti Karttunen_, Mar 04 2013
```
## Magma
```Magma
I:=[1,1,4]; [1] cat [n le 3 select I[n] else 3*Self(n-1) - Self(n-2) - Self(n-3): n in [1..30]]; // _G. C. Greubel_, Oct 13 2019
```
## Sage
```Sage
[1]+[(3*lucas_number2(n-1,2,-1) -2)/4 for n in (1..30)] # _G. C. Greubel_, Oct 13 2019
```
## GAP
```GAP
Concatenation([1], List([1..30], n-> (3*Lucas(2,-1,n-1)[2] -2)/4 )); # _G. C. Greubel_, Oct 13 2019
```
## Prolog
```Prolog
rev([],[]).
   rev([A],[A]).
   rev([A|XB],[B|YA]) :-
rev(XB,[B|Y]), rev(Y,X), rev([A|X],YA). % _Lewis Baxter_, Jan 04 2021
```
