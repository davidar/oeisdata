# A variant of the inventory sequence A342585: now a row ends when the number of occurrences of the largest term in the sequence thus far has been recorded\.
https://oeis.org/A361287
## JSON
```JSON
[0, 1, 1, 1, 3, 0, 1, 2, 4, 1, 1, 1, 2, 7, 2, 1, 1, 0, 0, 1, 4, 10, 3, 2, 2, 0, 0, 1, 0, 0, 1, 8, 12, 5, 2, 2, 1, 0, 1, 1, 0, 1, 0, 1, 11, 17, 7, 2, 2, 1, 0, 2, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 17, 23, 10, 2, 2, 1, 0, 2, 1, 0, 2, 1, 1, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0]
```
## Mathematica
```Mathematica
len = 84; K = {0}; While[Length@K <= len, i = 0; While[i <= Max@K, AppendTo[K, Count[K, i]]; i++]]; Print[Take[K, len + 1]] (* _Samuel Harkness_, Mar 12 2023 *)
```
## Python
```Python
from collections import Counter
from itertools import count, islice
def agen(): # generator of terms
    an, b, m, inventory = 0, 0, 0, Counter([0])
    for n in count(1):
        yield an
        an = inventory[b]
        m = max(m, an)
        b = b + 1 if m > b else 0; inventory.update([an])
print(list(islice(agen(), 85))) # _Michael S. Branicky_, Mar 07 2023
```
