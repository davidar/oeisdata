# a\(n\) \= smallest number with the property that the split\-and\-multiply technique \(see A361338\) in base n can produce all n single\-digit numbers\.
https://oeis.org/A361340
## JSON
```JSON
[15, 23, 119, 167, 12049, 424, 735, 907, 17117, 1250, 307747, 2703, 49225, 9422, 57823, 5437, 2076131, 7747, 639987, 44960, 822799, 11537, 23809465, 24967, 1539917, 109346, 4643181, 26357, 5587832443, 37440, 1885949, 285085, 7782015, 265806, 1250473675, 66524, 8340541, 699890, 158607997, 85684]
```
## Mathematica
```Mathematica
Table[Catch[Monitor[Do[(Set[c, Count[Union@Flatten[#], _?(# < b &)]]; If[c == b, Throw[i]]) &@ NestWhileList[Flatten@ Map[Function[w, Array[If[And[#[[-1, 1]] == 0, Length[#[[-1]]] > 1], Nothing, Times @@ Map[FromDigits[#, b] &, #]] &@ TakeDrop[w, #] &, Length[w] - 1]][IntegerDigits[#, b]] &, #] &, {i}, Length[#] > 0 &], {i, 0, Infinity}], {b, i, c}]], {b, 2, 6}] (* _Michael De Vlieger_, Apr 04 2023, with Monitor to show progress *)
```
## Python
```Python
from itertools import count
from sympy.ntheory import digits
from functools import lru_cache
def fd(d, b): # from_digits
    return sum(di*b**i for i, di in enumerate(d[::-1]))
@lru_cache(maxsize=None)
def f(n, b):
    if n < b: return {n}
    s = digits(n, b)[1:]
    return {e for i in range(1, len(s)) if s[i]!=0 or i==len(s)-1 for e in f(fd(s[:i], b)*fd(s[i:], b), b)}
def a(n, printat=False):
    return next(k for k in count(1) if len(f(k, n))==n)
print([a(n) for n in range(2, 18)]) # _Michael S. Branicky_, Apr 04 2023
```
```Python
# see link for a version that is faster and uses less memory
```
