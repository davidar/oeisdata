# a\(n\) \= \(1 \+ A014081\(n\)\)\*a\(A053645\(n\)\) for n \> 0 with a\(0\) \= 1\.
https://oeis.org/A346422
## JSON
```JSON
[1, 1, 1, 2, 1, 1, 2, 6, 1, 1, 1, 4, 2, 2, 6, 24, 1, 1, 1, 4, 1, 1, 4, 18, 2, 2, 2, 12, 6, 6, 24, 120, 1, 1, 1, 4, 1, 1, 4, 18, 1, 1, 1, 8, 4, 4, 18, 96, 2, 2, 2, 12, 2, 2, 12, 72, 6, 6, 6, 48, 24, 24, 120, 720, 1, 1, 1, 4, 1, 1, 4, 18, 1, 1, 1, 8, 4, 4, 18, 96]
```
## Mathematica
```Mathematica
Nest[Append[#1, (1 + Count[Partition[IntegerDigits[#2, 2], 2, 1], {1, 1}]) #1[[#2 - 2^Floor@ Log2[#2] + 1]]] & @@ {#, Length[#]} &, {1}, 79] (* _Michael De Vlieger_, Feb 04 2022 *)
```
## PARI
```PARI
a(n)=if(n==0, 1, (1+b(n))*a(c(n)))
b(n)=if(n==1, 0, if(n%4<2, b(n\4), b(n\2) + n%2)) \\ A014081
c(n)=if(n==1, 0, 2*c(n\2) + n%2) \\ A053645
```
```PARI
a(n) = my(f=1,ret=1); if(n, for(i=0,logint(n,2), if(bittest(n,i), ret*=(f+=bittest(n,i-1))))); ret; \\ _Kevin Ryde_, Aug 25 2021
```
## Python
```Python
from functools import lru_cache
from re import split
@lru_cache(maxsize=None)
def A346422(n): return 1 if n <= 1 else A346422(int((s:= bin(n)[2:])[1:],2))*(1+sum(len(d)-1 for d in split('0+', s) if d != '')) # _Chai Wah Wu_, Feb 04 2022
```
