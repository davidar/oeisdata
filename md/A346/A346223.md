# Square array T\(m,n\), read by ascending antidiagonals, based on the algorithm used in the Book of Soyga, a 16th\-century Latin grimoire on magic\. One of the earliest historic examples of a cellular automaton\.
https://oeis.org/A346223
## JSON
```JSON
[12, 8, 3, 17, 17, 8, 16, 2, 16, 22, 0, 13, 19, 10, 1, 11, 15, 4, 2, 21, 3, 11, 14, 1, 16, 1, 18, 8, 0, 13, 14, 18, 12, 20, 16, 22, 16, 15, 22, 8, 20, 11, 8, 10, 1, 17, 3, 19, 10, 11, 3, 7, 1, 21, 3, 8, 11, 1, 2, 8, 2, 12, 6, 0, 18, 8, 12, 2, 0, 4, 11, 16, 15, 20, 6, 20, 16, 22]
```
## MATLAB
```MATLAB
function a = A346223(max_n)
    text = 'nisrammarsin';
    % translate key word into numbers
    for l = 1:length(text)
        c(l) = find('abcdefghiklmnopqrstuxyz'==text(l))-1;
    end
    a = zeros(max_n,max_n);
    % fill first column with keyword
    for m = 1:max_n
        a(m,1) = double(c(1+mod(m-1,length(c))));
    end
    % calculate first row
    for n = 2:max_n
        a(1,n) = mod(a(1,n-1) + f(a(1,n-1)),23);
    end
    % calculate further rows
    for m = 2:max_n
        for n = 2:max_n
            a(m,n) = mod(a(m-1,n) + f(a(m,n-1)),23);
        end
    end
end
% noninvertible map
function y = f(x)
    map = [2 2 3 5 14 2 6 5 14 15 20 22 14 8 13 20 11 8 8 15 15 15 2];
    y = map(1+mod(x,length(map)));
end
```
## Python
```Python
def key(x): # N  I   S   R  A   M   M  A   R   S  I   M
    return  [12, 8, 17, 16, 0, 11, 11, 0, 16, 17, 8, 12][x%12]
def f(x):
    return [2, 2, 3, 5, 14, 2, 6, 5, 14, 15, 20, 22, 14, 8, 13, 20, 11, 8, 8, 15, 15, 15, 2][x%23]
def T(m, n):
    if m == 0: return key(n)
    if n == 0: return (T(m-1, 0) + f(T(m-1, 0)))%23
    return (T(m, n-1) + f(T(m-1, n)))%23
def auptodiag(maxd):
    return [T(j, d-j) for d in range(maxd) for j in range(d+1)]
print(auptodiag(12)) # _Michael S. Branicky_, Dec 08 2021
```
