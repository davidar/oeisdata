# Array: T\(d,n\) \= number of ways of writing n as a sum of d squares, read by ascending antidiagonals\.
https://oeis.org/A122141
## JSON
```JSON
[1, 1, 2, 1, 4, 0, 1, 6, 4, 0, 1, 8, 12, 0, 2, 1, 10, 24, 8, 4, 0, 1, 12, 40, 32, 6, 8, 0, 1, 14, 60, 80, 24, 24, 0, 0, 1, 16, 84, 160, 90, 48, 24, 0, 0, 1, 18, 112, 280, 252, 112, 96, 0, 4, 2, 1, 20, 144, 448, 574, 312, 240, 64, 12, 4, 0, 1, 22, 180, 672, 1136, 840, 544, 320, 24, 30, 8, 0]
```
## Maple
```Maple
A122141 := proc(d,n) local i,cnts ; cnts := 0 ; for i from -trunc(sqrt(n)) to trunc(sqrt(n)) do if n-i^2 >= 0 then if d > 1 then cnts := cnts+procname(d-1,n-i^2) ; elif n-i^2 = 0 then cnts := cnts+1 ; fi ; fi ; od ; cnts ;
end:
for diag from 1 to 14 do for n from 0 to diag-1 do d := diag-n ; printf("%d,",A122141(d,n)) ; od ; od;
# second Maple program:
A:= proc(d, n) option remember; `if`(n=0, 1, `if`(n<0 or d<1, 0,
      A(d-1, n) +2*add(A(d-1, n-j^2), j=1..isqrt(n))))
    end:
seq(seq(A(h-n, n), n=0..h-1), h=1..14); # _Alois P. Heinz_, Jul 16 2014
```
## Mathematica
```Mathematica
Table[ SquaresR[d - n, n], {d, 1, 12}, {n, 0, d - 1}] // Flatten (* _Jean-François Alcover_, Jun 13 2013 *)
```
```Mathematica
A[d_, n_] := A[d, n] = If[n==0, 1, If[n<0 || d<1, 0, A[d-1, n] + 2*Sum[A[d-1, n-j^2], {j, 1, Sqrt[n]}]]]; Table[A[h-n, n], {h, 1, 14}, {n, 0, h-1}] // Flatten (* _Jean-François Alcover_, Feb 28 2018, after _Alois P. Heinz_ *)
```
## Python
```Python
from sympy.core.power import isqrt
from functools import cache
@cache
def T(d, n):
  if n == 0: return 1
  if n < 0 or d < 1: return 0
  return T(d-1, n) + sum(T(d-1, n-(j**2)) for j in range(1, isqrt(n)+1)) * 2  # _Darío Clavijo_, Feb 06 2024
```
