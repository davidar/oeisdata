# a\(1\)\=1; for n \> 1, a\(n\) \= a\(n\-1\) \- n unless that result is already in the sequence or would be negative; otherwise, a\(n\) \= a\(n\-1\) \* n\.
https://oeis.org/A354833
## JSON
```JSON
[1, 2, 6, 24, 19, 13, 91, 83, 74, 64, 53, 41, 28, 14, 210, 194, 177, 159, 140, 120, 99, 77, 54, 30, 5, 130, 103, 75, 46, 16, 496, 464, 431, 397, 362, 326, 289, 251, 212, 172, 131, 89, 3827, 3783, 3738, 3692, 3645, 3597, 3548, 3498, 3447, 3395, 3342, 3288, 3233, 3177]
```
## Mathematica
```Mathematica
a[1] = 1; a[n_] := a[n] = Module[{s = Array[a, n - 1], d}, If[(d = a[n - 1] - n) < 0 || MemberQ[s, d], n * a[n - 1], d]]; Array[a, 50] (* _Amiram Eldar_, Jun 07 2022 *)
```
## PARI
```PARI
{ seen = Map(); v = 1; for (n=1, 56, mapput(seen, v, 0); print1 (v", "); v=if (mapisdefined(seen, w=v-(n+1)) || w<0, v*(n+1), w)) } \\ _RÃ©my Sigrist_, Jul 02 2022
```
## Python
```Python
from itertools import count, islice
def agen():
    an, seen = 1, {1}
    yield 1
    for n in count(2):
        t = an - n
        an = t if t not in seen and t >= 0 else an*n
        yield an
        seen.add(an)
print(list(islice(agen(), 56))) # _Michael S. Branicky_, Jul 02 2022
```
