# a\(1\) \= 1; for n \> 1, a\(n\) is the smallest positive number that has not yet appeared that shares a factor with a\(n\-1\) and the difference \| a\(n\) \- a\(n\-1\) \| is distinct from all previous differences\.
https://oeis.org/A354687
## JSON
```JSON
[1, 2, 4, 8, 14, 6, 3, 12, 22, 10, 5, 20, 34, 16, 32, 52, 13, 26, 48, 15, 36, 9, 33, 44, 18, 46, 23, 69, 21, 28, 58, 24, 56, 7, 42, 78, 27, 72, 30, 55, 11, 66, 104, 38, 19, 76, 116, 29, 87, 141, 39, 91, 35, 85, 17, 102, 40, 100, 25, 90, 153, 45, 114, 50, 120, 192, 51, 68, 142, 54, 130, 208, 60]
```
## Mathematica
```Mathematica
nn = 120; c[_] = d[_] = 0; a[1] = c[1] = 1; a[2] = c[2] = j = 2; u = 3; Do[Set[k, u]; While[Nand[c[k] == 0, d[Abs[k - j]] == 0, ! CoprimeQ[j, k]], k++]; Set[{a[i], c[k], d[Abs[k - j]]}, {k, i, i}]; j = k; If[k == u, While[c[u] > 0, u++]], {i, 3, nn}]; Array[a, nn] (* _Michael De Vlieger_, Jun 04 2022 *)
```
## Python
```Python
from math import gcd
from sympy import isprime, nextprime
from itertools import count, islice
def agen(): # generator of terms
    aset, diffset, an, mink = {1, 2}, {1}, 2, 3
    yield from [1, 2]
    for n in count(3):
        k = mink
        while k in aset or abs(an-k) in diffset or gcd(an, k) == 1: k += 1
        aset.add(k); diffset.add(abs(k-an)); an = k; yield an
        while mink in aset: mink += 1
print(list(islice(agen(), 73))) # _Michael S. Branicky_, Jun 04 2022
```
