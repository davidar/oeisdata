# Triangle read by rows of generalized ménage numbers: T\(n,k\) is the number of permutations pi in S\_n such that pi\(i\) \!\= i and pi\(i\) \!\= i\+k \(mod n\) for all i; n, 1 <\= k < n\.
https://oeis.org/A354408
## JSON
```JSON
[0, 1, 1, 2, 4, 2, 13, 13, 13, 13, 80, 82, 80, 82, 80, 579, 579, 579, 579, 579, 579, 4738, 4740, 4738, 4752, 4738, 4740, 4738, 43387, 43387, 43390, 43387, 43387, 43390, 43387, 43387, 439792, 439794, 439792, 439794, 440192, 439794, 439792, 439794, 439792]
```
## Python
```Python
from sympy import Matrix
def A354408(n,k):
    return Matrix(n,n,lambda i,j:int(i!=j and i!=(j+k)%n)).per() # _Pontus von Brömssen_, May 31 2022
```
```Python
# This version, based on the formula in A277256, is much faster than the version using permanents, at least for large n.
from sympy import factorial,gcd,sqrt
from sympy.abc import z
def A354408(n,k):
    k=gcd(n,k)
    F=((1-sqrt(1+4*z))/2)**(2*(n//k))+((1+sqrt(1+4*z))/2)**(2*(n//k))
    p=(F**k).series(z,0,n+1)
    return sum((-1)**j*factorial(n-j)*p.coeff(z,j) for j in range(n+1)) # _Pontus von Brömssen_, Jun 02 2022
```
