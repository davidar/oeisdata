# Consider recurrence b\(0\) \= n/3, b\(k\+1\) \= b\(k\)\*floor\(b\(k\)\); a\(n\) is the least k such that b\(k\) is an integer, or \-1 if no integer is ever reached\.
https://oeis.org/A087666
## JSON
```JSON
[0, 3, 4, 0, 1, 1, 0, 3, 2, 0, 3, 7, 0, 1, 1, 0, 2, 3, 0, 2, 2, 0, 1, 1, 0, 5, 5, 0, 5, 6, 0, 1, 1, 0, 9, 2, 0, 8, 3, 0, 1, 1, 0, 2, 5, 0, 2, 2, 0, 1, 1, 0, 3, 3, 0, 6, 3, 0, 1, 1, 0, 4, 2, 0, 6, 4, 0, 1, 1, 0, 2, 4, 0, 2, 2, 0, 1, 1, 0, 6, 4, 0, 3, 6, 0, 1, 1, 0, 3, 2, 0, 3, 4, 0, 1, 1, 0, 2, 3, 0, 2, 2, 0, 1, 1, 0, 4, 7, 0, 6, 6, 0, 1, 1, 0, 5, 2, 0, 4, 3, 0, 1, 1, 0, 2]
```
## Maple
```Maple
# Gives right answer as long as answer is < M.
# This is better than the Mathematica or PARI programs.
M := 50; f := proc(n) local c,k,tn,tf; global M; k := n/3; c := 0; while whattype(k) <> 'integer' do tn := floor(k); tf := k-tn; tn := tn mod 3^50; k := tn*(tn+tf); c := c+1; od: c; end; # _N. J. A. Sloane_
```
## Mathematica
```Mathematica
f[n_] := If[ Mod[3n, 3] == 0, 0, Length[ NestWhileList[ #1*Floor[ #1] &, n, !IntegerQ[ #2] &, 2]] - 1]; Table[f[n/3], {n, 6, 120}] (* _Robert G. Wilson v_ *)
```
## PARI
```PARI
a(n)=if(n<0,0,c=n/3; x=0; while(frac(c)>0,c=c*floor(c); x++); x) \\ _Benoit Cloitre_, Sep 29 2003
```
## Python
```Python
def A087666(n):
    c, x = 0, n
    a, b = divmod(x,3)
    while b != 0:
        x *= a
        c += 1
        a, b = divmod(x,3)
    return c # _Chai Wah Wu_, Mar 01 2021
```
