# Number of solutions to x^4 \=\= 1 \(mod n\)\.
https://oeis.org/A073103
## JSON
```JSON
[1, 1, 2, 2, 4, 2, 2, 4, 2, 4, 2, 4, 4, 2, 8, 8, 4, 2, 2, 8, 4, 2, 2, 8, 4, 4, 2, 4, 4, 8, 2, 8, 4, 4, 8, 4, 4, 2, 8, 16, 4, 4, 2, 4, 8, 2, 2, 16, 2, 4, 8, 8, 4, 2, 8, 8, 4, 4, 2, 16, 4, 2, 4, 8, 16, 4, 2, 8, 4, 8, 2, 8, 4, 4, 8, 4, 4, 8, 2, 32, 2, 4, 2, 8, 16, 2, 8, 8, 4, 8, 8, 4, 4, 2, 8, 16, 4, 2, 4, 8]
```
## Maple
```Maple
a:= n-> add(`if`(irem(j^4-1, n)=0, 1, 0), j=0..n-1):
seq(a(n), n=1..120);  # _Alois P. Heinz_, Jun 06 2013
# alternative
A073103 := proc(n)
    local a,pf,p,r;
    a := 1 ;
    for pf in ifactors(n)[2] do
        p := op(1,pf);
        r := op(2,pf);
        if p = 2 then
            a := a*p^min(r-1,3) ;
        else
            if modp(p,4) = 1 then
                a := 4*a ;
            else
                a := 2*a ;
            end if;
        end if;
    end do:
    a ;
end proc: # _R. J. Mathar_, Mar 02 2015
```
## Mathematica
```Mathematica
a[n_] := Sum[If[Mod[j^4-1, n] == 0, 1, 0], {j, 0, n-1}]; Table[a[n], {n, 1, 120}] (* _Jean-Fran√ßois Alcover_, Jun 12 2015, after _Alois P. Heinz_ *)
```
```Mathematica
f[2, e_] := 2^Min[e-1, 3]; f[p_, e_] := If[Mod[p, 4] == 1, 4, 2]; a[1] = 1; a[n_] := Times @@ f @@@ FactorInteger[n]; Array[a, 100] (* _Amiram Eldar_, Sep 17 2020 *)
```
## PARI
```PARI
a(n)=sum(i=1,n,if((i^4-1)%n,0,1))
```
```PARI
a(n)=my(f=factor(n)); prod(i=1,#f~, if(f[i,1]==2, 2^min(f[i,2]-1,3), if(f[i,1]%4==1, 4, 2))) \\ _Charles R Greathouse IV_, Mar 02 2015
```
## Python
```Python
from math import prod
from sympy import primefactors
def A073103(n): return (1<<min(s-1,3) if (s:=(~n & n-1).bit_length()) else 1)*prod(1<<(5-(p&3)>>1) for p in primefactors(n>>s)) # _Chai Wah Wu_, Oct 26 2022
```
