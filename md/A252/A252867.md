# a\(n\) \= n if n <\= 2, otherwise the smallest number not occurring earlier having in its binary representation at least one bit in common with a\(n\-2\), but none with a\(n\-1\)\.
https://oeis.org/A252867
## JSON
```JSON
[0, 1, 2, 5, 10, 4, 3, 12, 17, 6, 9, 18, 8, 7, 24, 33, 14, 32, 11, 36, 19, 40, 16, 13, 48, 15, 80, 34, 20, 35, 28, 65, 22, 41, 66, 21, 42, 68, 25, 38, 72, 23, 64, 26, 69, 50, 73, 52, 67, 44, 81, 46, 129, 30, 97, 130, 29, 98, 132, 27, 100, 131, 56, 70, 49, 74, 37, 82]
```
## Maple
```Maple
read("transforms") : # define ANDnos
A252867 := proc(n)
    local a,known,i ;
    option remember;
    if n <=2 then
        n;
    else
        for a from 3 do
            known := false ;
            for i from 1 to n-1 do
                if procname(i) = a then
                    known := true;
                    break;
                end if;
            end do:
            if not known then
                if ANDnos(a, procname(n-1)) = 0 and ANDnos(a,procname(n-2)) > 0 then
                    return a;
                end if;
            end if;
        end do:
    end if
end proc:
seq(A252867(n),n=0..200) ; # _R. J. Mathar_, May 02 2024
```
## Mathematica
```Mathematica
a[n_] := a[n] = If[n<3, n, For[k=3, True, k++, If[FreeQ[Array[a, n-1], k], If[BitAnd[k, a[n-2]] >= 1 && BitAnd[k, a[n-1]] == 0, Return[k]]]]];
```
```Mathematica
Table[a[n], {n, 0, 100}] (* _Jean-FranÃ§ois Alcover_, Oct 03 2018 *)
```
## PARI
```PARI
invecn(v,k,x)=for(i=1,k,if(v[i]==x,return(i)));0
alist(n)=local(v=vector(n,i,i-1), x); for(k=4, n, x=3; while(invecn(v, k-1, x)||!bitand(v[k-2], x)||bitand(v[k-1],x), x++); v[k]=x); v
```
## Haskell
```Haskell
import Data.Bits ((.&.)); import Data.List (delete)
a252867 n = a252867_list !! n
a252867_list = 0 : 1 : 2 : f 1 2 [3..] where
   f :: Int -> Int -> [Int] -> [Int]
   f u v ws = g ws where
     g (x:xs) = if x .&. u > 0 && x .&. v == 0
                   then x : f v x (delete x ws) else g xs
-- _Reinhard Zumkeller_, Dec 24 2014
```
## Python
```Python
A252867_list, l1, l2, s, b = [0,1,2], 2, 1, 3, set()
for _ in range(10**2):
    i = s
    while True:
        if not (i in b or i & l1) and i & l2:
            A252867_list.append(i)
            l2, l1 = l1, i
            b.add(i)
            while s in b:
                b.remove(s)
                s += 1
            break
        i += 1 # _Chai Wah Wu_, Dec 27 2014
```
