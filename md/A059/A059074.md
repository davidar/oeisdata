# Number of derangements of a multiset comprising 4 repeats of an n\-element set\.
https://oeis.org/A059074
## JSON
```JSON
[1, 0, 1, 346, 748521, 3993445276, 45131501617225, 964363228180815366, 35780355973270898382001, 2158610844939711892526650456, 201028342764877992289387752167601, 27708893753238763155350683269145066450, 5459844285803153226360263675364357481841881]
```
## Maple
```Maple
p := (x,k)->k!^2*sum(x^j/((k-j)!^2*j!),j=0..k); R := (x,n,k)->p(x,k)^n; f := (t,n,k)->sum(coeff(R(x,n,k),x,j)*(t-1)^j*(n*k-j)!,j=0..n*k); seq(f(0,n,4)/4!^n,n=0..18);
```
## Mathematica
```Mathematica
p[x_, k_] := k!^2*Sum[x^j/((k - j)!^2*j!), {j, 0, k}]; r[x_, n_, k_] := p[x, k]^n; f[t_, n_, k_] := Sum[Coefficient[r[x, n, k], x, j]*(t - 1)^j*(n*k - j)!, {j, 0, n*k}]; Table[f[0, n, 4]/4!^n, {n, 0, 18}] // Flatten (* _Jean-Fran√ßois Alcover_, Oct 21 2013, after Maple *)
```
```Mathematica
Table[Integrate[Exp[-x] LaguerreL[4, x]^n, {x, 0, Infinity}], {n, 0, 16}] (* _Jeremy Tan_, Apr 25 2024 *)
```
```Mathematica
rec = 3*(128*n^3 - 560*n^2 + 840*n - 537)*a[n] - n*(4096*n^6 - 24064*n^5 + 62720*n^4 - 92992*n^3 + 75248*n^2 - 38670*n + 4179)*a[n-1] - 2*n*(n-1)*(18432*n^5 - 99072*n^4 + 197120*n^3 - 191776*n^2 + 144568*n - 92531)*a[n-2] + 48*n*(n-1)*(n-2)*(768*n^4 - 2976*n^3 + 3104*n^2 - 2438*n + 1583)*a[n-3] + 288*n*(n-1)*(n-2)*(n-3)*(128*n^3 - 176*n^2 + 104*n - 129)*a[n-4] == 8192*n^6 - 28672*n^5 + 23680*n^4 - 7904*n^3 + 1416*n^2 + 14382*n - 1611;
```
```Mathematica
RecurrenceTable[{rec, a[0] == 1, a[1] == 0, a[2] == 1, a[3] == 346}, a, {n, 0, 16}] (* _Jeremy Tan_, Apr 25 2024 *)
```
## Python
```Python
def A059074(n):
    l = [1, 0, 1, 346]
    for k in range(4, n+1):
        num = (((((8192*k-28672)*k+23680)*k-7904)*k+1416)*k+14382)*k-1611 \
            + k*((((((4096*k-24064)*k+62720)*k-92992)*k+75248)*k-38670)*k+4179)*l[-1] \
            + 2*k*(k-1)*(((((18432*k-99072)*k+197120)*k-191776)*k+144568)*k-92531)*l[-2] \
            - 48*k*(k-1)*(k-2)*((((768*k-2976)*k+3104)*k-2438)*k+1583)*l[-3] \
            - 288*k*(k-1)*(k-2)*(k-3)*(((128*k-176)*k+104)*k-129)*l[-4]
        r = num // (3*(((128*k-560)*k+840)*k-537))
        l.append(r)
    return l[n] # _Jeremy Tan_, Apr 25 2024
```
