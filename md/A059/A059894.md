# Complement and reverse the order of all but the most significant bit in binary expansion of n\. n \= 1ab\.\.yz \-\> 1ZY\.\.BA \= a\(n\), where A \= 1\-a, B \= 1\-b, \.\.\. \.
https://oeis.org/A059894
## JSON
```JSON
[1, 3, 2, 7, 5, 6, 4, 15, 11, 13, 9, 14, 10, 12, 8, 31, 23, 27, 19, 29, 21, 25, 17, 30, 22, 26, 18, 28, 20, 24, 16, 63, 47, 55, 39, 59, 43, 51, 35, 61, 45, 53, 37, 57, 41, 49, 33, 62, 46, 54, 38, 58, 42, 50, 34, 60, 44, 52, 36, 56, 40, 48, 32, 127, 95, 111, 79, 119, 87, 103, 71]
```
## Maple
```Maple
a:= proc(n) local i, m, r; m, r:= n, 0;
      for i from 0 while m>1 do r:= 2*r +1 -irem(m,2,'m') od;
      r +2^i
    end:
seq(a(n), n=1..100);  # _Alois P. Heinz_, Feb 28 2015
```
## Mathematica
```Mathematica
Map[FromDigits[#, 2] &@ Flatten@ MapAt[Reverse, TakeDrop[IntegerDigits[#, 2], 1], -1] &, Flatten@ Table[Range[2^(n + 1) - 1, 2^n, -1], {n, 0, 6}]] (* _Michael De Vlieger_, Aug 23 2017 after _Harvey P. Dale_ at A054429 *)
```
## PARI
```PARI
a(n)=local(v, l); v=binary(n); l=length(v); 2^(l-1)+sum(k=0, l-2, if(!v[k+2], 2^k))
log2(n) = log(n)/log(2)
b(n)=if(n<2, 1, if(n%2==0, b(n/2)+2^(floor(log2(n/2))+1), b((n-1)/2)+2^floor(log2((n-1)/2))))
```
```PARI
{ for (n=1, 1024, a=1; b=n; while (b>1, a=2*a + 1 - 2*frac(b/2); b=floor(b/2); ); write("b059894.txt", n, " ", a); ) } \\ _Harry J. Smith_, Jun 30 2009
```
## R
```R
maxrow <- 8 #by choice
a <- 1
for(m in 0:maxrow) for(k in 0:(2^m-1)){
a[2^(m+1) + 2*k    ] <- a[2^m + k] + 2^(m+1)
a[2^(m+1) + 2*k + 1] <- a[2^m + k] + 2^m
}
a
# _Yosu Yurramendi_, Apr 05 2017
```
## Python
```Python
def a(n): return int('1' + ''.join('0' if i=='1' else '1' for i in bin(n)[3:])[::-1], 2)
print([a(n) for n in range(1, 51)]) # _Indranil Ghosh_, Aug 24 2017
```
```Python
def A059894(n): return n if n <= 1 else -int((s:=bin(n)[-1:2:-1]),2)-1+2**(len(s)+1) # _Chai Wah Wu_, Feb 04 2022
```
