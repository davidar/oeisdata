# Number of length\-n blocks in the Thue\-Morse sequence with intertwining pattern ABBA ABBA ABBA\.\.\. \.
https://oeis.org/A352228
## JSON
```JSON
[0, 0, 1, 1, 2, 2, 2, 3, 4, 4, 4, 4, 4, 5, 6, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 9, 10, 11, 12, 13, 14, 15, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32]
```
## Mathematica
```Mathematica
a[n_] := a[n] = Switch[n, 1|2, 0, 3, 1, n, If[Mod[n, 2] == 1, 2*a[(n+1)/2//Floor], a[n/2//Floor] + a[1+n/2//Floor]]];
```
```Mathematica
Table[a[n], {n, 1, 78}] (* _Jean-Fran√ßois Alcover_, Mar 25 2023
```
## Python
```Python
# Recurrence from _Henry Bottomley_ in A060973.
from functools import cache
@cache
def a(n):
    match n:
        case 1 | 2: return 0
        case 3: return 1
        case n  if n % 2 == 1: return 2*a((n+1)//2)
        case _: return a(n//2) + a(1+n//2)
print([a(n) for n in range(1, 73)])  # _Peter Luschny_, Mar 08 2022
```
