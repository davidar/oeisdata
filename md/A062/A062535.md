# Don't be greedy\! Difference between number of squares needed to sum to n using the greedy algorithm and using the best such sum\.
https://oeis.org/A062535
## JSON
```JSON
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 2, 0, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 2, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 2, 1, 0, 0, 0, 2, 0, 0, 2, 0, 1, 1, 0, 0, 0, 0, 0, 0]
```
## Mathematica
```Mathematica
f[n_] := (n - Floor[Sqrt[n]]^2); a053610[n_] := (m = n; c = 1; While[a = f[m]; a != 0, c++; m = a]; c); SquareCnt[n_] := If[SquaresR[1, n] > 0, 1, If[SquaresR[2, n] > 0, 2, If[SquaresR[3, n] > 0, 3, 4]]]; (* a002828 *) Table[a053610[n] - SquareCnt[n], {n, 1, 100}] (* _G. C. Greubel_, Apr 18 2017 *)
```
## Python
```Python
from math import isqrt
from sympy import factorint
def A062535(n):
    c, k, f = 0, n, factorint(n).items()
    while k:
        k -= isqrt(k)**2
        c += 1
    if not any(e&1 for p,e in f): return c-1
    if all(p&3<3 or e&1^1 for p,e in f): return c-2
    return c-3-(((m:=(~n&n-1).bit_length())&1^1)&int((n>>m)&7==7)) # _Chai Wah Wu_, Aug 01 2023
```
