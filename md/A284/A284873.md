# Array read by antidiagonals: T\(n,k\) \= number of double palindromes of length n using a maximum of k different symbols\.
https://oeis.org/A284873
## JSON
```JSON
[1, 2, 1, 3, 4, 1, 4, 9, 8, 1, 5, 16, 21, 16, 1, 6, 25, 40, 57, 32, 1, 7, 36, 65, 136, 123, 52, 1, 8, 49, 96, 265, 304, 279, 100, 1, 9, 64, 133, 456, 605, 880, 549, 160, 1, 10, 81, 176, 721, 1056, 2125, 1768, 1209, 260, 1, 11, 100, 225, 1072, 1687, 4356, 4345, 4936, 2127, 424, 1]
```
## Mathematica
```Mathematica
r[d_, k_]:=If[OddQ[d], d*k^((d + 1)/2), (d/2)*(k + 1)*k^(d/2)]; a[n_, k_]:= r[n, k] - Sum[If[d<n, EulerPhi[n/d] a[d, k], 0], {d, Divisors[n]}]; Table[a[k, n - k + 1], {n, 20}, {k, n}] // Flatten (* _Indranil Ghosh_, Apr 07 2017 *)
```
## PARI
```PARI
r(d,k)=if (d % 2 == 0, (d/2)*(k+1)*k^(d/2), d*k^((d+1)/2));
a(n,k) = r(n,k) - sumdiv(n,d, if (d<n, eulerphi(n/d)*a(d,k), 0));
for(n=1, 10, for(k=1, 10, print1( a(n,k),", ");); print(););
```
## Python
```Python
from sympy import totient, divisors
def r(d, k): return (d//2)*(k + 1)*k**(d//2) if d%2 == 0 else d*k**((d + 1)//2)
def a(n, k): return r(n, k) - sum([totient(n//d)*a(d, k) for d in divisors(n) if d<n])
for n in range(1, 21): print([a(k, n - k + 1) for k in range(1, n + 1)]) # _Indranil Ghosh_, Apr 07 2017
```
