# Number of maps f: \[n\] \-\> \[n\] with f\(x\)<\=x and f\(f\(x\)\) \= f\(f\(f\(x\)\)\)\.
https://oeis.org/A187761
## JSON
```JSON
[1, 1, 2, 6, 23, 106, 568, 3459, 23544, 176850, 1451253, 12904312, 123489888, 1264591561, 13790277294, 159466823794, 1948259002647, 25066729706582, 338670605492700, 4792623436607059, 70873649458154500, 1092969062435462254, 17543703470388927229, 292600906102204630092]
```
## Maple
```Maple
b:= proc(n, x, y) option remember; `if`(n=0, 1,
       b(n-1, x+1, y) +x*b(n-1, x, y+1) +y*b(n-1, x, y))
    end:
a:= n-> b(n, 0, 0):
seq(a(n), n=0..25);  # _Alois P. Heinz_, Jan 09 2013
# The function BellMatrix is defined in A264428.
B := BellMatrix(n -> combinat:-bell(n), 24):
seq(add(i, i=LinearAlgebra:-Row(B,n)), n=1..24); # _Peter Luschny_, Jan 23 2016
# alternative Maple program:
b:= proc(n, h) option remember; `if`(min(n, h)=0, 1, add(
      binomial(n-1, j-1)*b(j-1, h-1)*b(n-j, h), j=1..n))
    end:
a:= n-> b(n, 2):
seq(a(n), n=0..25);  # _Alois P. Heinz_, Aug 21 2017
```
## Mathematica
```Mathematica
b[n_, x_, y_] := b[n, x, y] = If[n == 0, 1, b[n-1, x+1, y]+x*b[n-1, x, y+1]+y*b[n-1, x, y]]; a[n_] := b[n, 0, 0]; Table[a[n], {n, 0, 23}] (* _Jean-Fran√ßois Alcover_, Feb 25 2014, after _Alois P. Heinz_ *)
```
```Mathematica
Table[Sum[BellY[n, k, BellB[Range[n] - 1]], {k, 0, n}], {n, 0, 20}] (* _Vladimir Reshetnikov_, Nov 09 2016 *)
```
## PARI
```PARI
/* using e.g.f. A(x) */
x = 'x + O('x^66);
B = exp( exp(x) - 1 );  /* e.g.f. of Bell numbers */
A = serconvol( x * B, -log(1-x) );
/* A = intformal(B) */ /* alternative to last line */
A = exp( A );
Vec( serlaplace( A ) )
```
## Python
```Python
from sympy.core.cache import cacheit
from sympy import binomial
@cacheit
def b(n, h): return 1 if min(n, h)==0 else sum([binomial(n - 1, j - 1)*b(j - 1, h - 1)*b(n - j, h) for j in range(1, n + 1)])
def a(n): return b(n, 2)
print([a(n) for n in range(31)]) # _Indranil Ghosh_, Aug 21 2017, after second Maple program by _Alois P. Heinz_
```
