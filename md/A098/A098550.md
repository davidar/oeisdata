# The Yellowstone permutation: a\(n\) \= n if n <\= 3, otherwise the smallest number not occurring earlier having at least one common factor with a\(n\-2\), but none with a\(n\-1\)\.
https://oeis.org/A098550
## JSON
```JSON
[1, 2, 3, 4, 9, 8, 15, 14, 5, 6, 25, 12, 35, 16, 7, 10, 21, 20, 27, 22, 39, 11, 13, 33, 26, 45, 28, 51, 32, 17, 18, 85, 24, 55, 34, 65, 36, 91, 30, 49, 38, 63, 19, 42, 95, 44, 57, 40, 69, 50, 23, 48, 115, 52, 75, 46, 81, 56, 87, 62, 29, 31, 58, 93, 64, 99, 68, 77, 54, 119, 60]
```
## Maple
```Maple
N:= 10^4: # to get a(1) to a(n) where a(n+1) is the first term > N
B:= Vector(N,datatype=integer[4]):
for n from 1 to 3 do A[n]:= n: od:
for n from 4 do
  for k from 4 to N do
    if B[k] = 0 and igcd(k,A[n-1]) = 1 and igcd(k,A[n-2]) > 1 then
       A[n]:= k;
       B[k]:= 1;
       break
    fi
  od:
  if k > N then break fi
od:
seq(A[i],i=1..n-1); # _Robert Israel_, Nov 21 2014
```
## Mathematica
```Mathematica
f[lst_List] := Block[{k = 4}, While[ GCD[ lst[[-2]], k] == 1 || GCD[ lst[[-1]], k] > 1 || MemberQ[lst, k], k++]; Append[lst, k]]; Nest[f, {1, 2, 3}, 68] (* _Robert G. Wilson v_, Nov 21 2014 *)
```
```Mathematica
NN = Range[4, 1000]; a098550 = {1, 2, 3}; g = {-1}; While[g[[1]] != 0, g = Flatten[{FirstPosition[NN, v_ /; GCD[a098550[[-1]], v] == 1 && GCD[a098550[[-2]], v] > 1, 0]}]; If[g[[1]] != 0, d = NN[[g]]; a098550 = Flatten[Append[a098550, d[[1]]]]; NN = Delete[NN, g[[1]]]]]; Table[a098550[[n]], {n, 71}] (* _L. Edson Jeffery_, Jan 01 2015 *)
```
## Haskell
```Haskell
import Data.List (delete)
a098550 n = a098550_list !! (n-1)
a098550_list = 1 : 2 : 3 : f 2 3 [4..] where
   f u v ws = g ws where
     g (x:xs) = if gcd x u > 1 && gcd x v == 1
                   then x : f v x (delete x ws) else g xs
-- _Reinhard Zumkeller_, Nov 21 2014
```
## PARI
```PARI
a(n, show=1, a=3, o=2, u=[])={n<3&&return(n); show&&print1("1, 2"); for(i=4,n, show&&print1(","a); u=setunion(u, Set(a)); while(#u>1 && u[2]==u[1]+1, u=vecextract(u,"^1")); for(k=u[1]+1, 9e9, gcd(k,o)>1||next; setsearch(u,k)&&next; gcd(k,a)==1||next; o=a; a=k; break)); a} \\ Replace "show" by "a+1==i" in the main loop to print only fixed points. - _M. F. Hasler_, Dec 01 2014
```
## Python
```Python
from fractions import gcd
A098550_list, l1, l2, s, b = [1,2,3], 3, 2, 4, {}
for _ in range(1,10**6):
    i = s
    while True:
        if not i in b and gcd(i,l1) == 1 and gcd(i,l2) > 1:
            A098550_list.append(i)
            l2, l1, b[i] = l1, i, 1
            while s in b:
                b.pop(s)
                s += 1
            break
        i += 1 # _Chai Wah Wu_, Dec 04 2014
```
