# Length of aliquot sequence for n, or \-1 if aliquot sequence never cycles\.
https://oeis.org/A098007
## JSON
```JSON
[2, 3, 3, 4, 3, 1, 3, 4, 5, 5, 3, 8, 3, 6, 6, 7, 3, 5, 3, 8, 4, 7, 3, 6, 2, 8, 4, 1, 3, 16, 3, 4, 7, 9, 4, 5, 3, 8, 4, 5, 3, 15, 3, 6, 8, 9, 3, 7, 5, 4, 5, 10, 3, 14, 4, 6, 4, 5, 3, 12, 3, 10, 4, 5, 4, 13, 3, 6, 5, 7, 3, 10, 3, 6, 6, 6, 4, 12, 3, 8, 6, 7, 3, 7, 4, 10, 8, 8, 3, 11, 5, 7, 5, 5, 3, 10, 3, 4, 5, 6]
```
## Maple
```Maple
f:=proc(n) local t1, i,j,k; t1:=[n]; for i from 2 to 50 do j:= t1[i-1]; k:=sigma(j)-j; t1:=[op(t1), k]; od: t1; end; # produces trajectory for n
# 2nd implementation:
A098007 := proc(n)
    local trac, x;
    x := n ;
    trac := [x] ;
    while true do
        x := numtheory[sigma](x)-trac[-1] ;
        if x = 0 then
            return 1+nops(trac) ;
        elif x in trac then
            return nops(trac) ;
        end if;
        trac := [op(trac), x] ;
    end do:
end proc:
seq(A098007(n), n=1..100) ; # _R. J. Mathar_, Oct 08 2017
```
## Mathematica
```Mathematica
g[n_] := If[n > 0, DivisorSigma[1, n] - n, 0]; f[n_] := NestWhileList[g, n, UnsameQ, All]; Table[ Length[ f[n]] - 1, {n, 100}] (* _Robert G. Wilson v_, Sep 10 2004 *)
```
## Scheme
```Scheme
(define (A098007 n) (let loop ((visited (list n)) (i 1)) (let ((next (A001065 (car visited)))) (cond ((zero? next) (+ 1 i)) ((member next visited) i) (else (loop (cons next visited) (+ 1 i)))))))
(define (A001065 n) (- (A000203 n) n)) ;; For an implementation of A000203, see under that entry.
;; _Antti Karttunen_, Nov 01 2017
```
## PARI
```PARI
apply( {A098007(n, t=0)=until(bittest(t,if(n,n=sigma(n)-n)),t+=1<<n);hammingweight(t)}, [1..99]) \\ _M. F. Hasler_, Feb 24 2018, improved Aug 14 2022 thanks to a remark from _Jianing Song_
```
## Python
```Python
from sympy import divisor_sigma as sigma
def a(n, limit=float('inf')):
    alst = []; seen = set(); i = n; c = 0
    while i and i not in seen and c < limit:
        alst.append(i); seen.add(i); i = sigma(i) - i; c += 1
    return "NA" if c == limit else len(set(alst + [i]))
print([a(n) for n in range(1, 101)]) # _Michael S. Branicky_, Jul 11 2021
```
