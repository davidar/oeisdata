# Prime\(4almostprime\(n\)\)\-4almostprime\(prime\(n\)\)\. Commutator \[A000040,A014613\] at n\.
https://oeis.org/A124284
## JSON
```JSON
[29, 53, 97, 113, 161, 159, 145, 269, 244, 232, 231, 247, 261, 373, 399, 386, 328, 350, 375, 371, 395, 547, 559, 572, 537, 541, 577, 635, 679, 663, 607, 621, 687, 673, 658, 769, 871, 853, 839, 856, 832, 881, 947, 939, 1003, 1007, 955, 915, 907, 889, 941, 989]
```
## Mathematica
```Mathematica
FourAlmostPrimePi[n_] := Sum[PrimePi[n/(Prime@i*Prime@j*Prime@k)] - k + 1, {i, PrimePi[n^(1/4)]}, {j, i, PrimePi[(n/Prime@i)^(1/3)]}, {k, j, PrimePi@ Sqrt[n/(Prime@i*Prime@j)]}];
```
```Mathematica
FourAlmostPrime[n_] := Block[{e = Floor[Log[2, n] + 1], a, b}, a = 2^e; Do[b = 2^p; While[ FourAlmostPrimePi@a < n, a = a + b]; a = a - b/2, {p, e, 0, -1}]; a + b/2];
```
```Mathematica
Table[ Prime@ FourAlmostPrime@ n - FourAlmostPrime@ Prime@ n, {n, 52}]
```
## Python
```Python
from math import isqrt
from sympy import primepi, primerange, integer_nthroot, prime
def A124284(n):
    def f(x): return int(x-sum(primepi(x//(k*m*r))-c for a,k in enumerate(primerange(integer_nthroot(x,4)[0]+1)) for b,m in enumerate(primerange(k,integer_nthroot(x//k,3)[0]+1),a) for c,r in enumerate(primerange(m,isqrt(x//(k*m))+1),b)))
    m, k = n, f(n)+n
    while m != k:
        m, k = k, f(k)+n
    r, k = (p:=prime(n)), f(p)+p
    while r != k:
        r, k = k, f(k)+p
    return prime(m)-r # _Chai Wah Wu_, Aug 17 2024
```
