# Start from the singleton set S \= \{n\}, and unless 1 is already a member of S, generate on each iteration a new set where each odd number k is replaced by 3k\+1, and each even number k is replaced by 3k\+1 and k/2\. a\(n\) is the size of the set after the first iteration which has produced 1 as a member\.
https://oeis.org/A290100
## JSON
```JSON
[1, 2, 12, 3, 8, 23, 381, 5, 73, 12, 187, 47, 39, 786, 537, 8, 109, 124, 2020, 23, 19, 381, 267, 81, 7768, 60, 6061, 73, 1238, 1128, 118945, 12, 1120, 187, 141, 234, 190, 3999, 18578, 39, 3394, 28, 2896, 747, 576, 537, 56496, 128, 533, 606, 9757, 109, 95, 12337, 8656, 118, 11306, 2020, 9309, 2309, 1789, 258213, 176262, 19]
```
## Mathematica
```Mathematica
Table[Length@ Last@ NestWhileList[Union@ Flatten[# /. {k_ /; OddQ@ k :> 3 k + 1, k_ /; EvenQ@ k :> {k/2, 3 k + 1}}] &, {n}, FreeQ[#, 1] &], {n, 64}] (* _Michael De Vlieger_, Aug 20 2017 *)
```
## PARI
```PARI
allocatemem(2^31);
A290100(n) = { my(S); S=[n]; while( S[1]!=1, S = vecsort( concat(apply(x->3*x+1, S), apply(x->x\2, select(x->x%2==0, S) )), , 8); ); length(S); } \\ After _Max Alekseyev_'s code for A127885
for(n=1,126,write("b290100.txt", n, " ", A290100(n)));
```
## Python
```Python
from sympy import flatten
def a(n):
    if n==1: return 1
    L=[n]
    while not 1 in L:
        L=sorted(list(set(flatten([[3*k + 1, k/2] if k%2==0 else 3*k + 1 for k in L]))))
    return len(L)
for i in range(1, 101): print(a(i)) # _Indranil Ghosh_, Aug 31 2017
```
