# Number of arithmetic subsequences of \[1\.\.n\] with length \> 1\.
https://oeis.org/A078567
## JSON
```JSON
[0, 1, 4, 9, 17, 27, 41, 57, 77, 100, 127, 156, 191, 228, 269, 314, 364, 416, 474, 534, 600, 670, 744, 820, 904, 991, 1082, 1177, 1278, 1381, 1492, 1605, 1724, 1847, 1974, 2105, 2245, 2387, 2533, 2683, 2841, 3001, 3169, 3339, 3515, 3697, 3883, 4071, 4269, 4470]
```
## Maple
```Maple
b:= proc(n) option remember; `if`(n<1, [0$2],
      (p-> p+[numtheory[tau](n), p[1]])(b(n-1)))
    end:
a:= n-> b(n)[2]:
seq(a(n), n=1..55);  # _Alois P. Heinz_, Oct 07 2021
```
## Mathematica
```Mathematica
a[n_]:=-(-1 + n) n + Sum[-(1/2) Ceiling[n/(1 + k)] (-1 - k - 2 n + (1 + k) Ceiling[n/(1 + k)]), {k, 0, n - 2}; (* _Lorenz H. Menke, Jr._, Feb 17 2017 *)
```
```Mathematica
Table[Sum[(n - i) DivisorSigma[0, i], {i, n}], {n, 47}] (* or *)
```
```Mathematica
With[{nn = 46}, {0}~Join~Table[First[ListConvolve @@ Transpose@ Take[#, n]], {n, nn}] &@ Table[{n, DivisorSigma[0, n]}, {n, nn}]] (* _Michael De Vlieger_, Feb 18 2017 *)
```
## PARI
```PARI
a(n)=sum(i=1,n, numdiv(i)*(n-i)) \\ _Charles R Greathouse IV_, Feb 18 2017
```
```PARI
a(n)={n--; sqrtint(n)^2*(1/4 * (1+sqrtint(n))^2-n-1) + sum(i=1, sqrtint(n), (n\i)*(2*n + 2 - i*(1+n\i)))} \\ _Andrew Howroyd_, May 31 2020
```
## Python
```Python
from math import isqrt
def A078567(n):
    m = isqrt(n-1)
    return m**2*(1+m)**2//4-m**2*n+sum((n-1)//i*(2*n-i*(1+(n-1)//i)) for i in range(1,m+1)) # _Chai Wah Wu_, Oct 07 2021
```
