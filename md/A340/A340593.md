# a\(0\) \= 0; for n \> 0, if n appears in the sequence then a\(n\) \= a\(n\-1\) \- lastindex\(n\)  if nonnegative and not already in the sequence, otherwise a\(n\) \= a\(n\-1\) \+ lastindex\(n\), where lastindex\(n\) is the index of the last appearance of n\. Otherwise a\(n\) \= a\(n\-1\) \- n if nonnegative and not already in the sequence, otherwise a\(n\) \= a\(n\-1\) \+ n\.
https://oeis.org/A340593
## JSON
```JSON
[0, 1, 3, 5, 9, 6, 11, 4, 12, 8, 18, 24, 16, 29, 15, 29, 17, 33, 23, 42, 22, 43, 63, 45, 34, 59, 85, 58, 30, 45, 73, 104, 72, 55, 31, 66, 102, 65, 27, 66, 26, 67, 48, 69, 25, 54, 100, 53, 95, 46, 96, 147, 199, 152, 107, 74, 130, 187, 160, 135, 75, 14, 76, 98, 162, 125, 86, 127, 195, 238, 168, 97]
```
## Python
```Python
from itertools import count, islice
def A340593_gen(): # generator of terms
    a, ndict = 0, {0:0}
    yield 0
    for n in count(1):
        yield (a:= (a-m if a>=(m:=ndict[n]) and a-m not in ndict else a+m) if n in ndict else (a-n if a>=n and a-n not in ndict else a+n))
        ndict[a] = n
A340593_list = list(islice(A340593_gen(),30)) # _Chai Wah Wu_, Jun 29 2023
```
