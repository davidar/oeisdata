# The number of steps that n requires to reach 1 under the map: m \-\> m/2 if m is even, m\-\> 3\*m \+ 1 if m is an odd prime, otherwise m \-\> m \- 1\. a\(n\) \= \-1 if 1 is never reached\.
https://oeis.org/A340420
## JSON
```JSON
[0, 1, 7, 2, 5, 8, 16, 3, 4, 6, 14, 9, 9, 17, 18, 4, 12, 5, 20, 7, 8, 15, 16, 10, 11, 10, 11, 18, 18, 19, 19, 5, 6, 13, 14, 6, 21, 21, 22, 8, 22, 9, 9, 16, 17, 17, 17, 11, 12, 12, 13, 11, 11, 12, 13, 19, 20, 19, 32, 20, 20, 20, 21, 6, 7, 7, 27, 14, 15, 15, 15]
```
## Maple
```Maple
a:= proc(n) option remember; `if`(n=1, 0, 1 + a(
     `if`(n::even, n/2, `if`(isprime(n), 3*n+1, n-1))))
    end:
seq(a(n), n=1..100);  # _Alois P. Heinz_, Jan 08 2021
```
## Mathematica
```Mathematica
a[n_] := a[n] = If[n == 1, 0, 1 + a[
```
```Mathematica
   If[EvenQ[n], n/2, If[PrimeQ[n], 3n+1, n-1]]]];
```
```Mathematica
Array[a, 100] (* _Jean-FranÃ§ois Alcover_, Jan 30 2021, after _Alois P. Heinz_ *)
```
## Python
```Python
from sympy import isprime
for n in range(1, 101):
    ct, m = 0, n
    while m > 1:
        if m%2 == 0: m /= 2
        elif isprime(m) == 1: m = 3*m + 1
        else: m -= 1
        ct += 1
    print(ct)
```
## PARI
```PARI
f(n) = if (n % 2, if (isprime(n), 3*n+1, n-1), n/2);
a(n) = my(s=n, c=0); while(s>1, s=f(s); c++); c; \\ _Michel Marcus_, Jan 21 2021
```
