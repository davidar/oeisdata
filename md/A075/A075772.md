# Difference between the n\-th perfect power and the closest perfect power\.
https://oeis.org/A075772
## JSON
```JSON
[3, 3, 1, 1, 7, 2, 2, 4, 4, 13, 15, 17, 19, 4, 3, 3, 16, 25, 20, 9, 9, 13, 13, 33, 19, 18, 18, 39, 41, 28, 17, 17, 47, 49, 51, 53, 55, 57, 59, 39, 24, 24, 65, 67, 69, 35, 35, 38, 75, 77, 79, 47, 36, 36, 85, 87, 23, 23, 68, 10, 10, 12, 95, 97, 99, 101, 40, 40, 65, 107, 100, 11, 11]
```
## Mathematica
```Mathematica
pp = {-2, 1}; Do[ If[ !PrimeQ[n] && Apply[GCD, Last[ Transpose[ FactorInteger[n]]]] > 1, pp = Append[pp, n]], {n, 2, 10^4}]; Table[ Min[pp[[n + 1]] - pp[[n]], pp[[n + 2]] - pp[[n + 1]]], {n, 1, 75}]
```
```Mathematica
perfPQ[n_]:=GCD@@FactorInteger[n][[All,2]]>1;Join[{3,3},Min[ Differences[ #]]&/@Partition[Select[Range[5000],perfPQ],3,1]] (* _Harvey P. Dale_, May 04 2021 *)
```
## PARI
```PARI
for(n=L=3+P=-2,99,ispower(n)&&print1(min(-P+P=L,-L+L=n)",")) \\ Note: ispower(1)=0. - _M. F. Hasler_, May 08 2018
```
## Python
```Python
from sympy import mobius, integer_nthroot
def A075772(n):
    if n == 1: return 3
    def f(x): return int(n-2+x+sum(mobius(k)*(integer_nthroot(x,k)[0]-1) for k in range(2,x.bit_length())))
    def bisection(f,kmin=0,kmax=1):
        while f(kmax) > kmax: kmax <<= 1
        while kmax-kmin > 1:
            kmid = kmax+kmin>>1
            if f(kmid) <= kmid:
                kmax = kmid
            else:
                kmin = kmid
        return kmax
    a = bisection(f,n-1,n-1)
    b = bisection(lambda x:f(x)+1,a,a)
    return min(b-a,bisection(lambda x:f(x)+2,b,b)-b) # _Chai Wah Wu_, Sep 09 2024
```
