# Lexicographically earliest sequence of positive integers in which, for all positive k, there are exactly k pairs of consecutive terms whose product is k\.
https://oeis.org/A307720
## JSON
```JSON
[1, 1, 2, 1, 3, 1, 3, 2, 2, 2, 2, 2, 3, 2, 3, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 2, 4, 2, 4, 2, 4, 2, 4, 3, 4, 3, 4, 3, 4, 3, 4, 3, 4, 3, 5, 1, 5, 1, 5, 1, 7, 1, 7, 1, 7, 1, 7, 2, 5, 2, 5, 2, 5, 2, 5, 2, 5, 2, 7, 2, 7, 2, 7, 2, 7, 2, 7, 2, 7, 2, 7, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 5, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 6, 3, 7, 3, 7, 3, 7, 3, 7, 3, 7, 3, 7, 3, 7, 3, 7, 3, 7, 3, 7, 3, 8, 2, 8]
```
## Mathematica
```Mathematica
nmax = 1000; time = {0}; v = 1;
```
```Mathematica
A307720 = Reap[For[n = 1, n <= nmax, n++, Sow[v]; For[o = 1, True, o++, While[Length[time] < o*v, time = Join[time, Table[0, {Length[time]}]]]; If[time[[o*v]]+1 <= o*v, time[[o*v]]++; v = o; Break[]]]]][[2, 1]] (* _Jean-François Alcover_, Oct 23 2021, after _Rémy Sigrist_'s PARI program *)
```
## Python
```Python
from itertools import islice
from collections import Counter
def A307720(): # generator of terms. Greedy algorithm
    yield 1
    c, b = Counter(), 1
    while True:
        k, kb = 1, b
        while c[kb] >= kb:
            k += 1
            kb += b
        c[kb] += 1
        b = k
        yield k
A307720_list = list(islice(A307720(),100)) # _Chai Wah Wu_, Oct 21 2021
```
