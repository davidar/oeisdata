# Exponents of the final nontrivial entry of the iterated Stern sequence; a\(n\) \= log\_2 min\{s^k\(n\) : k \> 0, s^k\(n\) \> 1\}, where s\(n\) \= A002487\(n\)\.
https://oeis.org/A319864
## JSON
```JSON
[1, 1, 2, 1, 1, 1, 3, 2, 1, 1, 1, 1, 1, 2, 4, 1, 2, 1, 1, 3, 1, 1, 1, 1, 1, 3, 1, 1, 2, 1, 5, 1, 1, 2, 2, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 2, 2, 1, 1, 6, 1, 1, 1, 1, 1, 2, 1, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 1, 2, 1, 1, 1, 1, 1, 4, 2, 1, 1, 1, 2, 4, 1, 1, 1, 1, 1, 2, 1, 3, 3, 1, 1]
```
## Mathematica
```Mathematica
s[n_] := If[n<2, n, If[EvenQ[n], s[n/2], s[(n-1)/2] + s[(n+1)/2]]];  a[n_] := Module[{nn = s[n]}, If[nn==1, Log2[n], a[nn]]]; Array[a, 100, 2] (* _Amiram Eldar_, Nov 22 2018 *)
```
## Python
```Python
from math import log
def s(n): return n if n<2 else s(n//2) if n%2==0 else s((n-1)//2)+s((n+1)//2)
def a(n): nn = s(n); return int(log(n,2)) if nn==1 else a(nn)
print([a(n) for n in range(2, 100)])
```
```Python
from functools import reduce
def A319864(n):
    while (m:=sum(reduce(lambda x,y:(x[0],x[0]+x[1]) if int(y) else (x[0]+x[1],x[1]),bin(n)[-1:2:-1],(1,0)))) > 1:
        n = m
    return n.bit_length()-1 # _Chai Wah Wu_, May 18 2023
```
## PARI
```PARI
s(n) = if( n<2, n>0, s(n\2) + if( n%2, s(n\2 + 1))); \\ A002487
a(n) = while((nn = s(n)) != 1, n = nn); valuation(n, 2); \\ _Michel Marcus_, Nov 23 2018
```
