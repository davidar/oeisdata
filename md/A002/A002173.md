# a\(n\) \= Sum\_\{d\|n, d \=\= 1 mod 4\} d^2 \- Sum\_\{d\|n, d \=\= 3 mod 4\} d^2\.
https://oeis.org/A002173
## JSON
```JSON
[1, 1, -8, 1, 26, -8, -48, 1, 73, 26, -120, -8, 170, -48, -208, 1, 290, 73, -360, 26, 384, -120, -528, -8, 651, 170, -656, -48, 842, -208, -960, 1, 960, 290, -1248, 73, 1370, -360, -1360, 26, 1682, 384, -1848, -120, 1898, -528, -2208, -8, 2353, 651, -2320, 170]
```
## Maple
```Maple
with(numtheory):
A002173:= proc(n)
    local count1, count3, d;
    count1 := 0:
    count3 := 0:
    for d in numtheory[divisors](n) do
        if d mod 4 = 1 then
            count1 := count1+d^2
        elif d mod 4 = 3 then
            count3 := count3+d^2
        fi:
    end do:
    count1-count3;
end proc: # _Ridouane Oudra_, Feb 21 2023
# second Maple program:
a:= n-> add(`if`(d::odd, d^2*(-1)^((d-1)/2), 0), d=numtheory[divisors](n)):
seq(a(n), n=1..100);  # _Ridouane Oudra_, Feb 21 2023
```
## Mathematica
```Mathematica
QP = QPochhammer; s = (1-QP[q]^4*(QP[q^2]^6/QP[q^4]^4))/(4*q) + O[q]^60; CoefficientList[s, q] (* _Jean-Fran√ßois Alcover_, Nov 27 2015 *)
```
```Mathematica
a[ n_] := SeriesCoefficient[ (1 - EllipticTheta[ 4, 0, q]^2 EllipticTheta[ 4, 0, q^2]^4) / 4, {q, 0, n}]; (* _Michael Somos_, Jun 25 2019 *)
```
```Mathematica
f[p_, e_] := If[Mod[p, 4] == 1, ((p^2)^(e+1)-1)/(p^2-1), ((-p^2)^(e+1)-1)/(-p^2-1)]; f[2, e_] := 1; a[1] = 1; a[n_] := Times @@ f @@@ FactorInteger[n]; Array[a, 60] (* _Amiram Eldar_, Aug 28 2023 *)
```
## PARI
```PARI
{a(n) = if( n<1, 0, sumdiv(n, d, d^2 * kronecker(-4, d)))} /* _Michael Somos_, Aug 09 2006 */
```
## Haskell
```Haskell
a002173 n = a050450 n - a050453 n  -- _Reinhard Zumkeller_, Jun 17 2013
```
## Python
```Python
from math import prod
from sympy import factorint
def A002173(n): return prod(((m:=p**2*(0,1,0,-1)[p&3])**(e+1)-1)//(m-1) for p, e in factorint(n).items()) # _Chai Wah Wu_, Jun 21 2024
```
