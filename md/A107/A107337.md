# Substitution 1\-\>\{1, 2, 1, 3, 2, 3, 1\}, 2\-\>\{3\}, 3\-\>\{1\}, starting with 1\.
https://oeis.org/A107337
## JSON
```JSON
[1, 2, 1, 3, 2, 3, 1, 3, 1, 2, 1, 3, 2, 3, 1, 1, 3, 1, 1, 2, 1, 3, 2, 3, 1, 1, 1, 2, 1, 3, 2, 3, 1, 3, 1, 2, 1, 3, 2, 3, 1, 1, 3, 1, 1, 2, 1, 3, 2, 3, 1, 1, 2, 1, 3, 2, 3, 1, 1, 1, 2, 1, 3, 2, 3, 1, 1, 2, 1, 3, 2, 3, 1, 3, 1, 2, 1, 3, 2, 3, 1, 1, 3, 1, 1, 2, 1, 3, 2, 3, 1, 1, 2, 1, 3, 2, 3, 1, 1, 2, 1, 3, 2, 3, 1]
```
## Mathematica
```Mathematica
s[1] = {1, 2, 1, 3, 2, 3, 1}; s[2] = {3}; s[3] = {1}; t[a_] := Flatten[s /@ a]; p[0] = {1}; p[1] = t[p[0]]; p[n_] := t[p[n - 1]] aa = p[4]
```
## Python
```Python
from itertools import chain
A107337 = [1]
for _ in range(4):
....A107337 = list(chain.from_iterable(([1,2,1,3,2,3,1] if d == 1 else [3] if d == 2 else [1] for d in A107337)))
# _Chai Wah Wu_, Sep 03 2014
```
