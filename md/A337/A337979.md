# Define a map f\(n\):\= n\-\> n \+ pi\(n\) \- pi\(n \+ pi\(n\)\), where pi\(n\) is the prime count of n \(n\>\=1\)\. a\(n\) is the number of steps for n to reach 1 under repeated iteration of f\.
https://oeis.org/A337979
## JSON
```JSON
[0, 1, 2, 3, 4, 5, 6, 7, 7, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 14, 14, 15, 15, 16, 16, 17, 17, 17, 18, 18, 19, 19, 19, 20, 20, 20, 21, 21, 21, 22, 22, 22, 23, 23, 23, 24, 24, 24, 25, 25, 25, 25, 26, 26, 26, 26, 26, 27, 27, 27, 27, 28, 28, 28, 28, 28, 29, 29]
```
## Maple
```Maple
a:= proc(n) option remember; `if`(n=1, 0, 1+a((
      pi-> n+pi(n)-pi(n+pi(n)))(numtheory[pi])))
    end:
seq(a(n), n=1..80);  # _Alois P. Heinz_, Oct 24 2020
```
## Mathematica
```Mathematica
f[n_] := Module[{x = n + PrimePi[n]}, x - PrimePi[x]];
```
```Mathematica
a[n_] := Module[{nb = 0, m = n}, While[m != 1, m = f[m]; nb++]; nb];
```
```Mathematica
Array[a, 100] (* _Jean-FranÃ§ois Alcover_, Oct 24 2020, after PARI code *)
```
## Python
```Python
from sympy import primepi
print(0)
n = 2
for n in range (2, 10000001):
    ct = 0
    n_l = n
    pi_l = primepi(n)
    while ct >= 0:
        n_r = n_l + pi_l
        pi_r = primepi(n_r)
        n_l = n_r - pi_r
        pi_l = primepi(n_l)
        ct += 1
        if n_l == 1:
            print(ct)
            break
```
## PARI
```PARI
f(n) = {my(x = n + primepi(n)); x - primepi(x);} \\ A337978
a(n) = {my(nb=0); while (n != 1, n = f(n); nb++); nb;} \\ _Michel Marcus_, Oct 06 2020
```
