# Permutation of natural numbers: a\(n\) \= \(A003961\(n\)\+1\) / 2 \[where A003961\(n\) shifts the prime factorization of n one step towards larger primes\]\.
https://oeis.org/A048673
## JSON
```JSON
[1, 2, 3, 5, 4, 8, 6, 14, 13, 11, 7, 23, 9, 17, 18, 41, 10, 38, 12, 32, 28, 20, 15, 68, 25, 26, 63, 50, 16, 53, 19, 122, 33, 29, 39, 113, 21, 35, 43, 95, 22, 83, 24, 59, 88, 44, 27, 203, 61, 74, 48, 77, 30, 188, 46, 149, 58, 47, 31, 158, 34, 56, 138, 365, 60, 98, 36, 86, 73]
```
## Maple
```Maple
f:= proc(n)
local F,q,t;
  F:= ifactors(n)[2];
  (1 + mul(nextprime(t[1])^t[2], t = F))/2
end proc:
seq(f(n),n=1..1000); # _Robert Israel_, Jan 15 2015
```
## Mathematica
```Mathematica
Table[(Times @@ Power[If[# == 1, 1, NextPrime@ #] & /@ First@ #, Last@ #] + 1)/2 &@ Transpose@ FactorInteger@ n, {n, 69}] (* _Michael De Vlieger_, Dec 18 2014, revised Mar 17 2016 *)
```
## Haskell
```Haskell
a048673 = (`div` 2) . (+ 1) . a045965
-- _Reinhard Zumkeller_, Jul 12 2012
```
## PARI
```PARI
A003961(n) = my(f = factor(n)); for (i=1, #f~, f[i, 1] = nextprime(f[i, 1]+1)); factorback(f); \\ From A003961
A048673(n) = (A003961(n)+1)/2; \\ _Antti Karttunen_, Dec 20 2014
```
```PARI
A048673(n) = if(1==n,n,if(n%2,A253888(A048673((n-1)/2)),(3*A048673(n/2))-1)); \\ (Not practical, but demonstrates the construction as a binary tree). - _Antti Karttunen_, Feb 10 2021
```
## Scheme
```Scheme
(define (A048673 n) (/ (+ 1 (A003961 n)) 2)) ;; _Antti Karttunen_, Dec 20 2014
```
## Python
```Python
from sympy import factorint, nextprime, prod
def a(n):
    f = factorint(n)
    return 1 if n==1 else (1 + prod(nextprime(i)**f[i] for i in f))//2 # _Indranil Ghosh_, May 09 2017
```
