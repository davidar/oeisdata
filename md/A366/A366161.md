# The number of ways to express n^n in the form a^b for integers a and b\.
https://oeis.org/A366161
## JSON
```JSON
[3, 2, 7, 2, 6, 2, 14, 9, 6, 2, 10, 2, 6, 4, 13, 2, 9, 2, 10, 4, 6, 2, 14, 9, 6, 5, 10, 2, 12, 2, 22, 4, 6, 4, 21, 2, 6, 4, 14, 2, 12, 2, 10, 6, 6, 2, 18, 9, 9, 4, 10, 2, 12, 4, 14, 4, 6, 2, 20, 2, 6, 6, 30, 4, 12, 2, 10, 4, 12, 2, 21, 2, 6, 6, 10, 4, 12, 2, 18, 25, 6, 2, 20, 4, 6, 4, 14]
```
## Maple
```Maple
a:= n-> add(2-irem(d, 2), d=numtheory[divisors](
       igcd(map(i-> i[2], ifactors(n)[2])[])*n)):
seq(a(n), n=2..100);  # _Alois P. Heinz_, Oct 02 2023
```
## Mathematica
```Mathematica
intPowCount[n_] := Module[{m, F, i, t},
  m = n (GCD @@ FactorInteger[n][[All, 2]]);
  t = 0;
  While[Mod[m, 2] == 0,
   t++;
   m = m/2];
  t = 2 t + 1;
  F = FactorInteger[m][[All, 2]];
  If[m > 1,
   For[i = 1, i <= Length[F], i++,
     t = t (F[[i]] + 1)];
   ];
  Return[t]]
```
## Python
```Python
from math import gcd
from sympy import divisor_count, factorint
def A366161(n): return divisor_count((m:=n*gcd(*factorint(n).values()))>>(t:=(m-1&~m).bit_length()))*(t<<1|1) # _Chai Wah Wu_, Oct 04 2023
```
