# a\(n\) is the positive integer k such that the k\-th derivative of the n\-th Bernoulli polynomial B\(n, x\) contains only integer coefficients but no lower derivative of B\(n, x\) has this property\.
https://oeis.org/A366189
## JSON
```JSON
[1, 1, 2, 1, 2, 1, 2, 3, 2, 1, 2, 1, 2, 3, 2, 2, 3, 3, 4, 3, 2, 3, 4, 5, 2, 3, 4, 1, 2, 1, 2, 3, 4, 5, 3, 1, 2, 3, 4, 5, 6, 3, 4, 5, 4, 5, 6, 7, 5, 3, 4, 3, 4, 5, 2, 3, 2, 3, 4, 1, 2, 3, 4, 5, 6, 3, 4, 4, 5, 2, 3, 3, 4, 5, 6, 7, 6, 3, 4, 3, 4, 5, 6, 5, 6, 7]
```
## Maple
```Maple
aList := proc(len) local n, k, d, A;
    A := Array([seq(0, n = 0..len-1)]);
    for n from 1 to len do
       k := 0: d:= 0;
       while d <> 1 do
          k := k + 1;
          d := denom(diff(bernoulli(n, x), `$`(x, k)));
       od;
       A[n] := k;
    od;
convert(A, list) end:
aList(86);
```
## Mathematica
```Mathematica
a[n_] := Module[{b, k, x}, b = BernoulliB[n, x]; For[k = 1, True, k++, b = D[b, x]; If[AllTrue[CoefficientList[b, x], IntegerQ], Return[k]]]];
```
```Mathematica
Table[a[n], {n, 1, 100}] (* _Jean-Fran√ßois Alcover_, Oct 23 2023 *)
```
## Python
```Python
from itertools import count
from sympy import Poly, bernoulli, diff
from sympy.abc import x
def A366189(n):
    p = Poly(bernoulli(n,x))
    for i in count(1):
        p = diff(p)
        if all(c.is_integer for c in p.coeffs()):
            return i # _Chai Wah Wu_, Oct 03 2023
```
## Sage
```Sage
def A366189List(len):
    A = [0 for _ in range(len)]
    P.<x> = ZZ[]
    for n in range(len):
        ber = bernoulli_polynomial(x, n + 1)
        k = 0
        while True:
            k = k + 1
            ber = diff(ber, x)
            if ber.denominator() == 1:
                A[n] = k; break
    return A
print(A366189List(86))  # _Peter Luschny_, Oct 04 2023
```
