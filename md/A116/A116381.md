# Number of compositions of n which are prime when concatenated and read as a decimal string\.
https://oeis.org/A116381
## JSON
```JSON
[0, 2, 1, 3, 7, 0, 29, 27, 0, 90, 236, 0, 758, 1039, 0, 3949, 9325, 0, 32907, 51243, 0, 184458, 426372, 0, 1552101, 2537233, 0, 9526385, 21117111, 0, 78112040, 134568638, 0, 505079269, 1096046406, 0]
```
## Mathematica
```Mathematica
f[n_] := If[n > 5 && Mod[n, 3] == 0, 0, Block[{len = PartitionsP@ n, p = IntegerPartitions[n], c = 0}, Do[c = c + Length@ Select[ FromDigits /@ Join @@@ IntegerDigits /@ Permutations@ p[[i]], PrimeQ@# &], {i, len}]; c]]; Array[f, 28] (* _Robert G. Wilson v_, Aug 03 2012 *)
```
## Python
```Python
from sympy import isprime
from sympy.utilities.iterables import partitions, multiset_permutations
def a(n):
    c = 0
    for p in partitions(n):
        plst = [k for k in p for _ in range(p[k])]
        s = sum(sum(map(int, str(pi))) for pi in plst)
        if s != 3 and s%3 == 0: continue
        for m in multiset_permutations(plst):
            if isprime(int("".join(map(str, m)))):
                c += 1
    return c
print([a(n) for n in range(1, 22)]) # _Michael S. Branicky_, Nov 19 2022
```
```Python
from collections import Counter
from sympy.utilities.iterables import partitions, multiset_permutations
from sympy import isprime
def A116381(n): return sum(1 for p in partitions(n) for a in multiset_permutations(Counter(p).elements()) if isprime(int(''.join(str(d) for d in a)))) if n==3 or n%3 else 0 # _Chai Wah Wu_, Feb 21 2024
```
